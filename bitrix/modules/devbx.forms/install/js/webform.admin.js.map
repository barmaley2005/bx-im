{"version":3,"file":"webform.admin.js","sources":["../../srcjs/vue-webform-admin/core.js","../../srcjs/vue-webform-admin/components/devbx.webform.master.js","../../srcjs/vue-webform-admin/components/devbx.webform.store.js","../../srcjs/vue-webform-admin/components/devbx.webform.constructor.js","../../srcjs/vue-webform-admin/components/devbx.webform.master.menu.js","../../srcjs/vue-webform-admin/components/devbx.webform.settings.js","../../srcjs/vue-webform-admin/components/form-settings/devbx.webform.settings.general.js","../../srcjs/vue-webform-admin/components/form-settings/devbx.webform.finish.page.cond.js","../../srcjs/vue-webform-admin/components/form-settings/devbx.webform.finish.page.js","../../srcjs/vue-webform-admin/components/form-settings/devbx.webform.form.settings.js","../../srcjs/vue-webform-admin/components/devbx.webform.left.panel.js","../../srcjs/vue-webform-admin/components/devbx.webform.form.page.js","../../srcjs/vue-webform-admin/components/devbx.webform.form.row.js","../../srcjs/vue-webform-admin/components/devbx.webform.caption.js","../../srcjs/vue-webform-admin/components/webform-fields/devbx.webform.separator.js","../../srcjs/vue-webform-admin/components/webform-fields/devbx.webform.text.field.js","../../srcjs/vue-webform-admin/components/webform-fields/devbx.webform.selectbox.field.js","../../srcjs/vue-webform-admin/components/webform-fields/devbx.webform.html.field.js","../../srcjs/vue-webform-admin/components/webform-fields/devbx.webform.range.field.js","../../srcjs/vue-webform-admin/components/webform-fields/devbx.webform.select.options.field.js","../../srcjs/vue-webform-admin/components/webform-fields/devbx.webform.bool.field.js","../../srcjs/vue-webform-admin/components/webform-fields/devbx.webform.number.field.js","../../srcjs/vue-webform-admin/components/webform-fields/devbx.webform.multiselect.js","../../srcjs/vue-webform-admin/components/webform-fields/devbx.webform.customselect.js","../../srcjs/vue-webform-admin/components/field-cond/cond-core.js","../../srcjs/vue-webform-admin/components/field-cond/cond-string.js","../../srcjs/vue-webform-admin/components/field-cond/cond-array.js","../../srcjs/vue-webform-admin/components/field-cond/cond-date.js","../../srcjs/vue-webform-admin/components/field-cond/cond-datetime.js","../../srcjs/vue-webform-admin/components/field-cond/cond-time.js","../../srcjs/vue-webform-admin/components/field-cond/cond-files.js","../../srcjs/vue-webform-admin/components/field-cond/cond-boolean.js","../../srcjs/vue-webform-admin/components/field-cond/cond-number.js","../../srcjs/vue-webform-admin/components/field-cond/cond-enum.js","../../srcjs/vue-webform-admin/components/field-cond/cond.js","../../srcjs/vue-webform-admin/components/field-cond/devbx.webform.cond.js","../../srcjs/vue-webform-admin/components/field-cond/devbx.webform.cond.group.js","../../srcjs/vue-webform-admin/components/field-cond/devbx.webform.cond.string.js","../../srcjs/vue-webform-admin/components/field-cond/devbx.webform.cond.array.js","../../srcjs/vue-webform-admin/components/field-cond/devbx.webform.cond.date.js","../../srcjs/vue-webform-admin/components/field-cond/devbx.webform.cond.number.js","../../srcjs/vue-webform-admin/components/field-cond/devbx.webform.cond.basic.js","../../srcjs/vue-webform-admin/components/field-cond/devbx.webform.cond.code.js","../../srcjs/vue-webform-admin/components/field-cond/devbx.webform.cond.enum.js","../../srcjs/vue-webform-admin/components/field-cond/devbx.webform.popup.condition.wizard.js","../../srcjs/vue-webform-admin/components/field-cond/devbx.webform.condition.js","../../srcjs/vue-webform-admin/components/devbx.form.empty.cell.js","../../srcjs/vue-webform-admin/components/devbx.form.layout.toolbar.js","../../srcjs/vue-webform-admin/components/devbx.form.panel.item.js","../../srcjs/vue-webform-admin/components/fields/field.mixin.js","../../srcjs/vue-webform-admin/components/fields/devbx.form.layout.field.text.js","../../srcjs/vue-webform-admin/components/fields/devbx.form.layout.field.choice.js","../../srcjs/vue-webform-admin/components/fields/devbx.form.layout.field.date.js","../../srcjs/vue-webform-admin/components/fields/devbx.form.layout.field.boolean.js","../../srcjs/vue-webform-admin/components/fields/devbx.form.layout.field.number.js","../../srcjs/vue-webform-admin/components/fields/devbx.form.layout.field.email.js","../../srcjs/vue-webform-admin/components/fields/devbx.form.layout.field.file.upload.js","../../srcjs/vue-webform-admin/components/data-fields/devbx.webform.iblock.filter.cond.js","../../srcjs/vue-webform-admin/components/data-fields/devbx.webform.popup.iblock.section.filter.js","../../srcjs/vue-webform-admin/components/data-fields/devbx.webform.iblock.section.filter.field.js","../../srcjs/vue-webform-admin/components/data-fields/devbx.form.layout.field.iblock.section.js","../../srcjs/vue-webform-admin/components/fields/devbx.form.layout.section.js","../../srcjs/vue-webform-admin/components/fields/devbx.form.layout.content.js","../../srcjs/vue-webform-admin/components/devbx.webform.pages.actions.js","../../srcjs/vue-webform-admin/components/devbx.webform.form.actions.js","../../srcjs/vue-webform-admin/components/devbx.webform.form.prev.page.button.js","../../srcjs/vue-webform-admin/components/devbx.webform.form.next.page.button.js","../../srcjs/vue-webform-admin/components/devbx.webform.form.submit.button.js","../../srcjs/vue-webform-admin/components/devbx.webform.public.admin.panel.js","../../srcjs/vue-webform-admin/components/devbx.webform.admin.actions.js"],"sourcesContent":["export class WebFormLayoutItems {\r\n    constructor(app) {\r\n        this.app = app;\r\n        this.items = [];\r\n    }\r\n\r\n    addLayout(maxRowSize, config = {}) {\r\n        let layout = new WebFormLayout(this.app, maxRowSize, config);\r\n\r\n        this.items.push(layout);\r\n\r\n        return layout;\r\n    }\r\n\r\n    deleteLayout(layout)\r\n    {\r\n        let idx = this.items.indexOf(layout);\r\n\r\n        if (idx<0)\r\n        {\r\n            console.error('invalid layout index');\r\n            return;\r\n        }\r\n\r\n        this.deleteLayoutByIndex(idx);\r\n    }\r\n\r\n    deleteLayoutByIndex(index)\r\n    {\r\n        if (index<0 || index>=this.items.length)\r\n        {\r\n            console.error('invalid layout index');\r\n            return;\r\n        }\r\n\r\n        let layout = this.items[index];\r\n\r\n        this.items.splice(index,1);\r\n\r\n        layout.beforeDestroy();\r\n    }\r\n\r\n    getAllItems() {\r\n        let result = [];\r\n\r\n        this.items.forEach((page, pageNum) => {\r\n            page.rows.forEach((row, rowNum) => {\r\n                result.push(...row.items);\r\n            });\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    getItemById(id, full = false) {\r\n        let result = false;\r\n\r\n        this.items.every((page, pageNum) => {\r\n\r\n            page.rows.every((row, rowNum) => {\r\n\r\n                row.items.every((item, index) => {\r\n\r\n                    if (item.id === id) {\r\n                        result = full ? {item: item, index: index} : item;\r\n                    }\r\n\r\n                    return result === false;\r\n                });\r\n\r\n                if (result !== false && full) {\r\n                    result.row = row;\r\n                    result.rowNum = rowNum;\r\n                }\r\n\r\n                return result === false;\r\n            });\r\n\r\n            if (result !== false && full) {\r\n                result.page = page;\r\n                result.pageNum = pageNum;\r\n            }\r\n\r\n            return result === false;\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    getFields()\r\n    {\r\n        let result = [];\r\n\r\n        this.items.forEach(page => {\r\n            result.push(...page.getFields());\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n}\r\n\r\nexport class WebFormPages {\r\n\r\n    constructor(app) {\r\n        this.app = app;\r\n        this.items = [];\r\n    }\r\n\r\n    addLayout(maxRowSize, config = {}) {\r\n        let layout = this.app.layoutItems.addLayout(maxRowSize, config);\r\n\r\n        this.items.push(layout);\r\n\r\n        return layout;\r\n    }\r\n\r\n    getLayoutById(id) {\r\n        let result = false;\r\n\r\n        this.items.every(page => {\r\n            if (page.id == id)\r\n            {\r\n                result = page;\r\n                return false;\r\n            }\r\n\r\n            return true;\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    deleteLayout(layout)\r\n    {\r\n        let index = this.items.indexOf(layout);\r\n\r\n        if (index<0)\r\n        {\r\n            console.error('invalid layout index');\r\n            return;\r\n        }\r\n\r\n        this.deleteLayoutByIndex(index);\r\n    }\r\n\r\n    deleteLayoutByIndex(index) {\r\n        if (index<0 || index>=this.items.length)\r\n        {\r\n            console.error('invalid layout index');\r\n            return;\r\n        }\r\n\r\n        let layout = this.items[index];\r\n\r\n        this.items.splice(index, 1);\r\n\r\n        this.app.layoutItems.deleteLayout(layout);\r\n    }\r\n}\r\n\r\nexport class WebFormLayout {\r\n    constructor(app, maxRowSize, config) {\r\n        this._app = app;\r\n        this._id = this.app.getNewItemId();\r\n        this._rows = [];\r\n        this._maxRowSize = maxRowSize;\r\n        this._config = config;\r\n        this._parent = false;\r\n        this._children = [];\r\n    }\r\n\r\n    beforeDestroy()\r\n    {\r\n        this._rows.forEach(row => {\r\n            row.beforeDestroy();\r\n        })\r\n\r\n        this._children.forEach(child => {\r\n            child.parent = false;\r\n        });\r\n\r\n        this._rows = [];\r\n        this._app = false;\r\n        this._id = false;\r\n        this._maxRowSize = false;\r\n        this._config = false;\r\n        this._parent = false;\r\n        this._children = [];\r\n    }\r\n\r\n    get app() {\r\n        return this._app;\r\n    }\r\n\r\n    get id() {\r\n        return this._id\r\n    }\r\n\r\n    get rows() {\r\n        return this._rows;\r\n    }\r\n\r\n    get maxRowSize() {\r\n        return this._maxRowSize;\r\n    }\r\n\r\n    set maxRowSize(value)\r\n    {\r\n        this._maxRowSize = value;\r\n    }\r\n\r\n    get config()\r\n    {\r\n        return this._config;\r\n    }\r\n\r\n    set config(value)\r\n    {\r\n        this._config = value;\r\n    }\r\n\r\n    get parent()\r\n    {\r\n        return this._parent;\r\n    }\r\n\r\n    set parent(value)\r\n    {\r\n        if (this._parent)\r\n        {\r\n            this._parent.removeChild(this);\r\n        }\r\n\r\n        this._parent = value;\r\n\r\n        if (this._parent)\r\n        {\r\n            this._parent.addChild(this);\r\n        }\r\n    }\r\n\r\n    addChild(child)\r\n    {\r\n        if (this._children.indexOf(child)>=0)\r\n            throw new Error('Already have this child');\r\n\r\n        this._children.push(child);\r\n    }\r\n\r\n    removeChild(child)\r\n    {\r\n        let idx = this._children.indexOf(child);\r\n\r\n        if (idx === -1)\r\n            throw new Error('Not have this child');\r\n\r\n        this._children.splice(idx, 1);\r\n    }\r\n\r\n    addRow(index = -1) {\r\n        let row = new WebFormRow(this.app, this);\r\n\r\n        if (index === -1) {\r\n            this.rows.push(row);\r\n        } else {\r\n            this.rows.splice(index, 0, row);\r\n        }\r\n\r\n        return row;\r\n    }\r\n\r\n    checkAlignmentItems() {\r\n        for (let i = 0; i < this.rows.length;) {\r\n            let row = this.rows[i];\r\n\r\n            /* если в ряду нету элементов и это не последний ряд то удаляем его */\r\n\r\n            if (row.items.length === 0 && i < this.rows.length - 1) {\r\n                this.deleteRowByIndex(i);\r\n                continue;\r\n            }\r\n\r\n            let leftCell = this.app.maxRowSize,\r\n                itemEmptyCell = false;\r\n\r\n            row.items.forEach(item => {\r\n\r\n                if (item.template === this.app.emptyCellTemplate) {\r\n                    if (itemEmptyCell && itemEmptyCell.size > 0) {\r\n                        itemEmptyCell.size = 0;\r\n                        this.app.delayRemoveItem(itemEmptyCell.id, 300);\r\n                    }\r\n\r\n                    itemEmptyCell = item;\r\n                } else {\r\n                    let newSize = item.size;\r\n\r\n                    if (item.minSize>newSize)\r\n                    {\r\n                        newSize = item.minSize;\r\n                    }\r\n\r\n                    if (newSize>leftCell)\r\n                    {\r\n                        newSize = leftCell;\r\n                    }\r\n\r\n                    item.size = newSize;\r\n\r\n                    leftCell -= item.size;\r\n                }\r\n\r\n            });\r\n\r\n            if (!itemEmptyCell) {\r\n                itemEmptyCell = this.app.getNewEmptyCell(leftCell);\r\n                itemEmptyCell.size = leftCell;\r\n                itemEmptyCell.setParent(row);\r\n                row.items.push(itemEmptyCell);\r\n            } else {\r\n                itemEmptyCell.size = leftCell;\r\n            }\r\n\r\n            if (i < this.rows.length - 1 && row.items.length === 1 && row.items[0].template === this.app.emptyCellTemplate) {\r\n                this.deleteRowByIndex(i);\r\n                continue;\r\n            }\r\n\r\n            i++;\r\n        }\r\n\r\n        if (!this.rows.length)\r\n            this.addRow();\r\n\r\n        let lastRow = this.rows[this.rows.length - 1];\r\n\r\n        if (!lastRow.items.length)\r\n        {\r\n            let itemEmptyCell = this.app.getNewEmptyCell(this.app.maxRowSize);\r\n\r\n            itemEmptyCell.setParent(lastRow);\r\n            lastRow.items.push(itemEmptyCell);\r\n\r\n            this.app.activeId = itemEmptyCell.id;\r\n        } else {\r\n\r\n            if (lastRow.items[0].template !== this.app.emptyCellTemplate) {\r\n                let itemEmptyCell = this.app.getNewEmptyCell(this.app.maxRowSize),\r\n                    row = this.addRow();\r\n\r\n                itemEmptyCell.setParent(row);\r\n                row.items.push(itemEmptyCell);\r\n\r\n                this.app.activeId = itemEmptyCell.id;\r\n            }\r\n        }\r\n    }\r\n\r\n    getItemById(id, full = false) {\r\n        let result = false;\r\n\r\n        this.rows.every((row, rowNum) => {\r\n\r\n            row.items.every((item, index) => {\r\n\r\n                if (item.id === id) {\r\n                    result = full ? {item: item, index: index} : item;\r\n                }\r\n\r\n                return result === false;\r\n            });\r\n\r\n            if (result !== false && full) {\r\n                result.row = row;\r\n                result.rowNum = rowNum;\r\n            }\r\n\r\n            return result === false;\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    containsItemId(id)\r\n    {\r\n        let result = false;\r\n        this.rows.every(row => {\r\n            row.items.every(item => {\r\n\r\n                result = item.id === id;\r\n                if (result)\r\n                    return false;\r\n\r\n                /*\r\n                если у компонента есть свойтсво layout\r\n                смотри devbx.form.layout.section.js\r\n                 */\r\n\r\n                if (item.component && item.component.childLayout)\r\n                {\r\n                    result = item.component.childLayout.containsItemId(id);\r\n                }\r\n\r\n                return result === false;\r\n            })\r\n\r\n            return result === false;\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    haveUserFieldItems()\r\n    {\r\n        let result = false;\r\n\r\n        this.rows.every(row => {\r\n\r\n            row.items.every(item => {\r\n                result = item.template !== this.app.emptyCellTemplate;\r\n\r\n                return !result;\r\n            });\r\n\r\n            return !result;\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    getData()\r\n    {\r\n        let data = {\r\n            config: JSON.parse(JSON.stringify(this.config)),\r\n            rows: [],\r\n        };\r\n\r\n        this.rows.forEach(row => {\r\n            let rowData = {\r\n                items: [],\r\n            };\r\n\r\n            row.items.forEach(item => {\r\n\r\n                if (item.template === this.app.emptyCellTemplate)\r\n                    return;\r\n\r\n                if (item.component && typeof item.component.saveConfig === 'function')\r\n                {\r\n                    item.component.saveConfig();\r\n                }\r\n\r\n                rowData.items.push({\r\n                    fieldId: item.fieldId,\r\n                    size: item.size,\r\n                    config: JSON.parse(JSON.stringify(item.config)),\r\n                });\r\n            });\r\n\r\n            if (rowData.items.length)\r\n            {\r\n                data.rows.push(rowData);\r\n            }\r\n        });\r\n\r\n        return data;\r\n    }\r\n\r\n    setData(data)\r\n    {\r\n        this.config = data.config || {};\r\n\r\n        this._rows.forEach(row => {\r\n            row.beforeDestroy();\r\n        });\r\n\r\n        this._rows = [];\r\n\r\n        data.rows = data.rows || [];\r\n\r\n        data.rows.forEach(rowData => {\r\n\r\n            let row = this.addRow();\r\n\r\n            rowData.items.forEach(item => {\r\n\r\n                let formElement = this.app.getFormElementById(item.fieldId);\r\n\r\n                if (!formElement)\r\n                {\r\n                    console.error('form element not registered '+item.fieldId);\r\n                    return;\r\n                }\r\n\r\n                let props = item.props ? JSON.parse(JSON.stringify(item.props)) : {},\r\n                    config = item.config ? JSON.parse(JSON.stringify(item.config)) : {};\r\n\r\n                config = Object.assign({}, formElement.data.defaultConfig(), config);\r\n\r\n                let rowItem = row.createItem({\r\n                    component: false,\r\n                    id: this.app.getNewItemId(),\r\n                    fieldId: item.fieldId,\r\n                    template: formElement.data.layoutTemplate,\r\n                    size: item.size,\r\n                    minSize: formElement.data.minSize,\r\n                    props: props,\r\n                    config: config,\r\n                });\r\n\r\n                row.items.push(rowItem);\r\n\r\n                rowItem.checkFieldName();\r\n            });\r\n\r\n        });\r\n    }\r\n\r\n    deleteRow(row)\r\n    {\r\n        let idx = this._rows.indexOf(row);\r\n\r\n        if (idx<0)\r\n        {\r\n            console.error('invalid row index');\r\n            return;\r\n        }\r\n\r\n        this.deleteRowByIndex(idx);\r\n    }\r\n\r\n    deleteRowByIndex(index)\r\n    {\r\n        if (index<0 || index>=this._rows.length)\r\n        {\r\n            console.error('invalid row index');\r\n            return;\r\n        }\r\n\r\n        let row = this._rows[index];\r\n\r\n        this._rows.splice(index, 1);\r\n\r\n        row.beforeDestroy();\r\n    }\r\n\r\n    getAllItems()\r\n    {\r\n        let result = [];\r\n\r\n        this._rows.forEach(row => {\r\n            row.items.forEach(item => {\r\n                result.push(item);\r\n            });\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    _getItemsRecursive(items)\r\n    {\r\n        this._rows.forEach(row => {\r\n            row.items.forEach(item => {\r\n\r\n                if (item.childLayout)\r\n                {\r\n                    item.childLayout._getItemsRecursive(items);\r\n                }\r\n\r\n                items.push(item);\r\n\r\n            });\r\n        });\r\n    }\r\n\r\n    getAllItemsWithParent()\r\n    {\r\n        if (this.parent)\r\n            return this.parent.getAllItemsWithParent();\r\n\r\n        let result = [];\r\n\r\n        this._getItemsRecursive(result);\r\n\r\n        return result;\r\n    }\r\n\r\n    getFields()\r\n    {\r\n        let result = [];\r\n\r\n        this.getAllItems().forEach(item => {\r\n\r\n            if (item.component && typeof item.component.getFields === 'function')\r\n            {\r\n                result.push(...item.component.getFields());\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n}\r\n\r\nexport class WebFormRow {\r\n    constructor(app, layout) {\r\n        this.app = app;\r\n        this.layout = layout;\r\n        this.id = this.app.getNewItemId();\r\n        this.items = [];\r\n    }\r\n\r\n    beforeDestroy()\r\n    {\r\n        this.items.forEach(item => {\r\n            item.beforeDestroy();\r\n        });\r\n\r\n        this.items = [];\r\n        this.app = false;\r\n        this.layout = false;\r\n        this.id = false;\r\n    }\r\n\r\n    deleteRow()\r\n    {\r\n        this.layout.deleteRow(this);\r\n    }\r\n\r\n    getRowMaxReleaseSpace(excludeIndex = -1) {\r\n        let minSize = 0;\r\n\r\n        this.items.forEach((item, index) => {\r\n\r\n            if (index === excludeIndex) {\r\n                minSize += item.size;\r\n            } else {\r\n                minSize += item.minSize;\r\n            }\r\n        });\r\n\r\n        return Math.max(0, this.layout.maxRowSize - minSize);\r\n    }\r\n\r\n    getRowFreeSpace(excludeIndex = -1) {\r\n        let size = 0;\r\n\r\n        this.items.forEach((item, index) => {\r\n\r\n            if (index === excludeIndex || item.template === this.app.emptyCellTemplate)\r\n                return;\r\n\r\n            size += item.size;\r\n        });\r\n\r\n        return Math.max(0, this.layout.maxRowSize - size);\r\n    }\r\n\r\n    rowReleaseSpace(fromItemIndex, needSpace, left = false) {\r\n        let releasedSpace = 0;\r\n\r\n        if (!left) {\r\n            let item = this.items[this.items.length - 1];\r\n\r\n            if (item.template === this.app.emptyCellTemplate) {\r\n                let value = Math.min(needSpace, item.size);\r\n\r\n                if (value > 0) {\r\n                    item.size = item.size - value;\r\n                    needSpace -= value;\r\n                    releasedSpace += value;\r\n                }\r\n            }\r\n        }\r\n\r\n        while (fromItemIndex >= 0 && fromItemIndex < this.items.length && needSpace > 0) {\r\n\r\n            let item = this.items[fromItemIndex];\r\n\r\n            if (item.size > item.minSize) {\r\n                let newSize = item.size - needSpace;\r\n                if (item.minSize > newSize)\r\n                    newSize = item.minSize;\r\n\r\n                releasedSpace += item.size - newSize;\r\n                needSpace -= item.size - newSize;\r\n                item.size = newSize;\r\n            }\r\n\r\n            if (left) {\r\n                fromItemIndex--;\r\n            } else {\r\n                fromItemIndex++;\r\n            }\r\n\r\n        }\r\n\r\n        return releasedSpace;\r\n    }\r\n\r\n    rowReleaseSpaceBoth(fromItemIndex, needSpace) {\r\n        let releasedSpace = this.rowReleaseSpace(fromItemIndex, needSpace);\r\n\r\n        if (releasedSpace < needSpace) {\r\n            releasedSpace += this.rowReleaseSpace(fromItemIndex, needSpace - releasedSpace, true);\r\n        }\r\n\r\n        return releasedSpace;\r\n    }\r\n\r\n    replaceCell(idx, item) {\r\n        let id = item.id;\r\n\r\n        this.items[idx].beforeDestroy();\r\n\r\n        item.setParent(this);\r\n        this.items[idx] = item;\r\n\r\n        this.app.checkPageItems();\r\n        this.app.activeId = id;\r\n\r\n        if (item.minSize > item.size) {\r\n\r\n            let self = this;\r\n\r\n            this.app.$nextTick(function () {\r\n\r\n                let field = self.app.getLayoutItemById(id, true);\r\n\r\n                if (!field)\r\n                    return;\r\n\r\n                field.item.size += self.rowReleaseSpaceBoth(field.index, field.item.minSize - field.item.size);\r\n            });\r\n        }\r\n    }\r\n\r\n    insertFreeSpace(index) {\r\n        let size = Math.min(3, this.getRowMaxReleaseSpace()),\r\n            emptyCell = this.app.getNewEmptyCell(0),\r\n            id = emptyCell.id;\r\n\r\n        emptyCell.setParent(this);\r\n\r\n        emptyCell.checkItems = true;\r\n\r\n        size = this.rowReleaseSpaceBoth(index, size);\r\n        this.items.splice(index, 0, emptyCell);\r\n\r\n        this.app.activeId = emptyCell.id;\r\n\r\n        let self = this;\r\n\r\n        this.app.$nextTick(function () {\r\n            setTimeout(function () {\r\n                self.app.getLayoutItemById(id).size = size;\r\n            }, 0);\r\n        });\r\n    }\r\n\r\n    getItemByCellOffset(offset) {\r\n        let pos = 0, index = 0;\r\n\r\n        while (index < this.items.length) {\r\n            if (offset >= pos && offset < pos + this.items[index].size) {\r\n                return this.items[index];\r\n            }\r\n\r\n            pos += this.items[index].size;\r\n            index++;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    createItem(data) {\r\n        let item = BX.Vue3.reactive(new WebFormItem(this.app, data));\r\n\r\n        item.setParent(this);\r\n\r\n        return item;\r\n    }\r\n\r\n    deleteItem(item)\r\n    {\r\n        let idx = this.items.indexOf(item);\r\n\r\n        if (idx<0)\r\n        {\r\n            console.trace('invalid delete item');\r\n            return;\r\n        }\r\n\r\n        this.deleteItemByIndex(idx);\r\n    }\r\n\r\n    deleteItemByIndex(index)\r\n    {\r\n        if (index<0 || index>=this.items.length)\r\n        {\r\n            console.trace('invalid delete index '+index);\r\n            return;\r\n        }\r\n\r\n        let item = this.items[index];\r\n\r\n        this.items.splice(index, 1);\r\n\r\n        item.beforeDestroy();\r\n    }\r\n}\r\n\r\nexport class WebFormItem {\r\n    constructor(app, data) {\r\n        this.app = app;\r\n        this.component = data.component || false;\r\n        this.id = data.id || false;\r\n        this.fieldId = data.fieldId || false;\r\n        this.template = data.template || false;\r\n        this.size = data.size || 0;\r\n        this.minSize = data.minSize || 0;\r\n        this.props = data.props || {};\r\n        this.config = data.config;\r\n        this.parent = false;\r\n        this.childLayout = false;\r\n        this.fields = false;\r\n    }\r\n\r\n    beforeDestroy()\r\n    {\r\n        this.app = false;\r\n        this.component = false;\r\n        this.id = false;\r\n        this.fieldId = false;\r\n        this.template = false;\r\n        this.size = false;\r\n        this.minSize = false;\r\n        this.props = false;\r\n        this.config = false;\r\n        this.parent = false;\r\n        this.childLayout = false;\r\n    }\r\n\r\n    deleteItem()\r\n    {\r\n        this.parent.deleteItem(this);\r\n    }\r\n\r\n    getParent() {\r\n        return this.parent;\r\n    }\r\n\r\n    setParent(parent) {\r\n        this.parent = parent;\r\n    }\r\n\r\n    getCellSelectItem(direction) {\r\n        direction = parseInt(direction);\r\n        if (isNaN(direction) || direction === 0)\r\n            return this;\r\n\r\n        let items = this.parent.layout.getAllItemsWithParent(),\r\n            idx = items.indexOf(this);\r\n\r\n        if (idx<0)\r\n            return false;\r\n\r\n        while (true) {\r\n            idx += direction;\r\n            if (idx < 0 || idx >= items.length)\r\n                return false;\r\n\r\n            if (items[idx].size !== 0)\r\n                break;\r\n        }\r\n\r\n        return this.app.getLayoutItemById(items[idx].id, true);\r\n    }\r\n\r\n    getCellAbove() {\r\n        let cell = this.app.getLayoutItemById(this.id, true);\r\n\r\n        if (!cell)\r\n            return false;\r\n\r\n        let offset = 0;\r\n\r\n        for (let i = 0; i < cell.index; i++) {\r\n            offset += cell.row.items[i].size;\r\n        }\r\n\r\n        cell.rowNum--;\r\n        if (cell.rowNum < 0) {\r\n            /*\r\n            cell.pageNum--;\r\n            if (cell.pageNum < 0)\r\n                return false;\r\n\r\n            cell.page = this.app.pages.items[cell.pageNum];\r\n            cell.rowNum = cell.page.rows.length - 1;\r\n             */\r\n\r\n            return false;\r\n        }\r\n\r\n        cell.row = cell.page.rows[cell.rowNum];\r\n        cell.item = cell.row.getItemByCellOffset(offset);\r\n        if (!cell.item)\r\n            return false;\r\n\r\n        return cell;\r\n    }\r\n\r\n    getCellBelow() {\r\n        let cell = this.app.getLayoutItemById(this.id, true);\r\n\r\n        if (!cell)\r\n            return false;\r\n\r\n        let offset = 0;\r\n\r\n        for (let i = 0; i < cell.index; i++) {\r\n            offset += cell.row.items[i].size;\r\n        }\r\n\r\n        cell.rowNum++;\r\n        if (cell.rowNum === cell.page.rows.length) {\r\n            cell.rowNum = 0;\r\n\r\n            /*\r\n            cell.pageNum++;\r\n            if (cell.pageNum === this.app.pages.items.length)\r\n                return false;\r\n\r\n            cell.page = this.app.pages.items[cell.pageNum];\r\n             */\r\n\r\n            return false;\r\n        }\r\n\r\n        cell.row = cell.page.rows[cell.rowNum];\r\n\r\n        cell.item = cell.row.getItemByCellOffset(offset);\r\n        if (!cell.item)\r\n            return false;\r\n\r\n        return cell;\r\n    }\r\n\r\n    prevSibling()\r\n    {\r\n        let idx = this.parent.items.indexOf(this);\r\n\r\n        if (idx === -1)\r\n            throw new Error('Item not found in parent');\r\n\r\n        if (!idx)\r\n            return false;\r\n\r\n        return this.parent.items[idx-1];\r\n    }\r\n\r\n    nextSibling()\r\n    {\r\n        let idx = this.parent.items.indexOf(this);\r\n\r\n        if (idx === -1)\r\n            throw new Error('Item not found in parent');\r\n\r\n        if (idx === this.parent.items.length-1)\r\n            return false;\r\n\r\n        return this.parent.items[idx+1];\r\n    }\r\n\r\n    get index() {\r\n        return this.parent.items.indexOf(this);\r\n    }\r\n\r\n    checkFieldName()\r\n    {\r\n        if (this.template === this.app.emptyCellTemplate)\r\n            return;\r\n\r\n        if (!this.config.hasOwnProperty('fieldName'))\r\n            return;\r\n\r\n        let fieldName = this.config.fieldName.replace(/[^0-9a-z_]/gi, \"\");\r\n\r\n        if (fieldName.charAt(0).match(/[a-z_]/i) === null)\r\n        {\r\n            fieldName = '_'+fieldName;\r\n        }\r\n\r\n        if (!fieldName.length)\r\n        {\r\n            fieldName = this.fieldId.charAt(0).toUpperCase()+this.fieldId.slice(1);\r\n        }\r\n\r\n        let fieldNameTpl = fieldName,\r\n            fieldNum = fieldName.match(/[0-9]+$/);\r\n\r\n        if (fieldNum)\r\n        {\r\n            fieldNameTpl = fieldNameTpl.slice(0, -fieldNum[0].length);\r\n            fieldNum = parseInt(fieldNum[0]);\r\n        } else {\r\n            fieldNum = 1;\r\n        }\r\n\r\n        let obFields = this.app.getAllFieldsByFieldName([this]);\r\n\r\n        while (obFields.hasOwnProperty(fieldName))\r\n        {\r\n            fieldNum++;\r\n            fieldName = fieldNameTpl+fieldNum;\r\n        }\r\n\r\n        this.config.fieldName = fieldName;\r\n    }\r\n\r\n    saveConfig()\r\n    {\r\n        if (this.component && typeof this.component.saveConfig === 'function')\r\n        {\r\n            this.component.saveConfig();\r\n        }\r\n    }\r\n\r\n}","import {WebFormLayoutItems, WebFormPages, WebFormLayout, WebFormRow, WebFormItem} from '../core';\r\n\r\nimport './devbx.webform.master.css';\r\n\r\nexport function createWebFormMaster(params) {\r\n    params.formElements.forEach(group => {\r\n        group.items.forEach(item => {\r\n            let defaultConfig = JSON.stringify(item.data.defaultConfig);\r\n\r\n            item.data.defaultConfig = function () {\r\n                return JSON.parse(defaultConfig);\r\n            };\r\n        });\r\n    });\r\n\r\n    let app = BX.Vue3.BitrixVue.createApp({\r\n        data() {\r\n            return {\r\n                culture: params.culture,\r\n                formElements: params.formElements,\r\n                defaultEntity: params.defaultEntity,\r\n                config: params.config,\r\n                userGroups: params.userGroups,\r\n\r\n                formSettings: {},\r\n                formActions: [],\r\n                finishPage: false,\r\n                finishPageCond: [],\r\n\r\n                systemWebFormItem: {},\r\n                resizeItemId: false,\r\n                pages: new WebFormPages(this),\r\n                layoutItems: new WebFormLayoutItems(this),\r\n                activePageId: 0,\r\n                tmpId: 1,\r\n                activeId: '',\r\n                dragItemId: '',\r\n                resizeEvents: [],\r\n                maxRowSize: 24,\r\n                emptyCellTemplate: 'devbx-form-empty-cell',\r\n                clipboardItemId: false,\r\n                clipboardOperation: false,\r\n                content: '',\r\n                webFormId: params.webFormId,\r\n                dragData: false,\r\n                webFormComponent: 'devbx-webform-constructor',\r\n            };\r\n        },\r\n\r\n        watch: {\r\n            activeId(val) {\r\n                let item = this.getLayoutItemById(val);\r\n\r\n                if (item && item.component) {\r\n                    item.component.$el.parentNode.focus();\r\n                }\r\n            },\r\n\r\n            activePageId(val, oldVal) {\r\n\r\n                let oldPage = this.pages.getLayoutById(oldVal),\r\n                    newPage = this.pages.getLayoutById(val);\r\n\r\n                if (oldPage && newPage) {\r\n                    if (oldPage.containsItemId(this.activeId)) {\r\n                        oldPage.pageItemActiveId = this.activeId;\r\n                        //BX.Vue.set(oldPage, 'pageItemActiveId', this.activeId);\r\n                    }\r\n\r\n                    if (newPage.pageItemActiveId && newPage.containsItemId(newPage.pageItemActiveId)) {\r\n                        this.activeId = newPage.pageItemActiveId;\r\n                    } else {\r\n                        this.activeId = newPage.rows[0].items[0].id;\r\n                    }\r\n                }\r\n            },\r\n\r\n            resizeItemId(val) {\r\n\r\n                if (val) {\r\n                    let self = this,\r\n                        mouseUp = function (event) {\r\n                            self.mouseUp(event)\r\n                        },\r\n                        mouseMove = function (event) {\r\n                            self.mouseMove(event);\r\n                        };\r\n\r\n                    document.addEventListener('mouseup', mouseUp);\r\n                    document.addEventListener('mousemove', mouseMove);\r\n\r\n                    this.resizeEvents.push({name: 'mouseup', func: mouseUp});\r\n                    this.resizeEvents.push({name: 'mousemove', func: mouseMove});\r\n                } else {\r\n                    this.resizeEvents.forEach(item => {\r\n                        document.removeEventListener(item.name, item.func);\r\n                    });\r\n\r\n                    this.resizeEvents = [];\r\n                }\r\n            },\r\n\r\n            activeFormComponent(val) {\r\n\r\n                if (val) {\r\n                    if (typeof val.showPanel === 'function') {\r\n                        val.showPanel();\r\n                    }\r\n                }\r\n            },\r\n\r\n            storeErrors: {\r\n                handler: function (val) {\r\n                    if (val.length) {\r\n                        this.$store.commit('clearErrors');\r\n\r\n                        this.showPopupError(val);\r\n                    }\r\n                },\r\n                deep: true,\r\n            },\r\n        },\r\n\r\n        mounted() {\r\n            this.formSettings = this.getDefaultFormSettings();\r\n            this.formActions = this.getDefaultFormActions();\r\n            this.finishPage = this.getDefaultFinishPage();\r\n\r\n            this.activePageId = this.addPage().id;\r\n        },\r\n\r\n        methods: {\r\n            getNewItemId: function () {\r\n                return this.tmpId++;\r\n            },\r\n\r\n            getDefaultFormSettings() {\r\n                return {\r\n                    title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_UNTITLED_NAME'),\r\n                    titleHidden: false,\r\n                    description: '',\r\n                    code: '',\r\n                    progressBar: 'STEPS',\r\n                    showPageTitles: true,\r\n                }\r\n            },\r\n\r\n            getDefaultFormActions() {\r\n                return [\r\n                    {\r\n                        action: 'SUBMIT',\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_SUBMIT_ACTION_TITLE'),\r\n                    }\r\n                ]\r\n            },\r\n\r\n            getDefaultPageConfig() {\r\n                return JSON.parse(JSON.stringify(this.defaultEntity.page));\r\n            },\r\n\r\n            getDefaultFinishPage() {\r\n                return JSON.parse(JSON.stringify(this.defaultEntity.finishPage));\r\n            },\r\n\r\n            addPage() {\r\n                let emptyItem = this.getNewEmptyCell(this.maxRowSize),\r\n                    page = this.pages.addLayout(this.maxRowSize, this.getDefaultPageConfig()),\r\n                    row = page.addRow();\r\n\r\n                emptyItem.setParent(row);\r\n                row.items.push(emptyItem);\r\n\r\n                this.activeId = emptyItem.id;\r\n\r\n                return page;\r\n            },\r\n\r\n            getNewEmptyCell(size) {\r\n                return BX.Vue3.reactive(new WebFormItem(this, {\r\n                    component: false,\r\n                    id: this.tmpId++,\r\n                    fieldId: 'empty',\r\n                    template: this.emptyCellTemplate,\r\n                    size: size,\r\n                    minSize: 0,\r\n                    config: {\r\n                        checkItems: false,\r\n                        deleteBlur: false,\r\n                    }\r\n                }));\r\n            },\r\n\r\n            mouseMove(event) {\r\n                let info = this.getLayoutItemById(this.resizeItemId, true);\r\n\r\n                if (!info || !info.item.component) {\r\n                    this.resizeItemId = false;\r\n                    return;\r\n                }\r\n\r\n                let elRow = info.item.component.$el.closest('.devbx-webform-row'),\r\n                    rowRect = elRow.getBoundingClientRect(),\r\n                    cellWidth = rowRect.width / this.maxRowSize,\r\n                    size = Math.floor((event.clientX - rowRect.x) / cellWidth),\r\n                    leftCell = 0,\r\n                    rightCell = 0,\r\n                    leftItem = info.row.items[info.index - 1],\r\n                    rightItem = info.row.items[info.index];\r\n\r\n                if (size < 0)\r\n                    size = 0;\r\n\r\n                if (size > this.maxRowSize)\r\n                    size = this.maxRowSize;\r\n\r\n                for (let i = 0; i < info.index - 1; i++) {\r\n                    leftCell += info.row.items[i].size;\r\n                }\r\n\r\n                for (let i = info.index + 1; i < info.row.items.length; i++) {\r\n                    rightCell += info.row.items[i].size;\r\n                }\r\n\r\n                let newLeftSize = size - leftCell,\r\n                    newRightSize = this.maxRowSize - size - rightCell;\r\n\r\n                if (newLeftSize + leftCell + rightCell > this.maxRowSize)\r\n                    newLeftSize = this.maxRowSize - (leftCell + rightCell);\r\n\r\n                if (newLeftSize < leftItem.minSize)\r\n                    newLeftSize = leftItem.minSize;\r\n\r\n                if (leftItem.size === newLeftSize)\r\n                    return;\r\n\r\n                if (newRightSize < rightItem.minSize)\r\n                    return;\r\n\r\n                leftItem.size = newLeftSize;\r\n                rightItem.size = newRightSize;\r\n            },\r\n\r\n            mouseUp(event) {\r\n                this.resizeItemId = false;\r\n                this.checkPageItems();\r\n            },\r\n\r\n            getFormElementById(id) {\r\n\r\n                let result = false;\r\n\r\n                this.formElements.forEach(group => {\r\n\r\n                    group.items.forEach(item => {\r\n\r\n                        if (item.data.fieldId === id) {\r\n                            result = item;\r\n                            return false;\r\n                        }\r\n\r\n                        return true;\r\n                    });\r\n\r\n                    return result === false;\r\n\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            getLayoutItemById(id, full = false) {\r\n                return this.layoutItems.getItemById(id, full);\r\n            },\r\n\r\n            getPageById(id) {\r\n                return this.pages.getLayoutById(id);\r\n            },\r\n\r\n            checkPageItems() {\r\n                this.layoutItems.items.forEach(page => {\r\n                    page.checkAlignmentItems();\r\n                });\r\n\r\n                if (!this.getLayoutItemById(this.activeId)) {\r\n                    this.activeId = this.pages.items[0].rows[0].items[0].id;\r\n                }\r\n            },\r\n\r\n            delayRemoveItem(itemId, timeout) {\r\n\r\n                let self = this;\r\n\r\n                setTimeout(function () {\r\n\r\n                    let cell = self.getLayoutItemById(itemId, true);\r\n\r\n                    if (!cell)\r\n                        return;\r\n\r\n                    cell.row.items.splice(cell.index, 1);\r\n                }, timeout);\r\n\r\n            },\r\n\r\n            deleteItemById(itemId) {\r\n                let cell = this.getLayoutItemById(itemId, true);\r\n\r\n                if (!cell)\r\n                    return;\r\n\r\n                if (cell.item.config.systemId > 0) {\r\n                    let popupId;\r\n\r\n                    popupId = this.createPopupWindow({\r\n                        titleBar: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_DIALOG_DELETE_FIELD_TITLE'),\r\n                        content: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_DIALOG_DELETE_EXISTS_FIELD_MESSAGE_TEXT'),\r\n                        buttons: [\r\n                            new BX.PopupWindowButton({\r\n                                text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_DIALOG_BTN_DELETE_TITLE'),\r\n                                className: \"popup-window-button-accept\",\r\n                                events: {\r\n                                    click: BX.delegate(function () {\r\n                                        this.closePopup(popupId);\r\n                                        this.deleteItemByIdConfirmed(itemId);\r\n                                    }, this)\r\n                                }\r\n                            }),\r\n                            new BX.PopupWindowButton({\r\n                                text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_DIALOG_BTN_CANCEL_TITLE'),\r\n                                className: \"popup-window-button-link popup-window-button-link-cancel\",\r\n                                events: {\r\n                                    click: BX.delegate(function () {\r\n                                        this.closePopup(popupId);\r\n                                    }, this)\r\n                                }\r\n                            })\r\n                        ]\r\n                    });\r\n\r\n                    return;\r\n                }\r\n\r\n                this.deleteItemByIdConfirmed(itemId);\r\n            },\r\n\r\n            deleteItemByIdConfirmed(itemId) {\r\n                let cell = this.getLayoutItemById(itemId, true);\r\n\r\n                if (!cell)\r\n                    return;\r\n\r\n                cell.row.items.splice(cell.index, 1);\r\n\r\n                if (cell.index > 0) {\r\n                    this.activeId = cell.row.items[cell.index - 1].id;\r\n                } else {\r\n                    if (this.rowNum > 0) {\r\n                        this.activeId = cell.page[cell.pageNum].rows[this.rowNum - 1].items[0].id;\r\n                    }\r\n                }\r\n\r\n                this.checkPageItems();\r\n            },\r\n\r\n            pasteItemFromClipboard(destCell) {\r\n                let clipboardCell = this.layoutItems.getItemById(this.clipboardItemId, true);\r\n\r\n                if (!clipboardCell || !destCell)\r\n                    return;\r\n\r\n                let item = clipboardCell.item;\r\n\r\n                if (this.clipboardOperation === 'COPY') {\r\n\r\n                    if (item.component && typeof item.component.saveConfig === 'function') {\r\n                        item.component.saveConfig();\r\n                    }\r\n\r\n                    let props = JSON.parse(JSON.stringify(item.props)),\r\n                        config = JSON.parse(JSON.stringify(item.config));\r\n\r\n                    if (config.systemId)\r\n                        config.systemId = 0;\r\n\r\n                    item = destCell.row.createItem({\r\n                        component: false,\r\n                        id: this.tmpId++,\r\n                        fieldId: item.fieldId,\r\n                        template: item.template,\r\n                        size: item.size,\r\n                        minSize: item.minSize,\r\n                        props: props,\r\n                        config: config,\r\n                    });\r\n                } else {\r\n                    clipboardCell.row.items.splice(clipboardCell.index, 1);\r\n                }\r\n\r\n                if (item.size > destCell.item.size)\r\n                    item.size = destCell.item.size;\r\n\r\n                destCell.row.items.splice(destCell.index, 1, item);\r\n                item.setParent(destCell.row);\r\n                item.checkFieldName();\r\n\r\n                this.clipboardItemId = false;\r\n                this.clipboardOperation = false;\r\n\r\n                this.checkPageItems();\r\n\r\n                this.activeId = item.id;\r\n            },\r\n\r\n            getAllFieldsByFieldName(excludeItems = []) {\r\n                let result = {};\r\n\r\n                this.layoutItems.getAllItems().forEach(item => {\r\n                    if (item.template === this.emptyCellTemplate || excludeItems.indexOf(item) > -1)\r\n                        return;\r\n\r\n                    if (item.config.fieldName) {\r\n                        result[item.config.fieldName] = item;\r\n                    }\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            registerSystemWebFormItem(id, component) {\r\n                this.systemWebFormItem[id] = component;\r\n            },\r\n\r\n            unRegisterSystemWebFormItem(id) {\r\n                delete this.systemWebFormItem[id];\r\n                /*\r\n                let idx = Object.values(this.systemWebFormItem).indexOf(component);\r\n\r\n                if (idx > -1) {\r\n                    delete this.systemWebFormItem[Object.keys(this.systemWebFormItem)[idx]];\r\n                }*/\r\n            },\r\n\r\n            getWebFormData() {\r\n\r\n                let data = {\r\n                    formSettings: JSON.parse(JSON.stringify(this.formSettings)),\r\n                    formActions: JSON.parse(JSON.stringify(this.formActions)),\r\n                    pages: [],\r\n                    finishPage: this.finishPage,\r\n                    finishPageCond: this.finishPageCond,\r\n                };\r\n\r\n                this.pages.items.forEach(page => {\r\n                    data.pages.push(page.getData());\r\n                });\r\n\r\n                return data;\r\n            },\r\n\r\n            setWebFormData(data) {\r\n                if (!!data.formSettings)\r\n                    this.formSettings = data.formSettings;\r\n\r\n                if (!!data.formActions)\r\n                    this.formActions = data.formActions;\r\n\r\n                if (Array.isArray(data.pages)) {\r\n                    while (this.pages.items.length > 0) {\r\n                        this.pages.deleteLayoutByIndex(0);\r\n                    }\r\n\r\n                    data.pages.forEach(dataPage => {\r\n\r\n                        this.pages.addLayout(this.maxRowSize).setData(dataPage);\r\n\r\n                    });\r\n\r\n                    this.checkPageItems();\r\n\r\n                    this.activePageId = this.pages.items[0].id;\r\n                }\r\n\r\n                if (!!data.finishPage) {\r\n                    this.finishPage = data.finishPage;\r\n                }\r\n\r\n                if (!!data.finishPageCond) {\r\n                    this.finishPageCond = data.finishPageCond;\r\n                }\r\n            },\r\n\r\n            formatString(str, search, replace) {\r\n                if (typeof str === 'undefined')\r\n                    return '';\r\n\r\n                if (typeof str !== 'string')\r\n                    str = str.toString();\r\n\r\n                if (!Array.isArray(search)) {\r\n                    search = [search];\r\n                    replace = [replace];\r\n                }\r\n\r\n                search.forEach((s, i) => {\r\n                    str = str.replaceAll(s, replace[i]);\r\n                });\r\n\r\n                return str;\r\n            },\r\n\r\n            getDefaultPopupButtons(popupId) {\r\n                return [\r\n                    new BX.PopupWindowButton({\r\n                        text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_DIALOG_BTN_CLOSE_TITLE'),\r\n                        className: \"popup-window-button-accept\",\r\n                        events: {\r\n                            click: BX.delegate(function () {\r\n                                this.closePopup(popupId);\r\n                            }, this)\r\n                        }\r\n                    })\r\n                ];\r\n            },\r\n\r\n            createPopupWindow(options) {\r\n                let popupId = 'DevBxFormsWizardPopup';\r\n\r\n                let popup = BX.PopupWindowManager.getPopupById(popupId);\r\n                if (popup)\r\n                    popup.close();\r\n\r\n                if (this.popup) {\r\n                    this.popup.close();\r\n                }\r\n\r\n                let defOptions = {\r\n                    autoHide: false,\r\n                    draggable: false,\r\n                    closeByEsc: true,\r\n                    overlay: {\r\n                        backgroundColor: 'black',\r\n                        opacity: '80'\r\n                    },\r\n                    offsetLeft: 0,\r\n                    offsetTop: 0,\r\n                    bindOptions: {forceBindPosition: false},\r\n                    //bindOnResize: true,\r\n                    content: options.content || '',\r\n                    events: {\r\n                        onPopupClose: BX.delegate(this.onPopupClose, this),\r\n                        onPopupDestroy: BX.delegate(this.onPopupDestroy, this),\r\n                    },\r\n                };\r\n\r\n                options = Object.assign({}, defOptions, options);\r\n                if (!options.buttons)\r\n                    options.buttons = this.getDefaultPopupButtons(popupId);\r\n\r\n                popup = new BX.PopupWindow(\r\n                    popupId,\r\n                    null,\r\n                    options\r\n                );\r\n\r\n                popup.show();\r\n\r\n                return popupId;\r\n            },\r\n\r\n            closePopup(popupId) {\r\n                let popup = BX.PopupWindowManager.getPopupById(popupId);\r\n                if (popup)\r\n                    popup.close();\r\n            },\r\n\r\n            onPopupClose(popup) {\r\n                popup.destroy();\r\n            },\r\n\r\n            onPopupDestroy() {\r\n\r\n            },\r\n\r\n            showPopupError(error) {\r\n                let content = [];\r\n\r\n                if (!Array.isArray(error)) {\r\n                    error = [error];\r\n                }\r\n\r\n                error.forEach(e => {\r\n                    content.push(!!e.message ? e.message : e);\r\n                });\r\n\r\n                this.createPopupWindow({\r\n                    titleBar: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_DIALOG_ERROR_PAGE_TITLE'),\r\n                    content: content.join('<br>'),\r\n                    closeIcon: true,\r\n                    minWidth: 500,\r\n                });\r\n            },\r\n\r\n            htmlFormatFields(html) {\r\n                if (!html)\r\n                    return '';\r\n\r\n                let fields = this.formFieldByName;\r\n\r\n                html = html.replace(/#([a-zA-Z0-9_\\.]+)#/g, function (str, ind) {\r\n                    let field = fields[ind];\r\n                    if (!field)\r\n                        return str;\r\n\r\n                    let title = BX.util.htmlspecialchars(field.label);\r\n                    title = title.replace('\"', '\\\"');\r\n\r\n                    return '<span class=\"bxhtmled-surrogate devbx-webform-macros-field\" title=\"' + title + '\">' + ind + '</span>';\r\n                });\r\n\r\n                return html;\r\n            },\r\n\r\n            getComponentsByName(name, childItems) {\r\n                if (typeof childItems === \"undefined\")\r\n                    childItems = this.$children;\r\n\r\n                let result = [];\r\n\r\n                childItems.forEach(item => {\r\n                    if (item.$options.name == name) {\r\n                        result.push(item);\r\n                    }\r\n\r\n                    result.push(...this.getComponentsByName(name, item.$children));\r\n                });\r\n\r\n                return result;\r\n            },\r\n        },\r\n\r\n        computed: {\r\n            activeFormComponent() {\r\n                if (this.systemWebFormItem[this.activeId])\r\n                    return this.systemWebFormItem[this.activeId];\r\n\r\n                let item = this.getLayoutItemById(this.activeId);\r\n\r\n                if (item)\r\n                    return item.component;\r\n\r\n                return false;\r\n            },\r\n\r\n            activeCellSize() {\r\n                let item = this.getLayoutItemById(this.activeId);\r\n\r\n                if (!item)\r\n                    return 0;\r\n\r\n                return item.size;\r\n            },\r\n\r\n            dragItemIsActive() {\r\n                return this.dragItemId.length > 0;\r\n            },\r\n\r\n            formFields() {\r\n                let result = [];\r\n                /*\r\n                this.layoutItems.getFields().forEach(item => {\r\n                    item.name = 'Fields.'+item.name;\r\n                    result.push(item);\r\n                });\r\n                 */\r\n\r\n                this.layoutItems.getAllItems().forEach(item => {\r\n                    if (Array.isArray(item.fields)) {\r\n                        item.fields.forEach(field => {\r\n                            field = JSON.parse(JSON.stringify(field));\r\n                            field.name = 'Fields.' + field.name;\r\n\r\n                            result.push(field);\r\n                        });\r\n                    }\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            formFieldByName() {\r\n                let result = {};\r\n\r\n                this.formFields.forEach(item => {\r\n                    result[item.name] = item;\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            storeErrors() {\r\n                return this.$store.state.errors;\r\n            },\r\n        },\r\n        template: `\r\n            <div class=\"devbx-webform-builder\">\r\n\r\n                <devbx-webform-master-menu></devbx-webform-master-menu>                    \r\n            \r\n                <component :is=\"webFormComponent\"></component>\r\n            </div>\r\n`\r\n    });\r\n\r\n    BX.onCustomEvent('DevBxWebFormCreatedAdminMaster', [app]);\r\n\r\n    return app;\r\n}","BX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    let store = new BX.Vue3.Vuex.createStore({\r\n        state: {\r\n            iblockType: [],\r\n            iblockList: [],\r\n            iblockSectionFields: {},\r\n            errors: [],\r\n        },\r\n        mutations: {\r\n            setIblockData(state, data)\r\n            {\r\n                state.iblockType = data.iblockType;\r\n                state.iblockList = data.iblockList;\r\n            },\r\n\r\n            setIblockSectionFields(state, data)\r\n            {\r\n                state.iblockSectionFields[data.iblockId] = data.fields;\r\n            },\r\n\r\n            addError(state, val)\r\n            {\r\n                if (Array.isArray(val))\r\n                    state.errors.push(...val);\r\n                else\r\n                    state.errors.push(val);\r\n            },\r\n\r\n            clearErrors(state)\r\n            {\r\n                state.errors = [];\r\n            }\r\n        },\r\n        actions: {\r\n            getIblockList(context)\r\n            {\r\n                let postData = {\r\n                    lang: BX.message('LANGUAGE_ID'),\r\n                };\r\n\r\n                BX.ajax.runAction('devbx:forms.api.webform.getIblockList', {\r\n                    data: postData\r\n                }).then(\r\n                    function(response) {\r\n                        context.commit('setIblockData', response.data);\r\n                    },\r\n                    function(response) {\r\n                        if (response.errors)\r\n                            context.commit('addError', response.errors);\r\n                    },\r\n                );\r\n            },\r\n\r\n            getIblockSectionFields(context, iblockId)\r\n            {\r\n                let postData = {\r\n                    lang: BX.message('LANGUAGE_ID'),\r\n                    iblockId: iblockId,\r\n                };\r\n\r\n                BX.ajax.runAction('devbx:forms.api.webform.getIblockSectionFields', {\r\n                    data: postData\r\n                }).then(\r\n                    function(response) {\r\n                        context.commit('setIblockSectionFields', {\r\n                            iblockId: iblockId,\r\n                            fields: response.data.fields,\r\n                        });\r\n                    },\r\n                    function(response) {\r\n                        if (response.errors)\r\n                            context.commit('addError', response.errors);\r\n                    },\r\n                );\r\n            },\r\n        },\r\n        getters: {\r\n            iblockSectionFields: state => iblockId => {\r\n                if (state.iblockSectionFields[iblockId] === undefined)\r\n                    state.iblockSectionFields[iblockId] = false;\r\n                //BX.Vue.set(state.iblockSectionFields, iblockId, false);\r\n\r\n                return state.iblockSectionFields[iblockId];\r\n            },\r\n        },\r\n    });\r\n\r\n    app.use(store);\r\n\r\n});","BX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n\r\n    app.component('devbx-webform-constructor', {\r\n        props: {\r\n\r\n        },\r\n        template: `\r\n        <div>\r\n                <devbx-webform-pages-actions :pages=\"$root.pages\"></devbx-webform-pages-actions>\r\n\r\n                <div class=\"devbx-webform-main\">\r\n\r\n                    <devbx-webform-left-panel :active-component=\"$root.activeFormComponent\"></devbx-webform-left-panel>\r\n\r\n                    <div class=\"devbx-webform-content-layout\" :class=\"{'item-resize': $root.resizeItemId>0}\">\r\n                        <div class=\"devbx-webform-content\">\r\n                            <devbx-webform-settings :form-settings=\"$root.formSettings\" :pages=\"$root.pages\" :active-page-id=\"$root.activePageId\"></devbx-webform-settings>\r\n\r\n                            <transition>\r\n                                <devbx-form-layout-toolbar :active-component=\"$root.activeFormComponent\"\r\n                                                       :active-cell-size=\"$root.activeCellSize\"\r\n                                                       :drag-item-id=\"$root.dragItemId\"\r\n                                ></devbx-form-layout-toolbar>\r\n                            </transition>\r\n                            <devbx-webform-form-page v-for=\"page of $root.pages.items\" :page=\"page\" :key=\"page.id\"/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n        </div>\r\n        `\r\n    });\r\n\r\n});","import './devbx.webform.master.menu.css';\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n\r\n    app.component('devbx-webform-master-menu', {\r\n        props: {\r\n\r\n        },\r\n        computed: {\r\n            actions() {\r\n\r\n                let result = [];\r\n\r\n                result.push({\r\n                    component: 'devbx-webform-constructor',\r\n                    title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_MENU_ITEM_CONSTRUCTOR'),\r\n                });\r\n\r\n                result.push({\r\n                    component: 'devbx-webform-form-settings',\r\n                    title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_MENU_ITEM_SETTINGS'),\r\n                });\r\n\r\n                return result;\r\n            },\r\n        },\r\n        methods: {\r\n            onAction(action)\r\n            {\r\n                this.$root.webFormComponent = action.component;\r\n            },\r\n        },\r\n        template: `\r\n        <div class=\"devbx-webform-admin-menu\">\r\n            <div class=\"devbx-webform-menu-items\">\r\n                <span v-for=\"action in actions\" \r\n                    class=\"devbx-webform-admin-menu-item\" \r\n                    :class=\"{active: action.component == $root.webFormComponent}\"\r\n                    @click=\"onAction(action)\">{{action.title}}\r\n                    </span>\r\n            </div>\r\n                \r\n            <devbx-form-admin-actions></devbx-form-admin-actions>                                            \r\n        </div>\r\n        `\r\n    });\r\n\r\n});","import './devbx.webform.settings.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-settings', {\r\n        props: ['formSettings', 'pages', 'activePageId'],\r\n        data() {\r\n            return {\r\n                isHover: false,\r\n            }\r\n        },\r\n        mounted() {\r\n            this.$root.registerSystemWebFormItem('settings', this);\r\n        },\r\n        beforeUnmount() {\r\n            this.$root.unRegisterSystemWebFormItem('settings');\r\n        },\r\n        methods: {\r\n            onClick() {\r\n                this.$root.activeId = 'settings';\r\n            },\r\n\r\n            mouseEnter() {\r\n                this.isHover = true;\r\n            },\r\n\r\n            mouseLeave() {\r\n                this.isHover = false;\r\n            },\r\n\r\n            getPageTitle(page) {\r\n                if (page.config.pageTitle)\r\n                    return page.config.pageTitle;\r\n\r\n                let idx = this.pages.items.indexOf(page);\r\n\r\n                return this.$root.formatString(this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_NAVIGATION_PAGE_TITLE'), '#NUM#', idx + 1);\r\n            },\r\n\r\n            pagePassed(page) {\r\n                let activePage = this.pages.getLayoutById(this.activePageId);\r\n\r\n                return activePage.index > page.index;\r\n            },\r\n        },\r\n        computed: {\r\n            isSelected() {\r\n                return this.$root.activeId == 'settings';\r\n            },\r\n\r\n            activeId() {\r\n                return this.$root.activeId;\r\n            },\r\n\r\n            progressPercent() {\r\n                let activePage = this.pages.getLayoutById(this.activePageId),\r\n                    idx = this.pages.items.indexOf(activePage);\r\n\r\n                if (!activePage || idx < 0)\r\n                    return 0;\r\n\r\n                if (idx === this.pages.items.length - 1)\r\n                    return 100;\r\n\r\n                return (100 / this.pages.items.length) * (idx + 1);\r\n            },\r\n\r\n            titleFormatted() {\r\n                return this.$root.htmlFormatFields(BX.util.htmlspecialchars(this.formSettings.title));\r\n            },\r\n\r\n            activePage() {\r\n                return this.$root.pages.getLayoutById(this.activePageId);\r\n            },\r\n\r\n            descriptionFormatted() {\r\n                return this.$root.htmlFormatFields(this.formSettings.description);\r\n            },\r\n\r\n            pageDescriptionFormatted() {\r\n                if (!this.activePage)\r\n                    return '';\r\n\r\n                return this.$root.htmlFormatFields(this.activePage.config.pageDescription);\r\n            },\r\n\r\n            panelItems() {\r\n                let panel = {\r\n                    data: this.formSettings,\r\n                    items: [],\r\n                };\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-caption',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FORM_SETTINGS_TITLE')},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_SETTINGS_WEB_FORM_TITLE'),\r\n                        fieldName: 'title',\r\n                        fieldVisibleName: 'titleHidden',\r\n                        trim: true,\r\n                        defaultValue: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_UNTITLED_NAME')\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-html-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_SETTINGS_WEB_FORM_DESCRIPTION_TITLE'),\r\n                        fieldName: 'description'\r\n                    },\r\n                });\r\n\r\n                if (this.pages.items.length > 1) {\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-selectbox-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_SETTINGS_WEB_FORM_PAGE_NAVIGATION_TYPE_TITLE'),\r\n                            type: 'radio',\r\n                            values: [\r\n                                {\r\n                                    value: 'STEPS',\r\n                                    text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_SETTINGS_WEB_FORM_PAGE_NAVIGATION_TYPE_STEPS'),\r\n                                },\r\n                                {\r\n                                    value: 'BAR',\r\n                                    text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_SETTINGS_WEB_FORM_PAGE_NAVIGATION_TYPE_BAR'),\r\n                                },\r\n                                {\r\n                                    value: 'NONE',\r\n                                    text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_SETTINGS_WEB_FORM_PAGE_NAVIGATION_TYPE_NONE'),\r\n                                },\r\n                            ],\r\n                            fieldName: 'progressBar'\r\n                        },\r\n                    });\r\n\r\n                    if (this.formSettings.progressBar != 'NONE') {\r\n                        panel.items.push({\r\n                            name: 'devbx-webform-bool-field',\r\n                            props: {\r\n                                title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_SETTINGS_WEB_FORM_SHOW_PAGE_TITLES'),\r\n                                fieldName: 'showPageTitles'\r\n                            },\r\n                        });\r\n                    }\r\n                }\r\n\r\n                return panel;\r\n            },\r\n        },\r\n        template: `\r\n        <div class=\"devbx-webform-heading\" \r\n        :class=\"{'devbx-webform-layout-element-hover': (isHover && activeId != 'settings'), 'devbx-webform-layout-element-active': isSelected}\" \r\n        @click=\"onClick\" @mouseenter=\"mouseEnter\" @mouseleave=\"mouseLeave\">\r\n            <h2 v-if=\"!formSettings.titleHidden\" v-html=\"titleFormatted\"></h2>\r\n            <div class=\"devbx-webform-description\" v-if=\"descriptionFormatted.length\" v-html=\"descriptionFormatted\"></div>\r\n             \r\n            <div class=\"devbx-webform-page-steps\"\r\n                :class=\"{'devbx-webform-page-steps-no-title': !formSettings.showPageTitles}\" \r\n                v-if=\"pages.items.length>1 && formSettings.progressBar == 'STEPS'\">\r\n                <ul>\r\n                    <li v-for=\"page in pages.items\" :class=\"{'devbx-webform-page-step-active': page.id == activePageId}\">\r\n                        <a><span v-if=\"formSettings.showPageTitles\">{{getPageTitle(page)}}</span></a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            \r\n            <div class=\"devbx-webform-page-progress-bar\" v-if=\"pages.items.length>1 && formSettings.progressBar == 'BAR'\">\r\n                <ul>\r\n                    <li class=\"devbx-webform-progress-bar-line\"></li>\r\n                    <li class=\"devbx-webform-progress-bar-pos\" :style=\"{'width': progressPercent+'%'}\"></li>\r\n                    <li v-for=\"page in pages.items\" :style=\"{'width': (100/pages.items.length)+'%'}\" :class=\"{\r\n                    'devbx-webform-page-step-active': page.id == activePageId && formSettings.showPageTitles,\r\n                    'devbx-webform-page-step-passed': pagePassed(page) || (page.id == activePageId && !formSettings.showPageTitles),\r\n                    }\">\r\n                        <a><span v-if=\"formSettings.showPageTitles\">{{getPageTitle(page)}}</span></a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            \r\n            <div class=\"devbx-webform-description\" v-if=\"pageDescriptionFormatted.length\" v-html=\"pageDescriptionFormatted\"></div>\r\n        </div>    \r\n    `\r\n    });\r\n});","BX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-settings-general', {\r\n        computed: {\r\n            userGroupsById()\r\n            {\r\n                let result = [];\r\n\r\n                this.$root.userGroups.forEach(item => {\r\n                    result[item.id] = item;\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            viewUserGroupsValue() {\r\n                let result = [];\r\n\r\n                this.$root.config.viewGroups.forEach(id => {\r\n                    if (this.userGroupsById[id]) {\r\n                        result.push(this.userGroupsById[id]);\r\n                    } else {\r\n                        result.push({id: id, name: '???'});\r\n                    }\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            writeUserGroupsValue() {\r\n                let result = [];\r\n\r\n                this.$root.config.writeGroups.forEach(id => {\r\n                    if (this.userGroupsById[id]) {\r\n                        result.push(this.userGroupsById[id]);\r\n                    } else {\r\n                        result.push({id: id, name: '???'});\r\n                    }\r\n                });\r\n\r\n                return result;\r\n            },\r\n        },\r\n        methods: {\r\n            selectValue(items, item) {\r\n                items.push(parseInt(item.id));\r\n            },\r\n\r\n            removeValue(items, item) {\r\n                let idx = items.indexOf(parseInt(item.id));\r\n\r\n                if (idx<0)\r\n                    return;\r\n\r\n                items.splice(idx,1);\r\n            },\r\n        },\r\n        template: `\r\n        <div>\r\n            <div class=\"devbx-webform-settings-field-3\">\r\n                <devbx-webform-text-field \r\n                    :form-data=\"$root.config\" \r\n                    field-name=\"name\" \r\n                    :title=\"$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_SETTINGS_FORM_NAME_TITLE')\" \r\n                    :trim=\"true\" \r\n                    :allow-form-fields=\"false\">\r\n                </devbx-webform-text-field>\r\n            </div>\r\n            \r\n            <div class=\"devbx-webform-settings-row\">\r\n                <div class=\"devbx-webform-settings-field-2\">\r\n                    <div class=\"devbx-webform-label\">{{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_SETTINGS_USER_VIEW_GROUP_TITLE')}}</div>            \r\n                    <devbx-webform-multiselect\r\n                        :value=\"viewUserGroupsValue\"\r\n                        :options=\"$root.userGroups\"\r\n                        label=\"name\"\r\n                        @select=\"selectValue($root.config.viewGroups, $event)\"\r\n                        @remove=\"removeValue($root.config.viewGroups, $event)\"\r\n                        >\r\n                    </devbx-webform-multiselect>            \r\n                </div>\r\n\r\n                <div class=\"devbx-webform-settings-field-2\">\r\n                    <div class=\"devbx-webform-label\">{{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_SETTINGS_USER_WRITE_GROUP_TITLE')}}</div>            \r\n                    <devbx-webform-multiselect\r\n                        :value=\"writeUserGroupsValue\"\r\n                        :options=\"$root.userGroups\"\r\n                        label=\"name\"\r\n                        @select=\"selectValue($root.config.writeGroups, $event)\"\r\n                        @remove=\"removeValue($root.config.writeGroups, $event)\"\r\n                        >\r\n                    </devbx-webform-multiselect>            \r\n                </div>\r\n            </div>\r\n        </div>`\r\n    });\r\n});\r\n\r\nBX.addCustomEvent(\"DevBxWebFormGetSettings\", function(app, items) {\r\n    items.push({\r\n        sort: 100,\r\n        title: BX.message('DEVBX_WEB_FORM_SETTINGS_GENERAL_ITEM'),\r\n        component: 'devbx-webform-settings-general',\r\n    });\r\n});","BX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-finish-page-cond', {\r\n        props: {\r\n            page: {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            pageNum: {\r\n                type: Number\r\n            },\r\n        },\r\n        computed: {\r\n            label() {\r\n                return this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FINISH_PAGE_COND',{'#NUM#': this.pageNum});\r\n            },\r\n        },\r\n        template: `\r\n        <div class=\"devbx-webform-finish-page-cond\">\r\n            <slot></slot>\r\n            <span class=\"devbx-webform-settings-label\">{{label}}</span>\r\n            \r\n            <div class=\"devbx-webform-settings-field-3\">\r\n                <devbx-webform-condition\r\n                    :title=\"$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FINISH_PAGE_COND_TITLE')\"\r\n                    :form-data=\"page\"\r\n                    field-name=\"showRule\"\r\n                    wizard-title=\"test\"             \r\n                    default-value=\"never\"\r\n                    :options=\"['when','never']\" \r\n                    :cond-fields=\"$root.formFields\">\r\n                </devbx-webform-condition>\r\n            </div>\r\n            \r\n            <devbx-webform-html-field :form-data=\"page\" field-name=\"content\" editor-config=\"full\"></devbx-webform-html-field>            \r\n        </div>\r\n        `\r\n    });\r\n});","import './devbx.webform.finish.page.cond';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n\r\n    app.component('devbx-webform-finish-page', {\r\n        methods: {\r\n            addFinishPage()\r\n            {\r\n                this.$root.finishPageCond.push(this.$root.getDefaultFinishPage());\r\n            },\r\n        },\r\n        template: `<div>\r\n            <span class=\"devbx-webform-settings-label\">{{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_DEFAULT_FINISH_PAGE')}}</span>\r\n            <devbx-webform-html-field :form-data=\"$root.finishPage\" field-name=\"content\" editor-config=\"full\"></devbx-webform-html-field>\r\n            \r\n            <devbx-webform-finish-page-cond v-for=\"(page, index) in $root.finishPageCond\" :page=\"page\" :page-num=\"index+1\" :key=\"index\">\r\n                <div class=\"devbx-webform-settings-separator\"></div>\r\n            </devbx-webform-finish-page-cond>\r\n            \r\n            <div class=\"devbx-webform-settings-content-center\">\r\n                <span class=\"ui-btn ui-btn-primary\" @click=\"addFinishPage\">{{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_ADD_FINISH_PAGE_WITH_CONDITION')}}</span>\r\n            </div>\r\n        </div>`\r\n    });\r\n\r\n});\r\n\r\nBX.addCustomEvent(\"DevBxWebFormGetSettings\", function(app, items) {\r\n    items.push({\r\n        sort: 200,\r\n        title: BX.message('DEVBX_WEB_FORM_SETTINGS_FINISH_PAGE_ITEM'),\r\n        component: 'devbx-webform-finish-page',\r\n    });\r\n});","import './devbx.webform.form.settings.css';\r\nimport './devbx.webform.settings.general';\r\nimport './devbx.webform.finish.page';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n\r\n    app.component('devbx-webform-form-settings', {\r\n        props: {\r\n\r\n        },\r\n        data() {\r\n            return {\r\n                items: [],\r\n                activeItemId: false,\r\n            };\r\n        },\r\n        mounted() {\r\n            BX.onCustomEvent('DevBxWebFormGetSettings', [this.$root, this.items]);\r\n\r\n            this.activeItemId = this.sortedItems[0].id;\r\n        },\r\n        computed: {\r\n            sortedItems() {\r\n                let result = [];\r\n\r\n                this.items.forEach(item => {\r\n\r\n                    item = JSON.parse(JSON.stringify(item));\r\n                    if (!item.id)\r\n                        item.id = item.component;\r\n\r\n                    result.push(item);\r\n                });\r\n\r\n                result.sort(function(a, b) {\r\n                    if (a.sort === b.sort)\r\n                        return 0;\r\n\r\n                    return a.sort>b.sort ? 1 : -1;\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            activeItem() {\r\n                let result = false;\r\n\r\n                this.sortedItems.every(item => {\r\n                    if (item.id === this.activeItemId)\r\n                        result = item;\r\n\r\n                    return !result;\r\n                });\r\n\r\n                return result;\r\n            },\r\n        },\r\n        methods: {\r\n            clickItem(item)\r\n            {\r\n                this.activeItemId = item.id;\r\n            },\r\n        },\r\n        template: `\r\n        <div class=\"devbx-webform-form-settings\">\r\n            <div class=\"devbx-webform-form-settings-panel\">\r\n                <div v-for=\"item in sortedItems\" \r\n                    class=\"devbx-webform-form-settings-panel-item\" \r\n                    :class=\"{active: item.id == activeItemId}\"\r\n                    @click=\"clickItem(item)\"\r\n                    >\r\n                    <span>{{item.title}}</span>                \r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"devbx-webform-form-settings-content\">\r\n                <component v-if=\"activeItem\" :is=\"activeItem.component\" v-bind=\"activeItem.props\"></component>               \r\n            </div>\r\n        </div>\r\n        `\r\n    });\r\n});","import './devbx.webform.left.panel.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-left-panel', {\r\n        props: ['activeComponent'],\r\n\r\n        /*\r\n        render(createElement, context) {\r\n\r\n            let child = [];\r\n\r\n            if (Array.isArray(this.items)) {\r\n                this.items.forEach(item => {\r\n                    child.push(createElement(item.name, {props: item.props}));\r\n                });\r\n            }\r\n\r\n            return createElement('div', {\r\n                class: {\r\n                    'devbx-webform-left-panel': true,\r\n                }\r\n            }, child);\r\n\r\n        },*/\r\n\r\n        data() {\r\n            return {\r\n                panelTop: '0px',\r\n                navigationTop: '0px',\r\n                navigationHidden: true,\r\n            }\r\n        },\r\n        methods: {\r\n            hashCode: function (str) {\r\n                var hash = 0,\r\n                    i, chr;\r\n\r\n                if (str.length === 0) return hash;\r\n\r\n                for (i = 0; i < str.length; i++) {\r\n                    chr = str.charCodeAt(i);\r\n                    hash = ((hash << 5) - hash) + chr;\r\n                    hash |= 0; // Convert to 32bit integer\r\n                }\r\n                return hash;\r\n            },\r\n        },\r\n        computed: {\r\n            panelItems() {\r\n\r\n                if (!this.activeComponent) {\r\n                    return {\r\n                        data: {},\r\n                        items: [],\r\n                    };\r\n                }\r\n\r\n\r\n                let panel = this.activeComponent.panelItems;\r\n\r\n                if (typeof panel === \"undefined\" || !Array.isArray(panel.items)) {\r\n                    return {\r\n                        data: {},\r\n                        items: [],\r\n                    };\r\n                }\r\n\r\n                let id = 0;\r\n\r\n                panel.items.forEach(item => {\r\n                    if (!item.id) {\r\n                        if (item.props && item.props.fieldName) {\r\n                            item.id = this.activeComponent.$.uid + '-' + item.props.fieldName;\r\n                        } else {\r\n                            item.id = this.hashCode(JSON.stringify(item));\r\n                        }\r\n                    }\r\n                });\r\n\r\n                return panel;\r\n            },\r\n        },\r\n\r\n        watch: {\r\n            activeComponent(val) {\r\n                if (!val || !val.$el) {\r\n                    this.navigationHidden = true;\r\n                    return;\r\n                }\r\n\r\n                this.$nextTick(function () {\r\n                    let webFormRect = this.$el.parentNode.getBoundingClientRect(),\r\n                        componentRect = val.$el.getBoundingClientRect();\r\n\r\n                    let panelTop = 0;\r\n\r\n                    if (webFormRect.y < 0) {\r\n                        panelTop = Math.abs(webFormRect.y);\r\n                    }\r\n\r\n                    this.panelTop = panelTop + 'px';\r\n\r\n                    this.navigationHidden = false;\r\n                    this.navigationTop = Math.ceil(componentRect.y - webFormRect.y + (componentRect.height / 2) - 25 - panelTop) + 'px';\r\n                });\r\n            },\r\n        },\r\n\r\n        templateOld: `\r\n                    <div class=\"devbx-webform-left-panel\" :style=\"{'margin-top': panelTop}\">\r\n                        <div class=\"devbx-webform-navigation fa fa-long-arrow-right\" \r\n                            :class=\"{'devbx-webform-navigation-hidden': navigationHidden}\" :style=\"{top: navigationTop}\"></div>\r\n\r\n                        <transition-group name=\"list\">\r\n                            <component v-for=\"item of panelItems.items\" :is=\"item.name\" v-bind=\"item.props\"\r\n                                       :key=\"item.id\" :form-data=\"panelItems.data\"/>\r\n                        </transition-group>\r\n                    </div>\r\n    `,\r\n        template: `\r\n                    <div class=\"devbx-webform-left-panel\" :style=\"{'margin-top': panelTop}\">\r\n                        <div class=\"devbx-webform-navigation fa fa-long-arrow-right\" \r\n                            :class=\"{'devbx-webform-navigation-hidden': navigationHidden}\" :style=\"{top: navigationTop}\"></div>\r\n\r\n                            <component v-for=\"item of panelItems.items\" :is=\"item.name\" v-bind=\"item.props\"\r\n                                       :key=\"item.id\" :form-data=\"panelItems.data\"/>\r\n                    </div>\r\n    `\r\n    });\r\n});","import './devbx.webform.form.page.css';\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-form-page', {\r\n        props: ['page'],\r\n        updated() {\r\n            let item = this.page.getItemById(this.$root.activeId);\r\n\r\n            if (item && item.component && item.component.$el) {\r\n                item.component.$el.parentNode.focus();\r\n            }\r\n        },\r\n        mounted() {\r\n            this.$root.registerSystemWebFormItem(this.page.id, this);\r\n\r\n            if (this.isActive) {\r\n                this.$nextTick(function () {\r\n                    if (this.page.rows.length > 0 && this.page.rows[0].items.length > 0) {\r\n                        this.$root.activeId = this.page.rows[0].items[0].id;\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        beforeUnmount() {\r\n            this.$root.unRegisterSystemWebFormItem(this.page.id);\r\n        },\r\n        watch: {\r\n            isActive(val) {\r\n                if (val) {\r\n                    //this.$root.activeId = this.page.rows[0].items[0].id;\r\n                }\r\n            }\r\n        },\r\n        computed: {\r\n            isActive() {\r\n                return this.$root.activePageId == this.page.id;\r\n            }\r\n        },\r\n        template: `\r\n            <div class=\"devbx-webform-layout\" :class=\"{'devbx-webform-layout-active': isActive}\">\r\n                    <devbx-webform-form-row v-for=\"(row, index) in page.rows\" :key=\"row.id\" v-bind:page=\"page\" v-bind:row=\"row\"/>\r\n                    <devbx-webform-form-actions :page=\"page\" :form-actions=\"$root.formActions\"></devbx-webform-form-actions>\r\n            </div>\r\n            `\r\n    });\r\n});","import './devbx.webform.form.row.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-form-row', {\r\n        props: ['page', 'row'],\r\n        data() {\r\n            return {\r\n                hoverId: false,\r\n            };\r\n        },\r\n        methods: {\r\n            elementClick(id) {\r\n                this.$root.activeId = id;\r\n            },\r\n\r\n            mouseDown(event) {\r\n                let el = event.target.closest('.devbx-webform-layout-element').firstChild;\r\n\r\n                //this.$root.resizeItemId = el.__vue__.$props.item.id; //vue 2\r\n                //this.$root.resizeItemId = el.__vueParentComponent.props.item.id; //vue 3\r\n                this.$root.resizeItemId = el.__vueParentComponent.proxy.item.id;\r\n            },\r\n\r\n            clickAddSpace(event) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n\r\n                if (this.row.getRowMaxReleaseSpace() <= 0)\r\n                    return;\r\n\r\n                /* //vue 2\r\n                let itemId = event.target.closest('.devbx-webform-layout-element').firstChild.__vue__.$props.item.id,\r\n                    cell = this.$root.getLayoutItemById(itemId, true);\r\n\r\n                 */\r\n\r\n                let itemId = event.target.closest('.devbx-webform-layout-element').firstChild.__vueParentComponent.proxy.item.id,\r\n                    cell = this.$root.getLayoutItemById(itemId, true);\r\n\r\n                if (!cell)\r\n                    return;\r\n\r\n                cell.row.insertFreeSpace(cell.index);\r\n            },\r\n\r\n            dblClick(item) {\r\n                item = item.prevSibling();\r\n                if (!item)\r\n                    return;\r\n\r\n                let freeSize = item.parent.rowReleaseSpace(item.index, this.$root.maxRowSize);\r\n\r\n                item.size += freeSize;\r\n            },\r\n\r\n            allowAddSpace() {\r\n                return this.row.getRowMaxReleaseSpace() > 0;\r\n            },\r\n\r\n            clickAddRowSpace() {\r\n                let index = this.page.rows.indexOf(this.row);\r\n\r\n                if (index > -1) {\r\n                    let emptyItem = this.$root.getNewEmptyCell(this.$root.maxRowSize);\r\n                    emptyItem.props.deleteBlur = true;\r\n\r\n                    this.page.addRow(index).items.push(emptyItem);\r\n\r\n                    this.$root.activeId = emptyItem.id;\r\n                }\r\n            },\r\n\r\n            deleteItem: function (item) {\r\n                if (item.template === this.$root.emptyCellTemplate)\r\n                    return;\r\n\r\n                this.$root.deleteItemById(item.id);\r\n            },\r\n\r\n            dragStart(event, item) {\r\n                this.$root.dragData = {type: 'item', id: item.id};\r\n                this.$root.dragItemId = item.id;\r\n            },\r\n\r\n            dragEnd(event, item) {\r\n                this.$root.dragData = false;\r\n                this.$root.dragItemId = '';\r\n            },\r\n\r\n            keydown(event, item) {\r\n                let code = event.code.toLowerCase(),\r\n                    cell = this.$root.getLayoutItemById(item.id, true),\r\n                    nextCell;\r\n\r\n                if (!cell)\r\n                    return;\r\n\r\n                switch (code) {\r\n                    case 'delete':\r\n                        this.deleteItem(item);\r\n                        break;\r\n                    case 'arrowleft':\r\n\r\n                        nextCell = cell.item.getCellSelectItem(-1);\r\n\r\n                        if (nextCell) {\r\n                            this.$root.activeId = nextCell.item.id;\r\n                        }\r\n\r\n                        break;\r\n                    case 'arrowright':\r\n\r\n                        nextCell = cell.item.getCellSelectItem(1);\r\n\r\n                        if (nextCell) {\r\n                            this.$root.activeId = nextCell.item.id;\r\n                        }\r\n\r\n                        break;\r\n                    case 'arrowup':\r\n\r\n                        nextCell = cell.item.getCellAbove();\r\n                        if (nextCell) {\r\n                            this.$root.activeId = nextCell.item.id;\r\n                        }\r\n\r\n                        break;\r\n                    case 'arrowdown':\r\n\r\n                        nextCell = cell.item.getCellBelow();\r\n                        if (nextCell) {\r\n                            this.$root.activeId = nextCell.item.id;\r\n                        }\r\n\r\n                        break;\r\n                    default:\r\n                        return;\r\n                }\r\n\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n            },\r\n\r\n            mouseEnter(item) {\r\n                this.hoverId = item.id;\r\n            },\r\n\r\n            mouseLeave(item) {\r\n                if (this.hoverId == item.id) {\r\n                    this.hoverId = false;\r\n                }\r\n            },\r\n        },\r\n\r\n        computed: {\r\n            activeId() {\r\n                return this.$root.activeId;\r\n            },\r\n        },\r\n\r\n        directives: {\r\n            selectable: {\r\n                mounted(el, binding, vnode, old) {\r\n\r\n                    let component = el.__vueParentComponent.proxy;\r\n\r\n                    component.item.component = component;\r\n\r\n                    if (binding.instance.activeId === component.item.id)\r\n                    {\r\n                        el.parentNode.focus();\r\n                    }\r\n\r\n                    /*\r\n                    vnode.componentInstance.item.component = vnode.componentInstance;\r\n\r\n                    if (vnode.context.activeId === vnode.componentInstance.item.id) {\r\n                        el.parentNode.focus();\r\n                    }\r\n                     */\r\n                },\r\n\r\n                unmounted(el, binding, vnode, old) {\r\n                    let component = el.__vueParentComponent.proxy;\r\n\r\n                    if (component.item.component === component)\r\n                    {\r\n                        component.item.component = false;\r\n                    }\r\n\r\n                    /*\r\n                    if (vnode.componentInstance.item.component === vnode.componentInstance) {\r\n                        vnode.componentInstance.item.component = false;\r\n                    }\r\n                     */\r\n                }\r\n            },\r\n        },\r\n\r\n        template: `\r\n                <div class=\"devbx-webform-row\">\r\n                    <div class=\"devbx-webform-layout-quick-insert-row\">\r\n                            <div class=\"devbx-webform-plus\" @click.stop.prevent=\"clickAddRowSpace\"><i class=\"fa fa-plus\"></i></div>\r\n                            <div class=\"devbx-webform-line\" @click.stop.prevent=\"clickAddRowSpace\"></div>\r\n                    </div>\r\n                    \r\n                    <div class=\"devbx-webform-fields\">\r\n                        <div :class=\"{\r\n                            'devbx-webform-layout-element': true, \r\n                            'devbx-webform-layout-element-hover': (hoverId == item.id && activeId != item.id), \r\n                            'devbx-webform-layout-element-active': activeId == item.id\r\n                            }\" \r\n                        v-for=\"(item,index) of row.items\" \r\n                        :key=\"item.id\" \r\n                        :data-colspan=\"item.size\" \r\n                        tabindex=\"0\" \r\n                        :draggable=\"item.fieldId != 'empty'\" \r\n                        @click.stop.prevent=\"elementClick(item.id)\"\r\n                        @keydown=\"keydown($event, item)\"\r\n                        @dragstart.stop=\"dragStart($event, item)\"\r\n                        @dragend=\"dragEnd($event, item)\"\r\n                        @mouseenter=\"mouseEnter(item)\"\r\n                        @mouseleave=\"mouseLeave(item)\"\r\n                        >\r\n                            <component \r\n                            :is=\"item.template\" \r\n                            v-selectable \r\n                            v-bind=\"item.props\" \r\n\t\t\t                :config=\"item.config\"\r\n                            :page=\"page\" \r\n                            :row=\"row\" \r\n                            :item=\"item\" \r\n                            :active=\"activeId == item.id\"\r\n                            />\r\n                            <div class=\"devbx-webform-layout-resizer\" @mousedown.stop.prevent=\"mouseDown($event)\" @dblclick.stop.prevent=\"dblClick(item)\"></div>\r\n                            <div class=\"devbx-webform-layout-quick-insert\">\r\n                                <div class=\"devbx-webform-plus\" @click.stop.prevent=\"clickAddSpace\" v-if=\"item.template != 'devbx-form-empty-cell' && allowAddSpace()\"><i class=\"fa fa-plus\"></i></div>\r\n                                <div class=\"devbx-webform-line\"></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n`\r\n    });\r\n});","import './devbx.webform.caption.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-caption', {\r\n        props: ['title', 'formData'],\r\n        template: `\r\n<div class=\"devbx-webform-caption\">\r\n    <h5>{{title}}</h5>\r\n</div>\r\n`\r\n    });\r\n});","import './devbx.webform.separator.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-separator', {\r\n        props: ['title', 'formData'],\r\n        template: `\r\n<div class=\"devbx-webform-separator\">\r\n    {{title}}\r\n</div>\r\n`\r\n    });\r\n});","import './devbx.webform.text.field.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-text-field', {\r\n        props: ['formData', 'fieldName', 'title', 'multiline', 'fieldVisibleName',\r\n            'live', 'trim', 'defaultValue', 'allowFormFields', 'readonly'],\r\n        methods: {\r\n            onInput(value) {\r\n                if (this.live === false)\r\n                    return;\r\n\r\n                this.formData[this.fieldName] = value;\r\n            },\r\n\r\n            onChange(value) {\r\n\r\n                if (this.trim === true) {\r\n                    value = value.trim();\r\n                }\r\n\r\n                if (!value.length && this.defaultValue !== undefined) {\r\n                    value = this.defaultValue;\r\n                }\r\n\r\n                this.formData[this.fieldName] = value;\r\n            }\r\n        },\r\n        template: `\r\n<div class=\"devbx-webform-field\">\r\n    <div class=\"devbx-webform-label\">{{title}}</div>\r\n    <div class=\"devbx-webform-edit\" :class=\"{'devbx-webform-edit-with-checkbox': !!fieldVisibleName}\">\r\n        <div class=\"devbx-webform-field-hide-value\" v-if=\"fieldVisibleName\">\r\n            <input type=\"checkbox\" v-model=\"formData[fieldVisibleName]\" id=\"visibleCheckbox\">\r\n            <label class=\"fa\" for=\"visibleCheckbox\"></label>               \r\n        </div>\r\n        \r\n        <textarea v-if=\"multiline\" \r\n            :readonly=\"readonly\"\r\n            @input=\"onInput($event.target.value)\" \r\n            @change=\"onChange($event.target.value)\"\r\n        >{{formData[fieldName]}}</textarea>\r\n        <input v-else\r\n            type=\"text\" \r\n            :value=\"formData[fieldName]\"\r\n            :readonly=\"readonly\"\r\n            @input=\"onInput($event.target.value)\" @change=\"onChange($event.target.value)\">\r\n    </div>\r\n</div>\r\n`\r\n    });\r\n});","BX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-selectbox-field', {\r\n        props: ['formData', 'title', 'type', 'values', 'fieldName'],\r\n        methods: {\r\n            setValue(value, remove) {\r\n                let formValue = this.formData[this.fieldName];\r\n\r\n                if (Array.isArray(formValue)) {\r\n                    let idx = formValue.indexOf(value);\r\n\r\n                    if (remove === true) {\r\n                        if (idx > -1) {\r\n                            formValue.splice(idx, 1);\r\n                        }\r\n                    } else {\r\n                        if (idx < 0) {\r\n                            formValue.push(value);\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (remove === true) {\r\n                        formValue = '';\r\n                    } else {\r\n                        formValue = value;\r\n                    }\r\n                }\r\n\r\n                this.formData[this.fieldName] = formValue;\r\n            }\r\n        },\r\n        computed: {\r\n            value() {\r\n                return this.formData[this.fieldName];\r\n            },\r\n        },\r\n        template: `\r\n<div class=\"devbx-webform-field\">\r\n    <div class=\"devbx-webform-label\">{{title}}</div>\r\n    \r\n    <div class=\"devbx-webform-radio-group\" v-if=\"type == 'radio'\">\r\n        <div class=\"devbx-webform-radio-item\" v-for=\"variant in values\">\r\n            <label>\r\n            <input \r\n                type=\"radio\" \r\n                :disabled=\"variant.disabled\" \r\n                :checked=\"value == variant.value\" \r\n                @change=\"setValue(variant.value, !$event.target.checked)\">\r\n            {{variant.text}}\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <div class=\"devbx-webform-checkbox-group\" v-if=\"type == 'checkbox'\">\r\n        <div class=\"devbx-webform-checkbox-item\" v-for=\"variant in values\">\r\n            <label>\r\n            <input \r\n                type=\"checkbox\" \r\n                :checked=\"value == variant.value\"\r\n                :disabled=\"variant.disabled\" \r\n                @change=\"setValue(variant.value, !$event.target.checked)\">\r\n            {{variant.text}}\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <div class=\"devbx-webform-edit\" v-else-if=\"type == 'select'\">\r\n        <div class=\"devbx-webform-select\">\r\n            <select @change=\"setValue($event.target.value, false)\" :value=\"value\">\r\n                <option  v-for=\"variant in values\" :value=\"variant.value\" :disabled=\"variant.disabled\">{{variant.text}}</option>        \r\n            </select>\r\n        </div>\r\n    </div>\r\n</div>\r\n`\r\n    });\r\n});","import './devbx.webform.html.field.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function (app) {\r\n\r\n    let htmlEditorObj = {},\r\n        regHtmlEditorId = {};\r\n\r\n    app.component('devbx-webform-html-field', {\r\n        props: ['title', 'formData', 'fieldName', 'editorConfig'],\r\n        data() {\r\n            return {\r\n                blurTimeout: false,\r\n                editorInitedBeforeHandler: false,\r\n                editorCreatedHandler: false,\r\n                changeContentHandler: false,\r\n                getControlsMapHandler: false,\r\n                getDevBxFormFieldsHandler: false,\r\n                unwatchHandler: false,\r\n                htmlEditorId: false,\r\n            }\r\n        },\r\n        mounted() {\r\n            this.editorInitedBeforeHandler = BX.delegate(this.onEditorInitedBefore, this);\r\n            this.editorCreatedHandler = BX.delegate(this.editorCreated, this);\r\n            this.changeContentHandler = BX.delegate(this.contentChanged, this);\r\n            this.getControlsMapHandler = BX.delegate(this.getControlsMap, this);\r\n            this.getDevBxFormFieldsHandler = BX.delegate(this.getDevBxFormFields, this);\r\n\r\n            this.htmlEditorId = this.fieldName;\r\n\r\n            let nextId = 0;\r\n\r\n            while (regHtmlEditorId[this.htmlEditorId]) {\r\n                nextId++;\r\n                this.htmlEditorId = this.fieldName + '_' + nextId;\r\n            }\r\n\r\n            regHtmlEditorId[this.htmlEditorId] = true;\r\n\r\n            BX.addCustomEvent(window, \"OnEditorInitedBefore\", this.editorInitedBeforeHandler);\r\n            BX.addCustomEvent(window, \"OnEditorCreated\", this.editorCreatedHandler);\r\n\r\n            BX.ajax.runAction('devbx:forms.api.webform.getHtmlEditor', {\r\n                data: {\r\n                    name: this.htmlEditorId,\r\n                    config: this.editorConfig ? this.editorConfig : 'simple',\r\n                }\r\n            }).then(\r\n                BX.delegate(this.getHtmlEditorSuccess, this),\r\n                BX.delegate(this.getHtmlEditorError, this),\r\n            );\r\n        },\r\n        beforeUnmount() {\r\n            regHtmlEditorId[this.htmlEditorId] = false;\r\n\r\n            if (htmlEditorObj[this.htmlEditorId]) {\r\n                BX.removeCustomEvent(htmlEditorObj[this.htmlEditorId], \"OnContentChanged\", this.changeContentHandler);\r\n                BX.removeCustomEvent(htmlEditorObj[this.htmlEditorId], \"GetControlsMap\", this.getControlsMapHandler);\r\n                BX.removeCustomEvent(htmlEditorObj[this.htmlEditorId], \"GetDevBxFormFiles\", this.getDevBxFormFieldsHandler);\r\n\r\n                this.formData[this.fieldName] = htmlEditorObj[this.htmlEditorId].GetContent();\r\n\r\n                htmlEditorObj[this.htmlEditorId].Destroy();\r\n                htmlEditorObj[this.htmlEditorId] = false;\r\n            }\r\n\r\n            BX.removeCustomEvent(window, \"OnEditorInitedBefore\", this.editorInitedBeforeHandler);\r\n            BX.removeCustomEvent(window, \"OnEditorCreated\", this.editorCreatedHandler);\r\n\r\n            this.setWatch(false);\r\n        },\r\n        methods: {\r\n            getHtmlEditorSuccess(response) {\r\n                let ob = BX.processHTML(response.data.content + response.data.css + response.data.js);\r\n\r\n                if (this.$refs.edit) {\r\n                    this.$refs.edit.innerHTML = ob.HTML;\r\n\r\n                    if (ob.STYLE.length > 0)\r\n                        BX.loadCSS(ob.STYLE);\r\n\r\n                    BX.ajax.processScripts(ob.SCRIPT, true);\r\n                    BX.ajax.processScripts(ob.SCRIPT, false);\r\n                }\r\n            },\r\n\r\n            getHtmlEditorError(response) {\r\n\r\n            },\r\n\r\n            onEditorInitedBefore(editor) {\r\n                if (editor.id == this.htmlEditorId) {\r\n                    htmlEditorObj[this.htmlEditorId] = editor;\r\n\r\n                    BX.addCustomEvent(htmlEditorObj[this.htmlEditorId], \"OnContentChanged\", this.changeContentHandler);\r\n                    BX.addCustomEvent(htmlEditorObj[this.htmlEditorId], \"GetControlsMap\", this.getControlsMapHandler);\r\n                    BX.addCustomEvent(htmlEditorObj[this.htmlEditorId], \"GetDevBxFormFiles\", this.getDevBxFormFieldsHandler);\r\n\r\n                    this.setWatch(true);\r\n                }\r\n            },\r\n\r\n            getDevBxFormFields(items) {\r\n                items.push(...this.$root.formFields);\r\n            },\r\n\r\n            getControlsMap(controlsMap) {\r\n            },\r\n\r\n            editorCreated(editor) {\r\n                if (editor.id == this.htmlEditorId) {\r\n                    let iframe = editor.dom.iframeCont;\r\n\r\n                    iframe.firstChild.contentDocument.head.insertAdjacentHTML('beforeend', '<link rel=\"stylesheet\" href=\"/bitrix/css/devbx.forms/htmleditor.iframe.css\">');\r\n\r\n                    editor.SetContent(this.formData[this.fieldName]);\r\n\r\n                    let self = this;\r\n\r\n                    setTimeout(function() {\r\n                        if (htmlEditorObj[self.htmlEditorId])\r\n                        {\r\n                            htmlEditorObj[self.htmlEditorId].synchro.FullSyncFromIframe();\r\n                        }\r\n                    }, 100);\r\n\r\n                }\r\n            },\r\n\r\n            contentChanged(html, editorContent) {\r\n                console.log('contentChanged');\r\n                this.setWatch(false);\r\n                this.formData[this.fieldName] = html;\r\n                this.setWatch(true);\r\n            },\r\n\r\n            getEditorClass() {\r\n                return 'html-editor-config-' + (this.editorConfig ? this.editorConfig : 'simple');\r\n            },\r\n\r\n            setWatch(value) {\r\n                if (value) {\r\n                    if (!this.unwatchHandler) {\r\n                        this.unwatchHandler = this.$watch(function () {\r\n                            return this.formData[this.fieldName];\r\n                        }, function (val, oldVal) {\r\n                            if (htmlEditorObj[this.htmlEditorId]) {\r\n                                htmlEditorObj[this.htmlEditorId].SetContent(val);\r\n\r\n                                let self = this;\r\n\r\n                                setTimeout(function () {\r\n                                    self.htmlEditor.synchro.FullSyncFromIframe();\r\n                                }, 50);\r\n                            }\r\n                        });\r\n                    }\r\n                } else {\r\n                    if (this.unwatchHandler) {\r\n                        this.unwatchHandler();\r\n                        this.unwatchHandler = false;\r\n                    }\r\n                }\r\n            },\r\n        },\r\n        template: `\r\n<div class=\"devbx-webform-field\">\r\n    <div class=\"devbx-webform-label\">{{title}}</div>\r\n    <div ref=\"edit\" class=\"devbx-webform-edit\" :class=\"getEditorClass()\">\r\n    \r\n</div>\r\n</div>\r\n`\r\n    });\r\n});","import './devbx.webform.range.field.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-range-field', {\r\n        props: {\r\n            'formData': {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            'title': {\r\n                type: String,\r\n                default: '',\r\n            },\r\n            'readonly': {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            'fieldMinName': {\r\n                type: String,\r\n                required: true,\r\n            },\r\n            'fieldMaxName': {\r\n                type: String,\r\n                required: true,\r\n            },\r\n            'decimalPlaces': {\r\n                default: null\r\n            },\r\n        },\r\n        computed: {\r\n            displayValueMin() {\r\n                return this.getDisplayValue(this.fieldMinName);\r\n            },\r\n\r\n            displayValueMax() {\r\n                return this.getDisplayValue(this.fieldMaxName);\r\n            },\r\n        },\r\n        methods: {\r\n            onChange(fieldName, value) {\r\n                value = value.replaceAll(this.$root.culture.numberThousandsSeparator, '');\r\n                value = value.replaceAll(this.$root.culture.numberDecimalSeparator, '.');\r\n\r\n                if (this.decimalPlaces <= 0) {\r\n                    value = parseInt(value.trim(), 10);\r\n                } else {\r\n                    value = parseFloat(value);\r\n                    if (!isNaN(value))\r\n                        value = parseFloat(value.toFixed(this.decimalPlaces));\r\n                }\r\n\r\n                if (!isNaN(value)) {\r\n                    if (this.maxValue !== null && value > this.maxValue)\r\n                        value = this.maxValue;\r\n\r\n                    if (this.minValue !== null && value < this.minValue)\r\n                        value = this.minValue;\r\n                } else {\r\n                    if (this.allowEmpty || this.minValue === null) {\r\n                        value = '';\r\n                    } else {\r\n                        value = this.minValue;\r\n                    }\r\n                }\r\n\r\n                this.formData[fieldName] = value;\r\n            },\r\n\r\n            getDisplayValue(fieldName) {\r\n                let value = parseFloat(this.formData[fieldName]);\r\n\r\n                if (isNaN(value))\r\n                    return this.formData[fieldName];\r\n\r\n                value = value.toFixed(this.decimalPlaces > 0 ? this.decimalPlaces : 0);\r\n\r\n                let parts = value.toString().split(\".\");\r\n\r\n                return parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, this.$root.culture.numberThousandsSeparator) +\r\n                    (parts[1] ? this.$root.culture.numberDecimalSeparator + parts[1] : \"\");\r\n\r\n            }\r\n        },\r\n        template: `\r\n<div class=\"devbx-webform-field\">\r\n    <div class=\"devbx-webform-label\">{{title}}</div>\r\n    <div class=\"devbx-webform-edit devbx-webform-range-field\">\r\n    <span>\r\n        <input\r\n            type=\"text\"\r\n            :readonly=\"readonly\"\r\n            :style=\"{'width':'120px', 'display': 'inline-block'}\"\r\n            :placeholder=\"$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_RANGE_MINIMUM')\"\r\n            :value=\"displayValueMin\"\r\n            @change=\"onChange(fieldMinName, $event.target.value)\">\r\n    </span>\r\n    {{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_RANGE_TO')}}\r\n    <span>\r\n        <input\r\n            type=\"text\"\r\n            :readonly=\"readonly\"\r\n            :style=\"{'width':'120px', 'display': 'inline-block'}\"\r\n            :placeholder=\"$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_RANGE_MAXIMUM')\"\r\n            :value=\"displayValueMax\"\r\n            @change=\"onChange(fieldMaxName, $event.target.value)\">\r\n    </span>\r\n            \r\n    </div>\r\n</div>\r\n`\r\n    });\r\n});","import './devbx.webform.select.options.field.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-select-options-field', {\r\n        props: ['formData', 'title', 'assignValues', 'fieldName', 'multiple'],\r\n        data() {\r\n            return {\r\n                dragItem: false,\r\n            }\r\n        },\r\n        methods: {\r\n            selectItem(targetIndex, checked) {\r\n                if (!checked) {\r\n                    this.formData[this.fieldName][targetIndex].selected = false;\r\n                    return;\r\n                }\r\n\r\n                if (this.multiple) {\r\n                    this.formData[this.fieldName][targetIndex].selected = true;\r\n\r\n                } else {\r\n                    this.formData[this.fieldName].forEach((item, index) => {\r\n                        item.selected = index === targetIndex;\r\n                    });\r\n                }\r\n            },\r\n\r\n            setItemText(index, text) {\r\n                this.formData[this.fieldName][index].text = text;\r\n            },\r\n\r\n            deleteItem(index) {\r\n                if (this.formData[this.fieldName].length <= 1)\r\n                    return;\r\n\r\n                this.formData[this.fieldName].splice(index, 1);\r\n            },\r\n\r\n            addItem(index) {\r\n                this.formData[this.fieldName].splice(index + 1, 0, {text: '', value: '', selected: false});\r\n            },\r\n\r\n            setItemValue(index, value) {\r\n                this.formData[this.fieldName][index].value = value;\r\n            },\r\n\r\n            dragStart(event, item) {\r\n                this.dragItem = item;\r\n            },\r\n\r\n            dragEnter(event, item) {\r\n                if (!this.dragItem)\r\n                    return;\r\n\r\n                event.preventDefault();\r\n\r\n                if (this.dragItem === item)\r\n                    return;\r\n\r\n                let oldIndex = this.formData[this.fieldName].indexOf(this.dragItem),\r\n                    newIndex = this.formData[this.fieldName].indexOf(item);\r\n\r\n                this.formData[this.fieldName].splice(oldIndex, 1);\r\n                this.formData[this.fieldName].splice(newIndex, 0, this.dragItem);\r\n            },\r\n\r\n            dragOver(event, item) {\r\n                if (!this.dragItem)\r\n                    return;\r\n\r\n                event.preventDefault();\r\n            },\r\n\r\n            dragEnd(event, item) {\r\n                this.dragItem = false;\r\n            },\r\n\r\n            drop(event) {\r\n\r\n            },\r\n        },\r\n        computed: {\r\n            value() {\r\n                return this.formData[this.fieldName];\r\n            }\r\n        },\r\n        template: `\r\n<div class=\"devbx-webform-field\">\r\n    <div class=\"devbx-webform-label\">{{title}}</div>\r\n    \r\n    <table :class=\"{'devbx-webform-selection-values-tbl': true, 'devbx-webform-selection-values-del-disabled': value.length<=1}\">\r\n        <tr v-for=\"(item, index) in value\" draggable=\"true\" \r\n        @dragstart=\"dragStart($event, item)\" \r\n        @dragenter=\"dragEnter($event, item)\"\r\n        @dragover=\"dragOver\" \r\n        @dragend=\"dragEnd($event, item)\" \r\n        @drop=\"drop\">\r\n            <td class=\"devbx-webform-selection-values-select\">\r\n                   <span class=\"devbx-webform-selection-values-drag\"><i class=\"fa fa-ellipsis-v\"></i></span>            \r\n                   <label><input type=\"checkbox\" :checked=\"item.selected\" @change=\"selectItem(index, $event.target.checked)\"></label>\r\n            </td>\r\n            <td class=\"devbx-webform-selection-values-text\">\r\n                    <input type=\"text\" :value=\"item.text\" @input=\"setItemText(index, $event.target.value)\">            \r\n            </td>\r\n            <td class=\"devbx-webform-selection-values-value\" v-if=\"assignValues\">\r\n                    <input type=\"text\" :value=\"item.value\" @input=\"setItemValue(index, $event.target.value)\">            \r\n            </td>\r\n            <td class=\"devbx-webform-selection-values-actions\">\r\n                <a class=\"devbx-webform-selection-values-action-remove\" href=\"#\" @click.prevent=\"deleteItem(index)\"><i class=\"fa fa-trash\"></i></a>            \r\n                <a href=\"#\" @click.prevent=\"addItem(index)\"><i class=\"fa fa-plus\"></i></a>\r\n            </td>        \r\n        </tr>\r\n    </table>\r\n</div>\r\n`\r\n    });\r\n});","import './devbx.webform.bool.field.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-bool-field', {\r\n        props: {\r\n            formData: {\r\n                required: true,\r\n            },\r\n            title: {\r\n                type: String,\r\n            },\r\n            fieldName: {\r\n                type: String,\r\n                required: true,\r\n            },\r\n            readonly: {\r\n                default: false,\r\n            }\r\n        },\r\n        template: `\r\n<div class=\"devbx-webform-field\">\r\n    <div class=\"devbx-webform-label\"></div>\r\n    <div class=\"devbx-webform-edit\">\r\n        <label>\r\n            <input type=\"checkbox\" v-model=\"formData[fieldName]\" :disabled=\"readonly\">\r\n        {{title}}\r\n        </label>\r\n    </div>\r\n</div>\r\n`\r\n    });\r\n});","import './devbx.webform.number.field.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-number-field', {\r\n        props: {\r\n            'formData': {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            'fieldName': {\r\n                type: String,\r\n                required: true,\r\n            },\r\n            'title': {\r\n                type: String,\r\n                default: '',\r\n            },\r\n            'readonly': {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            'minValue': {\r\n                default: null,\r\n            },\r\n            'maxValue': {\r\n                default: null,\r\n            },\r\n            'allowEmpty': {\r\n                type: Boolean,\r\n                default: true,\r\n            },\r\n            'decimalPlaces': {\r\n                default: null\r\n            },\r\n        },\r\n        methods: {\r\n            onChange(value) {\r\n                value = value.replaceAll(this.$root.culture.numberThousandsSeparator, '');\r\n                value = value.replaceAll(this.$root.culture.numberDecimalSeparator, '.');\r\n\r\n                if (this.decimalPlaces <= 0) {\r\n                    value = parseInt(value.trim(), 10);\r\n                } else {\r\n                    value = parseFloat(value);\r\n                    if (!isNaN(value))\r\n                        value = parseFloat(value.toFixed(this.decimalPlaces));\r\n                }\r\n\r\n                if (!isNaN(value)) {\r\n                    if (this.maxValue !== null && value > this.maxValue)\r\n                        value = this.maxValue;\r\n\r\n                    if (this.minValue !== null && value < this.minValue)\r\n                        value = this.minValue;\r\n                } else {\r\n                    if (this.allowEmpty || this.minValue === null) {\r\n                        value = '';\r\n                    } else {\r\n                        value = this.minValue;\r\n                    }\r\n                }\r\n\r\n                this.formData[this.fieldName] = value;\r\n            }\r\n        },\r\n        computed: {\r\n            displayValue() {\r\n                let value = parseFloat(this.formData[this.fieldName]);\r\n\r\n                if (isNaN(value))\r\n                    return this.formData[this.fieldName];\r\n\r\n                value = value.toFixed(this.decimalPlaces > 0 ? this.decimalPlaces : 0);\r\n\r\n                let parts = value.toString().split(\".\");\r\n\r\n                return parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, this.$root.culture.numberThousandsSeparator) +\r\n                    (parts[1] ? this.$root.culture.numberDecimalSeparator + parts[1] : \"\");\r\n            },\r\n        },\r\n        template: `\r\n<div class=\"devbx-webform-field\">\r\n    <div class=\"devbx-webform-label\">{{title}}</div>\r\n    <div class=\"devbx-webform-edit\">\r\n        <input\r\n            type=\"text\" \r\n            :value=\"displayValue\"\r\n            :readonly=\"readonly\"\r\n            @change=\"onChange($event.target.value)\">\r\n    </div>\r\n</div>\r\n`\r\n    });\r\n});","import './devbx.webform.multiselect.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-multiselect', {\r\n        props: {\r\n            value: {\r\n                type: null,\r\n                default() {\r\n                    return []\r\n                }\r\n            },\r\n            label: {\r\n                type: String,\r\n                default: 'label'\r\n            },\r\n            options: {\r\n                type: null,\r\n                default() {\r\n                    return []\r\n                }\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                showSearch: false,\r\n                searchValue: '',\r\n                events: [],\r\n                dropDownPosition: false,\r\n                timer: false,\r\n            };\r\n        },\r\n        mounted() {\r\n            this.bindEvent(document, 'focusin', BX.delegate(this.focusIn, this));\r\n            this.bindEvent(document, 'focusout', BX.delegate(this.focusOut, this));\r\n            this.bindEvent(document, 'click', BX.delegate(this.documentClick, this));\r\n            this.bindEvent(window, 'resize', BX.delegate(this.onResize, this));\r\n            this.bindEvent(document, 'scroll', BX.delegate(this.boundsCheck, this));\r\n\r\n            this.timer = setInterval(BX.delegate(this.boundsCheck, this), 100);\r\n        },\r\n        beforeUnmount() {\r\n            clearInterval(this.timer);\r\n\r\n            this.events.forEach(item => {\r\n                item.el.removeEventListener(item.type, item.callback);\r\n            });\r\n        },\r\n        computed: {\r\n            searchOptions() {\r\n                let result = [],\r\n                    searchText = this.searchValue.toUpperCase();\r\n\r\n                Object.values(this.options).forEach(option => {\r\n                    if (searchText.length > 0 && option[this.label].toUpperCase().indexOf(searchText) < 0)\r\n                        return;\r\n\r\n                    result.push({\r\n                        id: option.id,\r\n                        option: option,\r\n                        selected: this.value.indexOf(option) >= 0,\r\n                    });\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            inputWidth() {\r\n\r\n                return (2 + this.searchValue.length) + 'ch';\r\n\r\n            },\r\n        },\r\n        methods: {\r\n            boundsCheck() {\r\n                let rect = this.$refs.selValues.getBoundingClientRect();\r\n\r\n                this.$refs.fakeInput.style.height = rect.height + 'px';\r\n\r\n                let minWidth = 0;\r\n\r\n                this.$el.querySelectorAll('.devbx-webform-select-input-value-tag').forEach(item => {\r\n                    minWidth = Math.max(minWidth, item.getBoundingClientRect().width);\r\n                });\r\n\r\n                //this.$el.style.width = (minWidth + 15) + 'px';\r\n\r\n                this.getDropDownPosition();\r\n            },\r\n\r\n            focusInput() {\r\n                this.$refs.inputSearch.focus();\r\n            },\r\n\r\n            getDropDownPosition() {\r\n                let inp = this.$refs.fakeInput,\r\n                    topY;\r\n\r\n                if (!inp) {\r\n                    this.dropDownPosition = false;\r\n                    return;\r\n                }\r\n\r\n                let rect = inp.getBoundingClientRect();\r\n\r\n                let elList = this.$refs.valueList;\r\n\r\n                if (elList) {\r\n                    let listRect = elList.getBoundingClientRect();\r\n\r\n                    if (rect.y + rect.height + listRect.height >= document.body.clientHeight) {\r\n\r\n                        topY = rect.y - listRect.height;\r\n                        if (topY < 0)\r\n                            topY = 0;\r\n\r\n                        this.dropDownPosition = {\r\n                            position: 'fixed',\r\n                            top: topY + 'px',\r\n                            width: rect.width + 'px',\r\n                            'transform-origin': 'center bottom'\r\n                        };\r\n\r\n                        return;\r\n                    }\r\n                }\r\n\r\n                if (!elList && this.dropDownPosition && Object.values(this.dropDownPosition).length)\r\n                    return;\r\n\r\n                this.dropDownPosition = {\r\n                    position: 'fixed',\r\n                    top: (rect.y + rect.height) + 'px',\r\n                    width: rect.width + 'px',\r\n                };\r\n            },\r\n\r\n            selectValue(id) {\r\n                Object.values(this.options).forEach(option => {\r\n                    if (option.id === id)\r\n                        this.$emit('select', option);\r\n                })\r\n            },\r\n\r\n            removeValue(id) {\r\n                Object.values(this.options).forEach(option => {\r\n                    if (option.id === id)\r\n                        this.$emit('remove', option);\r\n                })\r\n            },\r\n\r\n            toggleValue(id) {\r\n                let result = false;\r\n\r\n                this.value.every(item => {\r\n                    if (item.id !== id)\r\n                        return true;\r\n\r\n                    this.$emit('remove', item);\r\n                    result = true;\r\n                    return false;\r\n                });\r\n\r\n                if (result)\r\n                    return;\r\n\r\n                Object.values(this.options).forEach(item => {\r\n                    if (item.id === id) {\r\n                        this.$emit('select', item);\r\n                    }\r\n                });\r\n            },\r\n\r\n            bindEvent(el, type, callback) {\r\n                this.events.push({\r\n                    el: el,\r\n                    type: type,\r\n                    callback: callback,\r\n                });\r\n\r\n                el.addEventListener(type, callback);\r\n            },\r\n\r\n            focusIn() {\r\n                if (!this.showSearch && this.$el.contains(document.activeElement)) {\r\n                    this.showSearch = true;\r\n                } else if (this.showSearch && !this.$el.contains(document.activeElement)) {\r\n                    this.showSearch = false;\r\n                }\r\n            },\r\n\r\n            focusOut() {\r\n                if (document.activeElement === document.body)\r\n                    return;\r\n\r\n                if (this.showSearch && !this.$el.contains(document.activeElement)) {\r\n                    this.showSearch = false;\r\n                }\r\n            },\r\n\r\n            documentClick(e) {\r\n                if (!this.showSearch)\r\n                    return;\r\n\r\n                if (!this.$el.contains(e.target)) {\r\n                    this.showSearch = false;\r\n                }\r\n            },\r\n\r\n            onResize() {\r\n                if (this.showSearch)\r\n                    this.getDropDownPosition();\r\n            },\r\n\r\n            keydown(event) {\r\n                let options = Object.values(this.options);\r\n\r\n                if (event.keyCode === 8 && !this.$refs.inputSearch.value.length && options.length) {\r\n                    this.removeValue(options[options.length-1].id);\r\n                }\r\n            },\r\n        },\r\n        watch: {\r\n            searchValue() {\r\n                this.boundsCheck();\r\n            },\r\n            showSearch: function (val) {\r\n                if (val) {\r\n                    this.getDropDownPosition();\r\n                }\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-select-value devbx-webform-select-value-multiple\" @click=\"focusInput\">\r\n        <div class=\"devbx-webform-select-input-value\">\r\n\r\n           <div class=\"devbx-webform-select-input-multiple\">\r\n                <div ref=\"selValues\" class=\"devbx-webform-select-input-sel-values\">\r\n                    <span>\r\n                        <span v-for=\"option in value\" class=\"devbx-webform-select-input-value-tag\" :class=\"option.cssClass\" :key=\"option.id\">\r\n                            <span>{{option[label]}}</span>\r\n                            <i class=\"devbx-webform-select-remove-value fa fa-close\" @click.stop.prevent=\"removeValue(option.id)\"></i>\r\n                        </span>                                       \r\n                        <input ref=\"inputSearch\" type=\"text\" v-model=\"searchValue\" :style=\"{width: inputWidth}\" @keydown=\"keydown($event)\">\r\n                    </span>\r\n                </div>\r\n                <div class=\"devbx-webform-select-input-fake\">\r\n                    <input ref=\"fakeInput\" type=\"text\" autocomplete=\"off\">\r\n                    <span></span>\r\n                </div>\r\n           </div>        \r\n                    \r\n           <transition name=\"devbx-dropdown\">\r\n           <div class=\"devbx-webform-select-dropdown\" v-if=\"showSearch && searchOptions.length\" :style=\"dropDownPosition\">\r\n                <ul ref=\"valueList\" class=\"devbx-webform-select-value-list\">\r\n                    <li v-for=\"searchValue in searchOptions\" \r\n                        :key=\"searchValue.id\" \r\n                        :class=\"searchValue.option.cssClass + (searchValue.selected ? ' devbx-webform-select-value-dropdown-selected': '')\"\r\n                        @click.stop.prevent=\"toggleValue(searchValue.id)\"><span>{{searchValue.option[label]}}</span></li>\r\n                </ul>\r\n            </div>\r\n            </transition>\r\n        </div>\r\n    </div>\r\n    `,\r\n    });\r\n});","import './devbx.webform.customselect.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-customselect', {\r\n        props: {\r\n            value: {\r\n                type: null,\r\n                default() {\r\n                    return '';\r\n                }\r\n            },\r\n            valueType: {\r\n                type: String,\r\n                default() {\r\n                    return 'string';\r\n                }\r\n            },\r\n            valueKey: {\r\n                type: String,\r\n                default: 'value',\r\n            },\r\n            valueTypeKey: {\r\n                type: String,\r\n                default: 'valueType',\r\n            },\r\n            labelKey: {\r\n                type: String,\r\n                default: 'label',\r\n            },\r\n            options: {\r\n                type: Array,\r\n                required: true,\r\n            },\r\n            defaultValueType: {\r\n                type: String,\r\n                default: 'string',\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                showSearch: false,\r\n                events: [],\r\n                dropDownPosition: false,\r\n            };\r\n        },\r\n        mounted() {\r\n            this.bindEvent(document, 'focusin', BX.delegate(this.focusIn, this));\r\n            this.bindEvent(document, 'focusout', BX.delegate(this.focusOut, this));\r\n            this.bindEvent(document, 'click', BX.delegate(this.documentClick, this));\r\n            this.bindEvent(window, 'resize', BX.delegate(this.onResize, this));\r\n        },\r\n\r\n        beforeUnmount() {\r\n            this.events.forEach(item => {\r\n                item.el.removeEventListener(item.type, item.callback);\r\n            });\r\n        },\r\n\r\n        computed: {\r\n            curValueDisplayName() {\r\n                if (this.valueType === this.defaultValueType)\r\n                    return this.value;\r\n\r\n                let result = '?'\r\n\r\n                this.options.every(item => {\r\n                    if (item[this.valueTypeKey] === this.valueType && item[this.valueKey] === this.value) {\r\n                        result = item.label;\r\n                        return false;\r\n                    }\r\n\r\n                    return true;\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            searchValueList() {\r\n                if (this.valueType !== this.defaultValueType)\r\n                    return [];\r\n\r\n                let result = [],\r\n                    searchText = this.value.toString().toUpperCase();\r\n\r\n                this.options.forEach(item => {\r\n                    let label = item.label;\r\n\r\n                    if (searchText.length > 0 && label.toUpperCase().indexOf(searchText) < 0)\r\n                        return;\r\n\r\n                    result.push({\r\n                        value: item[this.valueKey],\r\n                        valueType: item[this.valueTypeKey],\r\n                        label: label,\r\n                        cssClass: item.cssClass,\r\n                    });\r\n                });\r\n\r\n                return result;\r\n            },\r\n        },\r\n        methods: {\r\n            getDropDownPosition() {\r\n                let inp = this.$refs.input;\r\n\r\n                if (!inp) {\r\n                    this.dropDownPosition = false;\r\n                    return;\r\n                }\r\n\r\n                let rect = inp.getBoundingClientRect();\r\n\r\n                this.dropDownPosition = {\r\n                    position: 'fixed',\r\n                    top: (rect.y + rect.height) + 'px',\r\n                    width: rect.width + 'px',\r\n                };\r\n            },\r\n\r\n            selectValue(item) {\r\n                this.$emit('select', {\r\n                    value: item.value,\r\n                    valueType: item.valueType,\r\n                });\r\n            },\r\n\r\n            removeValue() {\r\n                this.$emit('select', {\r\n                    value: '',\r\n                    valueType: this.defaultValueType,\r\n                });\r\n            },\r\n\r\n            bindEvent(el, type, callback) {\r\n                this.events.push({\r\n                    el: el,\r\n                    type: type,\r\n                    callback: callback,\r\n                });\r\n\r\n                el.addEventListener(type, callback);\r\n            },\r\n\r\n            focusIn() {\r\n                if (!this.showSearch && this.$el.contains(document.activeElement)) {\r\n                    this.showSearch = true;\r\n                } else if (this.showSearch && !this.$el.contains(document.activeElement)) {\r\n                    this.showSearch = false;\r\n                }\r\n            },\r\n\r\n            focusOut() {\r\n                if (document.activeElement === document.body)\r\n                    return;\r\n\r\n                if (this.showSearch && !this.$el.contains(document.activeElement)) {\r\n                    this.showSearch = false;\r\n                }\r\n            },\r\n\r\n            documentClick(e) {\r\n                if (!this.showSearch)\r\n                    return;\r\n\r\n                if (!this.$el.contains(e.target)) {\r\n                    this.showSearch = false;\r\n                }\r\n            },\r\n\r\n            onResize() {\r\n                if (this.showSearch)\r\n                    this.getDropDownPosition();\r\n            },\r\n\r\n            onInput(event) {\r\n                this.$emit('select', {\r\n                    value: event.target.value,\r\n                    valueType: this.defaultValueType,\r\n                });\r\n            }\r\n        },\r\n        watch: {\r\n            showSearch(val) {\r\n                if (val) {\r\n                    this.getDropDownPosition();\r\n                }\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-select-value\">\r\n        <div v-if=\"valueType == defaultValueType\" class=\"devbx-webform-select-input-value\">\r\n           <input ref=\"input\" class=\"devbx-webform-select-value-input\" type=\"text\" :value=\"value\" @input=\"onInput\">\r\n           <transition name=\"devbx-dropdown\">\r\n           <div class=\"devbx-webform-select-dropdown\" v-if=\"showSearch && searchValueList.length\" :style=\"dropDownPosition\">\r\n                <ul class=\"devbx-webform-select-value-list\">\r\n                    <li v-for=\"searchValue in searchValueList\" :key=\"searchValue.id\" @click.stop.prevent=\"selectValue(searchValue)\">\r\n                        <span :class=\"searchValue.cssClass\">{{searchValue.label}}</span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            </transition>\r\n        </div>\r\n        <span v-else>\r\n            <span class=\"devbx-webform-select-value-selected\">\r\n                {{curValueDisplayName}} \r\n                <i class=\"devbx-webform-select-remove-value fa fa-close\" @click.stop.prevent=\"removeValue\"></i>\r\n            </span>        \r\n        </span>    \r\n    </div>\r\n    `\r\n    });\r\n});","let MSLang = DevBX.MSLang;\r\nexport default class WebFormCond {\r\n    constructor(type) {\r\n        this._type = type;\r\n    }\r\n\r\n    get type()\r\n    {\r\n        return this._type;\r\n    }\r\n\r\n    get conditions()\r\n    {\r\n        return [];\r\n    }\r\n\r\n    quoteStr(str)\r\n    {\r\n        return '\"'+str.replace(/\"/g, \"\\\\\\\"\")+'\"';\r\n    }\r\n\r\n    getCode(formField, itemCond)\r\n    {\r\n        throw new Error('override getCond function');\r\n    }\r\n\r\n    getParseFunctions()\r\n    {\r\n        return [];\r\n    }\r\n\r\n    getFieldFromNodeList(pos, nodeList)\r\n    {\r\n        if (nodeList[pos].nType !== MSLang.NodeType.ntContextVariable)\r\n            return false;\r\n\r\n        let name = [nodeList[pos].nValue];\r\n\r\n        pos++;\r\n\r\n        while (pos<nodeList.length)\r\n        {\r\n            if (nodeList[pos].nType !== MSLang.NodeType.ntObjProp)\r\n                break;\r\n\r\n            name.push(nodeList[pos].nValue);\r\n            pos++;\r\n        }\r\n\r\n        return [pos, name.join('.')];\r\n    }\r\n}\r\n\r\n","import WebFormCond from './cond-core';\r\n\r\nlet MSLang = DevBX.MSLang;\r\nexport default class WebFormCondString extends WebFormCond {\r\n    constructor() {\r\n        super('string');\r\n    }\r\n\r\n    get conditions()\r\n    {\r\n        let items = [];\r\n\r\n        items.push({\r\n            value: 'isFilledOut',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_FILLED_OUT'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'isNotFilledOut',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_NOT_FILLED_OUT'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'is',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS'),\r\n            comp: 'devbx-webform-cond-string',\r\n        });\r\n\r\n        items.push({\r\n            value: 'isNot',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_NOT'),\r\n            comp: 'devbx-webform-cond-string',\r\n        });\r\n\r\n        items.push({\r\n            value: 'Contains',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_CONTAINS'),\r\n            comp: 'devbx-webform-cond-string',\r\n        });\r\n\r\n        items.push({\r\n            value: 'DoesNotContain',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_DOES_NOT_CONTAIN'),\r\n            comp: 'devbx-webform-cond-string',\r\n        });\r\n\r\n        items.push({\r\n            value: 'StartsWith',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_STARTS_WITH'),\r\n            comp: 'devbx-webform-cond-string',\r\n        });\r\n\r\n        items.push({\r\n            value: 'DoesNotStartWith',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_DOES_NOT_START_WITH'),\r\n            comp: 'devbx-webform-cond-string',\r\n        });\r\n\r\n        items.push({\r\n            value: 'EndsWith',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_ENDS_WITH'),\r\n            comp: 'devbx-webform-cond-string',\r\n        });\r\n\r\n        items.push({\r\n            value: 'DoesNotEndWith',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_DOES_NOT_END_WITH'),\r\n            comp: 'devbx-webform-cond-string',\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    static getCondFunction(item)\r\n    {\r\n        let funcMap = {\r\n                'Contains': 'DoesNotContain',\r\n                'StartsWith': 'DoesNotStartWith',\r\n                'EndsWith': 'DoesNotEndWith',\r\n            },\r\n            idx;\r\n\r\n        idx = Object.values(funcMap).indexOf(item.type);\r\n        if (idx>=0)\r\n        {\r\n            return {\r\n                name: Object.keys(funcMap)[idx],\r\n                negative: true,\r\n            }\r\n        }\r\n\r\n        if (Object.keys(funcMap).indexOf(item.type)<0)\r\n            return false;\r\n\r\n        return {\r\n            name: item.type,\r\n            negative: false,\r\n        };\r\n    }\r\n\r\n    getCode(formField, itemCond)\r\n    {\r\n        let value;\r\n\r\n        switch (itemCond.valueType) {\r\n            case 'string':\r\n                value = this.quoteStr(itemCond.value);\r\n                break;\r\n            case 'field':\r\n                value = itemCond.value;\r\n                break;\r\n            default:\r\n                value = false;\r\n                break;\r\n        }\r\n\r\n        switch (itemCond.type) {\r\n            case 'isFilledOut':\r\n                return itemCond.field + ' != \"\"';\r\n            case 'isNotFilledOut':\r\n                return itemCond.field + ' == \"\"';\r\n            case 'is':\r\n                return itemCond.field + ' == ' + value;\r\n            case 'isNot':\r\n                return itemCond.field + ' != ' + value;\r\n        }\r\n\r\n        let func = WebFormCondString.getCondFunction(itemCond);\r\n\r\n        if (!func)\r\n            return;\r\n\r\n        if (func.negative) {\r\n            return '!' + itemCond.field + '.' + func.name + '(' + value + ')';\r\n        } else {\r\n            return itemCond.field + '.' + func.name + '(' + value + ')';\r\n        }\r\n    }\r\n\r\n    isCompareField(pos, nodeList, fieldsByName)\r\n    {\r\n        let fieldResult = this.getFieldFromNodeList(pos, nodeList),\r\n            fieldName;\r\n\r\n        if (!fieldResult)\r\n            return false;\r\n\r\n        [pos, fieldName] = fieldResult;\r\n\r\n        if (!fieldsByName[fieldName] || fieldsByName[fieldName].type !== 'string')\r\n            return false;\r\n\r\n        if (nodeList[pos].nType !== MSLang.NodeType.ntExpressionCompare)\r\n            return false;\r\n\r\n        if ([MSLang.CompareType.ctEqual, MSLang.CompareType.ctNotEqual].indexOf(nodeList[pos].nValue)<0)\r\n            return false;\r\n\r\n        if (nodeList[pos+1].nType !== MSLang.NodeType.ntIFValue)\r\n            return false;\r\n\r\n        fieldResult = this.getFieldFromNodeList(0, nodeList[pos+1].childItems);\r\n        if (!fieldResult)\r\n            return false;\r\n\r\n        let data = {\r\n            field: fieldName,\r\n            type: nodeList[pos].nValue === MSLang.CompareType.ctEqual ? 'is' : 'isNot',\r\n            valueType: 'field',\r\n            value: fieldResult[1],\r\n        };\r\n\r\n        return [pos+2, data];\r\n    }\r\n\r\n    isCompareString(pos, nodeList, fieldsByName)\r\n    {\r\n        let fieldResult = this.getFieldFromNodeList(pos, nodeList),\r\n            fieldName;\r\n\r\n        if (!fieldResult)\r\n            return false;\r\n\r\n        [pos, fieldName] = fieldResult;\r\n\r\n        if (!fieldsByName[fieldName] || fieldsByName[fieldName].type !== 'string')\r\n            return false;\r\n\r\n        if (nodeList[pos].nType !== MSLang.NodeType.ntExpressionCompare)\r\n            return false;\r\n\r\n        if ([MSLang.CompareType.ctEqual, MSLang.CompareType.ctNotEqual].indexOf(nodeList[pos].nValue)<0)\r\n            return false;\r\n\r\n        if (nodeList[pos+1].nType !== MSLang.NodeType.ntIFValue)\r\n            return false;\r\n\r\n        if (nodeList[pos+1].childItems.length !== 1)\r\n            return false;\r\n\r\n        if (nodeList[pos+1].childItems[0].nType !== MSLang.NodeType.ntString)\r\n            return false;\r\n\r\n        let data;\r\n\r\n        if (!nodeList[pos+1].childItems[0].nValue.length)\r\n        {\r\n            data = {\r\n                field: fieldName,\r\n                type: nodeList[pos].nValue === MSLang.CompareType.ctEqual ? 'isNotFilledOut' : 'isFilledOut',\r\n            };\r\n        } else {\r\n            data = {\r\n                field: fieldName,\r\n                type: nodeList[pos].nValue === MSLang.CompareType.ctEqual ? 'is' : 'isNot',\r\n                valueType: 'string',\r\n                value: nodeList[pos+1].childItems[0].nValue,\r\n            };\r\n        }\r\n\r\n        return [pos+2, data];\r\n    }\r\n\r\n    isCompareFunction(pos, nodeList, fieldsByName)\r\n    {\r\n        let negative = false,\r\n            funcMap = {\r\n                Contains: 'DoesNotContain',\r\n                StartsWith: 'DoesNotStartWith',\r\n                EndsWith: 'DoesNotEndWith'\r\n            };\r\n\r\n        if (nodeList[pos].nType === MSLang.NodeType.ntNegativeIf)\r\n        {\r\n            negative = true;\r\n            pos++;\r\n        }\r\n\r\n        let fieldResult = this.getFieldFromNodeList(pos, nodeList),\r\n            fieldName;\r\n\r\n        if (!fieldResult)\r\n            return false;\r\n\r\n        [pos, fieldName] = fieldResult;\r\n\r\n        if (!fieldsByName[fieldName] || fieldsByName[fieldName].type !== 'string')\r\n            return false;\r\n\r\n        if (nodeList[pos].nType !== MSLang.NodeType.ntSelfFuncCall) {\r\n            return false;\r\n        }\r\n\r\n        let functionName = nodeList[pos].nValue,\r\n            data;\r\n\r\n        if (Object.keys(funcMap).indexOf(functionName)<0)\r\n            return false;\r\n\r\n        if (!nodeList[pos].childItems || nodeList[pos].childItems.length !== 1)\r\n            return false;\r\n\r\n        if (nodeList[pos].childItems[0].nType !== MSLang.NodeType.ntFuncParam)\r\n            return false;\r\n\r\n        if (!nodeList[pos].childItems[0].childItems)\r\n            return false;\r\n\r\n        if (nodeList[pos].childItems[0].childItems[0].nType === MSLang.NodeType.ntString)\r\n        {\r\n            data = {\r\n                field: fieldName,\r\n                type: negative ? funcMap[functionName] : functionName,\r\n                valueType: 'string',\r\n                value: nodeList[pos].childItems[0].childItems[0].nValue,\r\n                negative: negative,\r\n            };\r\n\r\n            pos++;\r\n\r\n            return [pos, data];\r\n        }\r\n\r\n        fieldResult = this.getFieldFromNodeList(0, nodeList[pos].childItems[0].childItems);\r\n\r\n        if (!fieldResult)\r\n            return false;\r\n\r\n        data = {\r\n            field: fieldName,\r\n            type: negative ? funcMap[functionName] : functionName,\r\n            valueType: 'field',\r\n            value: fieldResult[1],\r\n            negative: negative,\r\n        };\r\n\r\n        pos++;\r\n\r\n        return [pos, data];\r\n    }\r\n    getParseFunctions()\r\n    {\r\n        return [\r\n            this.isCompareField.bind(this),\r\n            this.isCompareString.bind(this),\r\n            this.isCompareFunction.bind(this),\r\n        ]\r\n    }\r\n}\r\n","import WebFormCond from './cond-core';\r\nimport WebFormCondString from \"./cond-string\";\r\n\r\nlet MSLang = DevBX.MSLang;\r\nexport default class WebFormCondArray extends WebFormCond\r\n{\r\n    constructor() {\r\n        super('array');\r\n    }\r\n\r\n    get conditions()\r\n    {\r\n        let items = [];\r\n\r\n        items.push({\r\n            value: 'isFilledOut',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_FILLED_OUT'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'isNotFilledOut',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_NOT_FILLED_OUT'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'Contains',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_CONTAINS'),\r\n            comp: 'devbx-webform-cond-array',\r\n        });\r\n\r\n        items.push({\r\n            value: 'DoesNotContain',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_DOES_NOT_CONTAIN'),\r\n            comp: 'devbx-webform-cond-array',\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    convertArrayCondition(item)\r\n    {\r\n        if (!item.value.length)\r\n            return '';\r\n\r\n        let arCond = [],\r\n            func = WebFormCondString.getCondFunction(item);\r\n\r\n        if (!func)\r\n            return '';\r\n\r\n        item.value.forEach(arValue => {\r\n            let value;\r\n\r\n            switch (arValue.valueType) {\r\n                case 'fieldValue':\r\n                    value = this.quoteStr(arValue.value);\r\n                    break;\r\n                case 'field':\r\n                    value = arValue.value;\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n\r\n            if (func.negative) {\r\n                arCond.push('!' + item.field + '.' + func.name + '(' + value + ')');\r\n            } else {\r\n                arCond.push(item.field + '.' + func.name + '(' + value + ')');\r\n            }\r\n        });\r\n\r\n        if (!arCond.length)\r\n            return '';\r\n\r\n        return '('+arCond.join(func.negative ? ' && ' : ' || ')+')';\r\n    }\r\n\r\n    getCode(formField, itemCond)\r\n    {\r\n        switch (itemCond.type) {\r\n            case 'isFilledOut':\r\n                return itemCond.field + '.Count() > 0';\r\n            case 'isNotFilledOut':\r\n                return itemCond.field + '.Count() == 0';\r\n        }\r\n\r\n        switch (itemCond.valueType)\r\n        {\r\n            case 'array':\r\n                let condition = this.convertArrayCondition(itemCond);\r\n\r\n                if (!condition.length)\r\n                    return;\r\n\r\n                return condition;\r\n        }\r\n    }\r\n\r\n    isArrayCompare(pos, nodeList, fieldsByName)\r\n    {\r\n        let fieldResult = this.getFieldFromNodeList(pos, nodeList),\r\n            fieldName;\r\n\r\n        if (!fieldResult)\r\n            return false;\r\n\r\n        [pos, fieldName] = fieldResult;\r\n\r\n        if (!fieldsByName[fieldName] || fieldsByName[fieldName].type !== 'array')\r\n            return false;\r\n\r\n        if (nodeList[pos].nType !== MSLang.NodeType.ntSelfFuncCall) {//Form.Field.Choice.Function()\r\n            return false;\r\n        }\r\n\r\n        if (nodeList[pos+1].nType !== MSLang.NodeType.ntExpressionCompare) {//Form.Field.Choice.Function() ==\r\n            return false;\r\n        }\r\n\r\n        if (nodeList[pos+2].nType !== MSLang.NodeType.ntIFValue) {//Form.Field.Choice.Function() == ?\r\n            return false;\r\n        }\r\n\r\n        if (nodeList[pos+2].childItems.length !== 1 ||\r\n            nodeList[pos+2].childItems[0].nType !== MSLang.NodeType.ntNumeric) { //Form.Field.Choice.Function() == 0\r\n            return false;\r\n        }\r\n\r\n        let functionName = nodeList[pos].nValue,\r\n            data;\r\n\r\n        switch (functionName)\r\n        {\r\n            case 'Count':\r\n\r\n                if (nodeList[pos+1].nValue === MSLang.CompareType.ctEqual && nodeList[pos+2].childItems[0].nValue === 0)\r\n                {\r\n                    data = {\r\n                        field: fieldName,\r\n                        type: 'isNotFilledOut'\r\n                    };\r\n\r\n                    return [\r\n                        pos+3,\r\n                        data\r\n                    ]\r\n                }\r\n\r\n                if (nodeList[pos+1].nValue === MSLang.CompareType.ctGreat && nodeList[pos+2].childItems[0].nValue === 0)\r\n                {\r\n                    data = {\r\n                        field: fieldName,\r\n                        type: 'isFilledOut'\r\n                    };\r\n\r\n                    return [\r\n                        pos+3,\r\n                        data\r\n                    ]\r\n                }\r\n\r\n                break;\r\n            default:\r\n                return false;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    isCompareFunction(pos, nodeList, fieldsByName)\r\n    {\r\n        let negative = false,\r\n            funcMap = {\r\n                Contains: 'DoesNotContain',\r\n                StartsWith: 'DoesNotStartWith',\r\n                EndsWith: 'DoesNotEndWith'\r\n            };\r\n\r\n        if (nodeList[pos].nType === MSLang.NodeType.ntNegativeIf)\r\n        {\r\n            negative = true;\r\n            pos++;\r\n        }\r\n\r\n        let fieldResult = this.getFieldFromNodeList(pos, nodeList),\r\n            fieldName;\r\n\r\n        if (!fieldResult)\r\n            return false;\r\n\r\n        [pos, fieldName] = fieldResult;\r\n\r\n        if (!fieldsByName[fieldName] || fieldsByName[fieldName].type !== 'array')\r\n            return false;\r\n\r\n        if (nodeList[pos].nType !== MSLang.NodeType.ntSelfFuncCall) {\r\n            return false;\r\n        }\r\n\r\n        let functionName = nodeList[pos].nValue,\r\n            data;\r\n\r\n        if (Object.keys(funcMap).indexOf(functionName)<0)\r\n            return false;\r\n\r\n        if (!nodeList[pos].childItems || nodeList[pos].childItems.length !== 1)\r\n            return false;\r\n\r\n        if (nodeList[pos].childItems[0].nType !== MSLang.NodeType.ntFuncParam)\r\n            return false;\r\n\r\n        if (!nodeList[pos].childItems[0].childItems)\r\n            return false;\r\n\r\n        if (nodeList[pos].childItems[0].childItems[0].nType === MSLang.NodeType.ntString)\r\n        {\r\n            data = {\r\n                field: fieldName,\r\n                type: negative ? funcMap[functionName] : functionName,\r\n                valueType: 'string',\r\n                value: nodeList[pos].childItems[0].childItems[0].nValue,\r\n                negative: negative,\r\n            };\r\n\r\n            pos++;\r\n\r\n            return [pos, data];\r\n        }\r\n\r\n        fieldResult = this.getFieldFromNodeList(0, nodeList[pos].childItems[0].childItems);\r\n\r\n        if (!fieldResult)\r\n            return false;\r\n\r\n        data = {\r\n            field: fieldName,\r\n            type: negative ? funcMap[functionName] : functionName,\r\n            valueType: 'field',\r\n            value: fieldResult[1],\r\n            negative: negative,\r\n        };\r\n\r\n        pos++;\r\n\r\n        return [pos, data];\r\n    }\r\n    isArrayCondition(pos, nodeList, fieldsByName)\r\n    {\r\n        if (!nodeList[pos].nType === MSLang.NodeType.ntSubExpression)\r\n            return false;\r\n\r\n        let subExpression = nodeList[pos].childItems;\r\n        if (!Array.isArray(subExpression))\r\n            return false;\r\n\r\n        let result = [],\r\n            subPos = 0,\r\n            functions = [\r\n                this.isCompareFunction.bind(this),\r\n            ], remoteResult,\r\n            data;\r\n\r\n        while (subPos<subExpression.length)\r\n        {\r\n            remoteResult = false;\r\n\r\n            functions.every(f => {\r\n                remoteResult = f.call(null, subPos, subExpression, fieldsByName);\r\n                return remoteResult === false;\r\n            });\r\n\r\n            if (remoteResult === false)\r\n                return false;\r\n\r\n            subPos = remoteResult[0];\r\n\r\n            data = remoteResult[1];\r\n\r\n            if (result.length)\r\n            {\r\n                if (data.type !== result[0].type || data.field !== result[0].field)\r\n                    return false;\r\n            }\r\n\r\n            result.push(data);\r\n\r\n            if (subPos>=subExpression.length)\r\n                break;\r\n\r\n            if (data.negative)\r\n            {\r\n                if (subExpression[subPos].nType !== MSLang.NodeType.ntCompareAnd)\r\n                    return false;\r\n            } else {\r\n                if (subExpression[subPos].nType !== MSLang.NodeType.ntCompareOr)\r\n                    return false;\r\n            }\r\n\r\n            subPos++;\r\n        }\r\n\r\n        if (!result.length)\r\n            return false;\r\n\r\n        let group = {\r\n            field: result[0].field,\r\n            type: result[0].type,\r\n            valueType: 'array',\r\n            value: [],\r\n        };\r\n\r\n        result.forEach(item => {\r\n            switch (item.valueType)\r\n            {\r\n                case 'string':\r\n                    group.value.push({\r\n                        value: item.value,\r\n                        valueType: 'fieldValue',\r\n                    });\r\n                    break;\r\n                case 'field':\r\n                    group.value.push({\r\n                        value: item.value,\r\n                        valueType: 'field',\r\n                    });\r\n                    break;\r\n            }\r\n        });\r\n\r\n        return [pos+1, group];\r\n    }\r\n\r\n    getParseFunctions()\r\n    {\r\n        return [\r\n            this.isArrayCompare.bind(this),\r\n            this.isArrayCondition.bind(this),\r\n        ];\r\n    }\r\n}","import WebFormCond from './cond-core';\r\n\r\nlet MSLang = DevBX.MSLang;\r\nexport default class WebFormCondDate extends WebFormCond {\r\n    constructor() {\r\n        super('date');\r\n    }\r\n\r\n    get conditions() {\r\n        let items = [];\r\n\r\n        items.push({\r\n            value: 'isFilledOut',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_FILLED_OUT'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'isNotFilledOut',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_NOT_FILLED_OUT'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'isAfter',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_AFTER'),\r\n            comp: 'devbx-webform-cond-date',\r\n        });\r\n\r\n        items.push({\r\n            value: 'isBefore',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_BEFORE'),\r\n            comp: 'devbx-webform-cond-date',\r\n        });\r\n\r\n        items.push({\r\n            value: 'onOrAfter',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_ON_OR_AFTER'),\r\n            comp: 'devbx-webform-cond-date',\r\n        });\r\n\r\n        items.push({\r\n            value: 'onOrBefore',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_ON_OR_BEFORE'),\r\n            comp: 'devbx-webform-cond-date',\r\n        });\r\n\r\n        items.push({\r\n            value: 'isToday',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_TODAY'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'isInFuture',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_IN_FUTURE'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'isInPast',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_IN_PAST'),\r\n            comp: false,\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    getCode(formField, itemCond) {\r\n        switch (itemCond.type) {\r\n            case 'isFilledOut':\r\n                return itemCond.field + ' != null';\r\n            case 'isNotFilledOut':\r\n                return itemCond.field + ' == null';\r\n            case 'isToday':\r\n                return itemCond.field + ' == DateTime.Today';\r\n            case 'isInFuture':\r\n                return itemCond.field + ' > DateTime.Today';\r\n            case 'isInPast':\r\n                return itemCond.field + ' < DateTime.Today';\r\n        }\r\n\r\n        if (itemCond.valueType !== 'date')\r\n            return '';\r\n\r\n        let value = parseInt(itemCond.value);\r\n\r\n        if (isNaN(value))\r\n            return '';\r\n\r\n        let date = new Date(value * 1000);\r\n\r\n        let formatted = date.getFullYear()+\r\n            '-'+(date.getMonth()+1).toString().padStart(2, '0')+\r\n            '-'+date.getDate().toString().padStart(2, '0');\r\n\r\n        switch (itemCond.type) {\r\n            case 'is':\r\n                return itemCond.field + ' == ' + this.quoteStr(formatted);\r\n            case 'isNot':\r\n                return itemCond.field + ' != ' + this.quoteStr(formatted);\r\n            case 'isAfter':\r\n                return itemCond.field + ' > ' + this.quoteStr(formatted);\r\n            case 'isBefore':\r\n                return itemCond.field + ' < ' + this.quoteStr(formatted);\r\n            case 'onOrAfter':\r\n                return itemCond.field + ' >= ' + this.quoteStr(formatted);\r\n            case 'onOrBefore':\r\n                return itemCond.field + ' <= ' + this.quoteStr(formatted);\r\n        }\r\n\r\n        return '';\r\n    }\r\n\r\n    isCompareField(pos, nodeList, fieldsByName)\r\n    {\r\n        let fieldResult = this.getFieldFromNodeList(pos, nodeList),\r\n            fieldName, data;\r\n\r\n        if (!fieldResult)\r\n            return false;\r\n\r\n        [pos, fieldName] = fieldResult;\r\n\r\n        if (!fieldsByName[fieldName] || fieldsByName[fieldName].type !== 'date')\r\n            return false;\r\n\r\n        if (nodeList[pos].nType !== MSLang.NodeType.ntExpressionCompare)\r\n            return false;\r\n\r\n        if (nodeList[pos+1].nType !== MSLang.NodeType.ntIFValue)\r\n            return false;\r\n\r\n        if (nodeList[pos+1].childItems[0].nType === MSLang.NodeType.ntContextVariable)\r\n        {\r\n            fieldResult = this.getFieldFromNodeList(0, nodeList[pos+1].childItems);\r\n            if (!fieldResult)\r\n                return false;\r\n\r\n            switch (fieldResult[1])\r\n            {\r\n                case 'null':\r\n                    data = {\r\n                        field: fieldName,\r\n                    };\r\n\r\n                    switch (nodeList[pos].nValue)\r\n                    {\r\n                        case MSLang.CompareType.ctEqual:\r\n                            data.type = 'isNotFilledOut';\r\n                            break;\r\n                        case MSLang.CompareType.ctNotEqual:\r\n                            data.type = 'isFilledOut';\r\n                            break;\r\n                        default:\r\n                            return false;\r\n                    }\r\n\r\n                    return [pos+2, data];\r\n                case 'DateTime.Today':\r\n                    data = {\r\n                        field: fieldName,\r\n                    };\r\n\r\n                    switch (nodeList[pos].nValue)\r\n                    {\r\n                        case MSLang.CompareType.ctEqual:\r\n                            data.type = 'isToday';\r\n                            break;\r\n                        case MSLang.CompareType.ctGreat:\r\n                            data.type = 'isInFuture';\r\n                            break;\r\n                        case MSLang.CompareType.ctLess:\r\n                            data.type = 'isInPast';\r\n                            break;\r\n                        default:\r\n                            return false;\r\n                    }\r\n\r\n                    return [pos+2, data];\r\n            }\r\n        }\r\n\r\n        if (nodeList[pos+1].childItems[0].nType === MSLang.NodeType.ntString)\r\n        {\r\n            let dateTime = BX.parseDate(nodeList[pos+1].childItems[0].nValue, false, \"YYYY.MM.DD\", \"YYYY.MM.DD\");\r\n\r\n            if (!dateTime)\r\n                return false;\r\n\r\n            let value = Math.floor(dateTime.getTime()/1000);\r\n\r\n            data = {\r\n                field: fieldName,\r\n                value: value,\r\n                valueType: 'date',\r\n            };\r\n\r\n            switch (nodeList[pos].nValue)\r\n            {\r\n                case MSLang.CompareType.ctEqual:\r\n                    data.type = 'is';\r\n                    break;\r\n                case MSLang.CompareType.ctNotEqual:\r\n                    data.type = 'isNot';\r\n                    break;\r\n                case MSLang.CompareType.ctGreat:\r\n                    data.type = 'isAfter';\r\n                    break;\r\n                case MSLang.CompareType.ctLess:\r\n                    data.type = 'isBefore';\r\n                    break;\r\n                case MSLang.CompareType.ctGreat | MSLang.CompareType.ctEqual:\r\n                    data.type = 'onOrAfter';\r\n                    break;\r\n                case MSLang.CompareType.ctLess | MSLang.CompareType.ctEqual:\r\n                    data.type = 'onOrBefore';\r\n                    break;\r\n                default:\r\n                    return false;\r\n            }\r\n\r\n            return [pos+2, data];\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    getParseFunctions()\r\n    {\r\n        return [\r\n            this.isCompareField.bind(this),\r\n        ]\r\n    }\r\n\r\n}\r\n","import WebFormCond from './cond-core';\r\n\r\nlet MSLang = DevBX.MSLang;\r\nexport default class WebFormCondDateTime extends WebFormCond {\r\n    constructor() {\r\n        super('datetime');\r\n    }\r\n\r\n    get conditions() {\r\n        let items = [];\r\n\r\n        items.push({\r\n            value: 'isFilledOut',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_FILLED_OUT'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'isNotFilledOut',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_NOT_FILLED_OUT'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'isAfter',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_AFTER'),\r\n            comp: 'devbx-webform-cond-date',\r\n            props: {\r\n                time: true,\r\n            }\r\n        });\r\n\r\n        items.push({\r\n            value: 'isBefore',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_BEFORE'),\r\n            comp: 'devbx-webform-cond-date',\r\n            props: {\r\n                time: true,\r\n            }\r\n        });\r\n\r\n        items.push({\r\n            value: 'onOrAfter',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_ON_OR_AFTER'),\r\n            comp: 'devbx-webform-cond-date',\r\n            props: {\r\n                time: true,\r\n            }\r\n        });\r\n\r\n        items.push({\r\n            value: 'onOrBefore',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_ON_OR_BEFORE'),\r\n            comp: 'devbx-webform-cond-date',\r\n            props: {\r\n                time: true,\r\n            }\r\n        });\r\n\r\n        items.push({\r\n            value: 'isNow',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_NOW'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'isInFuture',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_IN_FUTURE'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'isInPast',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_IN_PAST'),\r\n            comp: false,\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    getCode(formField, itemCond) {\r\n        switch (itemCond.type) {\r\n            case 'isFilledOut':\r\n                return itemCond.field + ' != null';\r\n            case 'isNotFilledOut':\r\n                return itemCond.field + ' == null';\r\n            case 'isNow':\r\n                return itemCond.field + ' == DateTime.Now';\r\n            case 'isInFuture':\r\n                return itemCond.field + ' > DateTime.Now';\r\n            case 'isInPast':\r\n                return itemCond.field + ' < DateTime.Now';\r\n        }\r\n\r\n        if (itemCond.valueType !== 'datetime')\r\n            return '';\r\n\r\n        let value = parseInt(itemCond.value);\r\n\r\n        if (isNaN(value))\r\n            return '';\r\n\r\n        let date = new Date(value * 1000);\r\n\r\n        let formatted = date.getFullYear()+\r\n            '-'+(date.getMonth()+1).toString().padStart(2, '0')+\r\n            '-'+date.getDate().toString().padStart(2, '0')+\r\n            ' '+date.getHours().toString().padStart(2, '0')+\r\n            ':'+date.getMinutes().toString().padStart(2, '0')+\r\n            ':'+date.getSeconds().toString().padStart(2, '0');\r\n\r\n        switch (itemCond.type) {\r\n            case 'is':\r\n                return itemCond.field + ' == ' + this.quoteStr(formatted);\r\n            case 'isNot':\r\n                return itemCond.field + ' != ' + this.quoteStr(formatted);\r\n            case 'isAfter':\r\n                return itemCond.field + ' > ' + this.quoteStr(formatted);\r\n            case 'isBefore':\r\n                return itemCond.field + ' < ' + this.quoteStr(formatted);\r\n            case 'onOrAfter':\r\n                return itemCond.field + ' >= ' + this.quoteStr(formatted);\r\n            case 'onOrBefore':\r\n                return itemCond.field + ' <= ' + this.quoteStr(formatted);\r\n        }\r\n\r\n        return '';\r\n    }\r\n\r\n    isCompareField(pos, nodeList, fieldsByName)\r\n    {\r\n        let fieldResult = this.getFieldFromNodeList(pos, nodeList),\r\n            fieldName, data;\r\n\r\n        if (!fieldResult)\r\n            return false;\r\n\r\n        [pos, fieldName] = fieldResult;\r\n\r\n        if (!fieldsByName[fieldName] || fieldsByName[fieldName].type !== 'datetime')\r\n            return false;\r\n\r\n        if (nodeList[pos].nType !== MSLang.NodeType.ntExpressionCompare)\r\n            return false;\r\n\r\n        if (nodeList[pos+1].nType !== MSLang.NodeType.ntIFValue)\r\n            return false;\r\n\r\n        if (nodeList[pos+1].childItems[0].nType === MSLang.NodeType.ntContextVariable)\r\n        {\r\n            fieldResult = this.getFieldFromNodeList(0, nodeList[pos+1].childItems);\r\n            if (!fieldResult)\r\n                return false;\r\n\r\n            switch (fieldResult[1])\r\n            {\r\n                case 'null':\r\n                    data = {\r\n                        field: fieldName,\r\n                    };\r\n\r\n                    switch (nodeList[pos].nValue)\r\n                    {\r\n                        case MSLang.CompareType.ctEqual:\r\n                            data.type = 'isNotFilledOut';\r\n                            break;\r\n                        case MSLang.CompareType.ctNotEqual:\r\n                            data.type = 'isFilledOut';\r\n                            break;\r\n                        default:\r\n                            return false;\r\n                    }\r\n\r\n                    return [pos+2, data];\r\n                case 'DateTime.Now':\r\n                    data = {\r\n                        field: fieldName,\r\n                    };\r\n\r\n                    switch (nodeList[pos].nValue)\r\n                    {\r\n                        case MSLang.CompareType.ctEqual:\r\n                            data.type = 'isNow';\r\n                            break;\r\n                        case MSLang.CompareType.ctGreat:\r\n                            data.type = 'isInFuture';\r\n                            break;\r\n                        case MSLang.CompareType.ctLess:\r\n                            data.type = 'isInPast';\r\n                            break;\r\n                        default:\r\n                            return false;\r\n                    }\r\n\r\n                    return [pos+2, data];\r\n            }\r\n        }\r\n\r\n        if (nodeList[pos+1].childItems[0].nType === MSLang.NodeType.ntString)\r\n        {\r\n            let dateTime = BX.parseDate(nodeList[pos+1].childItems[0].nValue, false, \"YYYY.MM.DD\", \"YYYY.MM.DD HH:MI:SS\");\r\n\r\n            if (!dateTime)\r\n                return false;\r\n\r\n            let value = Math.floor(dateTime.getTime()/1000);\r\n\r\n            data = {\r\n                field: fieldName,\r\n                value: value,\r\n                valueType: 'datetime',\r\n            };\r\n\r\n            switch (nodeList[pos].nValue)\r\n            {\r\n                case MSLang.CompareType.ctEqual:\r\n                    data.type = 'is';\r\n                    break;\r\n                case MSLang.CompareType.ctNotEqual:\r\n                    data.type = 'isNot';\r\n                    break;\r\n                case MSLang.CompareType.ctGreat:\r\n                    data.type = 'isAfter';\r\n                    break;\r\n                case MSLang.CompareType.ctLess:\r\n                    data.type = 'isBefore';\r\n                    break;\r\n                case MSLang.CompareType.ctGreat | MSLang.CompareType.ctEqual:\r\n                    data.type = 'onOrAfter';\r\n                    break;\r\n                case MSLang.CompareType.ctLess | MSLang.CompareType.ctEqual:\r\n                    data.type = 'onOrBefore';\r\n                    break;\r\n                default:\r\n                    return false;\r\n            }\r\n\r\n            return [pos+2, data];\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    getParseFunctions()\r\n    {\r\n        return [\r\n            this.isCompareField.bind(this),\r\n        ]\r\n    }\r\n\r\n}\r\n","import WebFormCond from './cond-core';\r\n\r\nlet MSLang = DevBX.MSLang;\r\nexport default class WebFormCondTime extends WebFormCond {\r\n    constructor() {\r\n        super('time');\r\n    }\r\n\r\n    get conditions() {\r\n        let items = [];\r\n\r\n        items.push({\r\n            value: 'isFilledOut',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_FILLED_OUT'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'isNotFilledOut',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_NOT_FILLED_OUT'),\r\n            comp: false,\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    getCode(formField, itemCond) {\r\n        switch (itemCond.type) {\r\n            case 'isFilledOut':\r\n                return itemCond.field + ' != null';\r\n            case 'isNotFilledOut':\r\n                return itemCond.field + ' == null';\r\n        }\r\n\r\n        if (itemCond.valueType !== 'time')\r\n            return '';\r\n\r\n        let value = parseInt(itemCond.value);\r\n\r\n        if (isNaN(value))\r\n            return '';\r\n\r\n        let formatted = Math.floor(value/60*60).toString().padStart(2, '0')+\r\n            ':'+Math.floor(value/60).toString().padStart(2, '0')+\r\n            ':'+(value % 60).toString().padStart(2, '0');\r\n\r\n        switch (itemCond.type) {\r\n            case 'is':\r\n                return itemCond.field + ' == ' + this.quoteStr(formatted);\r\n            case 'isNot':\r\n                return itemCond.field + ' != ' + this.quoteStr(formatted);\r\n            case 'isAfter':\r\n                return itemCond.field + ' > ' + this.quoteStr(formatted);\r\n            case 'isBefore':\r\n                return itemCond.field + ' < ' + this.quoteStr(formatted);\r\n            case 'onOrAfter':\r\n                return itemCond.field + ' >= ' + this.quoteStr(formatted);\r\n            case 'onOrBefore':\r\n                return itemCond.field + ' <= ' + this.quoteStr(formatted);\r\n        }\r\n\r\n        return '';\r\n    }\r\n\r\n    isCompareField(pos, nodeList, fieldsByName)\r\n    {\r\n        let fieldResult = this.getFieldFromNodeList(pos, nodeList),\r\n            fieldName, data;\r\n\r\n        if (!fieldResult)\r\n            return false;\r\n\r\n        [pos, fieldName] = fieldResult;\r\n\r\n        if (!fieldsByName[fieldName] || fieldsByName[fieldName].type !== 'time')\r\n            return false;\r\n\r\n        if (nodeList[pos].nType !== MSLang.NodeType.ntExpressionCompare)\r\n            return false;\r\n\r\n        if (nodeList[pos+1].nType !== MSLang.NodeType.ntIFValue)\r\n            return false;\r\n\r\n        if (nodeList[pos+1].childItems[0].nType === MSLang.NodeType.ntContextVariable)\r\n        {\r\n            fieldResult = this.getFieldFromNodeList(0, nodeList[pos+1].childItems);\r\n            if (!fieldResult)\r\n                return false;\r\n\r\n            switch (fieldResult[1])\r\n            {\r\n                case 'null':\r\n                    data = {\r\n                        field: fieldName,\r\n                    };\r\n\r\n                    switch (nodeList[pos].nValue)\r\n                    {\r\n                        case MSLang.CompareType.ctEqual:\r\n                            data.type = 'isNotFilledOut';\r\n                            break;\r\n                        case MSLang.CompareType.ctNotEqual:\r\n                            data.type = 'isFilledOut';\r\n                            break;\r\n                        default:\r\n                            return false;\r\n                    }\r\n\r\n                    return [pos+2, data];\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    getParseFunctions()\r\n    {\r\n        return [\r\n            this.isCompareField.bind(this),\r\n        ]\r\n    }\r\n\r\n}\r\n","import WebFormCond from './cond-core';\r\n\r\nlet MSLang = DevBX.MSLang;\r\nexport default class WebFormCondFiles extends WebFormCond {\r\n\r\n    constructor() {\r\n        super('files');\r\n    }\r\n\r\n    get conditions()\r\n    {\r\n        let items = [];\r\n\r\n        items.push({\r\n            value: 'isFilledOut',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_HAS_AT_LEAST_ONE_FILE'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'isNotFilledOut',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_HAS_NO_FILES'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'isEqual',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_NUMBER_OF_FILES_IS'),\r\n            comp: 'devbx-webform-cond-number',\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    getCode(formField, itemCond)\r\n    {\r\n        switch (itemCond.type) {\r\n            case 'isFilledOut':\r\n                return itemCond.field + '.Count() > 0';\r\n            case 'isNotFilledOut':\r\n                return itemCond.field + '.Count() == 0';\r\n            case 'isEqual':\r\n                let value = parseInt(itemCond.value);\r\n\r\n                if (!isNaN(value))\r\n                    return itemCond.field + '.Count()  == '+value;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    isFilesCompare(pos, nodeList, fieldsByName)\r\n    {\r\n        let fieldResult = this.getFieldFromNodeList(pos, nodeList),\r\n            fieldName;\r\n\r\n        if (!fieldResult)\r\n            return false;\r\n\r\n        [pos, fieldName] = fieldResult;\r\n\r\n        if (!fieldsByName[fieldName] || fieldsByName[fieldName].type !== 'files')\r\n            return false;\r\n\r\n        if (nodeList[pos].nType !== MSLang.NodeType.ntSelfFuncCall) {//Form.Field.Choice.Function()\r\n            return false;\r\n        }\r\n\r\n        if (nodeList[pos+1].nType !== MSLang.NodeType.ntExpressionCompare) {//Form.Field.Choice.Function() ==\r\n            return false;\r\n        }\r\n\r\n        if (nodeList[pos+2].nType !== MSLang.NodeType.ntIFValue) {//Form.Field.Choice.Function() == ?\r\n            return false;\r\n        }\r\n\r\n        if (nodeList[pos+2].childItems.length !== 1 ||\r\n            nodeList[pos+2].childItems[0].nType !== MSLang.NodeType.ntNumeric) { //Form.Field.Choice.Function() == 0\r\n            return false;\r\n        }\r\n\r\n        let functionName = nodeList[pos].nValue,\r\n            data;\r\n\r\n        switch (functionName)\r\n        {\r\n            case 'Count':\r\n\r\n                if (nodeList[pos+1].nValue === MSLang.CompareType.ctEqual)\r\n                {\r\n                    if (nodeList[pos+2].childItems[0].nValue === 0)\r\n                    {\r\n                        data = {\r\n                            field: fieldName,\r\n                            type: 'isNotFilledOut'\r\n                        };\r\n\r\n                        return [\r\n                            pos+3,\r\n                            data\r\n                        ];\r\n                    }\r\n\r\n                    debugger;\r\n\r\n                    data = {\r\n                        field: fieldName,\r\n                        type: 'isEqual',\r\n                        value: nodeList[pos+2].childItems[0].nValue.toString(),\r\n                        valueType: 'string',\r\n                    };\r\n\r\n                    return [\r\n                        pos+3,\r\n                        data\r\n                    ];\r\n                }\r\n\r\n                if (nodeList[pos+1].nValue === MSLang.CompareType.ctGreat && nodeList[pos+2].childItems[0].nValue === 0)\r\n                {\r\n                    data = {\r\n                        field: fieldName,\r\n                        type: 'isFilledOut'\r\n                    };\r\n\r\n                    return [\r\n                        pos+3,\r\n                        data\r\n                    ]\r\n                }\r\n\r\n                break;\r\n            default:\r\n                return false;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    getParseFunctions()\r\n    {\r\n        return [\r\n            this.isFilesCompare.bind(this),\r\n        ];\r\n    }\r\n}","import WebFormCond from './cond-core';\r\n\r\nlet MSLang = DevBX.MSLang;\r\nexport default class WebFormCondBoolean extends WebFormCond {\r\n\r\n    constructor() {\r\n        super('boolean');\r\n    }\r\n\r\n    get conditions()\r\n    {\r\n        let items = [];\r\n\r\n        items.push({\r\n            value: 'isTrue',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_TRUE'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'isFalse',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_FALSE'),\r\n            comp: false,\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    getCode(formField, itemCond)\r\n    {\r\n        switch (itemCond.type) {\r\n            case 'isTrue':\r\n                return itemCond.field;\r\n            case 'isFalse':\r\n                return '!'+itemCond.field;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    isBooleanCompare(pos, nodeList, fieldsByName)\r\n    {\r\n        let negative = false,\r\n            fieldResult,\r\n            fieldName;\r\n\r\n        if (nodeList[pos].nType === MSLang.NodeType.ntNegativeIf)\r\n        {\r\n            negative = true;\r\n            pos++;\r\n        }\r\n\r\n        fieldResult = this.getFieldFromNodeList(pos, nodeList);\r\n\r\n        if (!fieldResult)\r\n            return false;\r\n\r\n        [pos, fieldName] = fieldResult;\r\n\r\n        if (!fieldsByName[fieldName] || fieldsByName[fieldName].type !== 'boolean')\r\n            return false;\r\n\r\n        if (pos === nodeList.length || nodeList[pos].nType === MSLang.NodeType.ntCompareAnd)\r\n        {\r\n            let data = {\r\n                field: fieldName,\r\n                type: negative ? 'isFalse' : 'isTrue',\r\n            };\r\n\r\n            return [pos, data];\r\n        }\r\n\r\n\r\n        return false;\r\n    }\r\n\r\n    getParseFunctions()\r\n    {\r\n        return [\r\n            this.isBooleanCompare.bind(this),\r\n        ];\r\n    }\r\n}","import WebFormCond from './cond-core';\r\n\r\nlet MSLang = DevBX.MSLang;\r\nexport default class WebFormCondNumber extends WebFormCond {\r\n    constructor() {\r\n        super('number');\r\n    }\r\n\r\n    get conditions() {\r\n        let items = [];\r\n\r\n        items.push({\r\n            value: 'isFilledOut',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_FILLED_OUT'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'isNotFilledOut',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_NOT_FILLED_OUT'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'is',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS'),\r\n            comp: 'devbx-webform-cond-number',\r\n        });\r\n\r\n        items.push({\r\n            value: 'isNot',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_NOT'),\r\n            comp: 'devbx-webform-cond-number',\r\n        });\r\n\r\n        items.push({\r\n            value: 'isGreater',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_GREATER'),\r\n            comp: 'devbx-webform-cond-number',\r\n        });\r\n\r\n        items.push({\r\n            value: 'isLess',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_LESS'),\r\n            comp: 'devbx-webform-cond-number',\r\n        });\r\n\r\n        items.push({\r\n            value: 'isGreaterOrEqual',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_GREATER_OR_EQUAL'),\r\n            comp: 'devbx-webform-cond-number',\r\n        });\r\n\r\n        items.push({\r\n            value: 'isLessOrEqual',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_LESS_OR_EQUAL'),\r\n            comp: 'devbx-webform-cond-number',\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    getCode(formField, itemCond) {\r\n        switch (itemCond.type) {\r\n            case 'isFilledOut':\r\n                return itemCond.field + ' != null';\r\n            case 'isNotFilledOut':\r\n                return itemCond.field + ' == null';\r\n        }\r\n\r\n        let value = itemCond.value;\r\n\r\n        switch (itemCond.valueType) {\r\n            case 'number':\r\n                value = parseFloat(value);\r\n\r\n                if (isNaN(value))\r\n                    return '';\r\n                break;\r\n            case 'field':\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n\r\n        switch (itemCond.type) {\r\n            case 'is':\r\n                return itemCond.field + ' == ' + value;\r\n            case 'isNot':\r\n                return itemCond.field + ' != ' + value;\r\n            case 'isGreater':\r\n                return itemCond.field + ' > ' + value;\r\n            case 'isLess':\r\n                return itemCond.field + ' < ' + value;\r\n            case 'isGreaterOrEqual':\r\n                return itemCond.field + ' >= ' + value;\r\n            case 'isLessOrEqual':\r\n                return itemCond.field + ' <= ' + value;\r\n        }\r\n\r\n        return '';\r\n    }\r\n\r\n    isCompareField(pos, nodeList, fieldsByName) {\r\n        let fieldResult = this.getFieldFromNodeList(pos, nodeList),\r\n            fieldName;\r\n\r\n        if (!fieldResult)\r\n            return false;\r\n\r\n        [pos, fieldName] = fieldResult;\r\n\r\n        if (!fieldsByName[fieldName] || fieldsByName[fieldName].type !== 'number')\r\n            return false;\r\n\r\n        if (nodeList[pos].nType !== MSLang.NodeType.ntExpressionCompare)\r\n            return false;\r\n\r\n        if (nodeList[pos + 1].nType !== MSLang.NodeType.ntIFValue)\r\n            return false;\r\n\r\n        let rightNodeType = nodeList[pos + 1].childItems[0].nType,\r\n            data;\r\n\r\n        if (rightNodeType !== MSLang.NodeType.ntContextVariable && rightNodeType !== MSLang.NodeType.ntNumeric)\r\n            return false;\r\n\r\n        if (rightNodeType === MSLang.NodeType.ntContextVariable) {\r\n            fieldResult = this.getFieldFromNodeList(0, nodeList[pos + 1].childItems);\r\n            if (!fieldResult)\r\n                return false;\r\n\r\n            switch (fieldResult[1]) {\r\n                case 'null':\r\n                    data = {\r\n                        field: fieldName,\r\n                    };\r\n\r\n                    switch (nodeList[pos].nValue) {\r\n                        case MSLang.CompareType.ctEqual:\r\n                            data.type = 'isNotFilledOut';\r\n                            break;\r\n                        case MSLang.CompareType.ctNotEqual:\r\n                            data.type = 'isFilledOut';\r\n                            break;\r\n                        default:\r\n                            return false;\r\n                    }\r\n\r\n                    return [pos + 2, data];\r\n            }\r\n\r\n            data = {\r\n                field: fieldName,\r\n                value: fieldResult[1],\r\n                valueType: 'field',\r\n            };\r\n\r\n        } else {\r\n            data = {\r\n                field: fieldName,\r\n                value: nodeList[pos + 1].childItems[0].nValue,\r\n                valueType: 'number',\r\n            };\r\n        }\r\n\r\n        switch (nodeList[pos].nValue) {\r\n            case MSLang.CompareType.ctEqual:\r\n                data.type = 'is';\r\n                break;\r\n            case MSLang.CompareType.ctNotEqual:\r\n                data.type = 'isNot';\r\n                break;\r\n            case MSLang.CompareType.ctGreat:\r\n                data.type = 'isGreater';\r\n                break;\r\n            case MSLang.CompareType.ctLess:\r\n                data.type = 'isLess';\r\n                break;\r\n            case MSLang.CompareType.ctGreat | MSLang.CompareType.ctEqual:\r\n                data.type = 'isGreaterOrEqual';\r\n                break;\r\n            case MSLang.CompareType.ctLess | MSLang.CompareType.ctEqual:\r\n                data.type = 'isLessOrEqual';\r\n                break;\r\n            default:\r\n                return false;\r\n        }\r\n\r\n        return [pos + 2, data];\r\n    }\r\n\r\n    getParseFunctions() {\r\n        return [\r\n            this.isCompareField.bind(this),\r\n        ]\r\n    }\r\n\r\n}\r\n","import WebFormCond from './cond-core';\r\nimport WebFormCondString from \"./cond-string\";\r\n\r\nlet MSLang = DevBX.MSLang;\r\nexport default class WebFormCondArray extends WebFormCond\r\n{\r\n    constructor() {\r\n        super('enum');\r\n    }\r\n\r\n    get conditions()\r\n    {\r\n        let items = [];\r\n\r\n        items.push({\r\n            value: 'isFilledOut',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_FILLED_OUT'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'isNotFilledOut',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_NOT_FILLED_OUT'),\r\n            comp: false,\r\n        });\r\n\r\n        items.push({\r\n            value: 'is',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS'),\r\n            comp: 'devbx-webform-cond-enum',\r\n        });\r\n\r\n        items.push({\r\n            value: 'isNot',\r\n            label: BX.message('DEVBX_WEB_FORM_COND_IS_NOT'),\r\n            comp: 'devbx-webform-cond-enum',\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    getCode(formField, itemCond)\r\n    {\r\n        //в феб-форме не используется enum тип данных\r\n        return '';\r\n    }\r\n\r\n    getParseFunctions()\r\n    {\r\n        //в феб-форме не используется enum тип данных\r\n        return [];\r\n    }\r\n}","import WebFormCondString from \"./cond-string\";\r\nimport WebFormCondArray from \"./cond-array\";\r\nimport WebFormCondDate from \"./cond-date\";\r\nimport WebFormCondDateTime from \"./cond-datetime\";\r\nimport WebFormCondTime from \"./cond-time\";\r\nimport WebFormCondFiles from \"./cond-files\";\r\nimport WebFormCondBoolean from \"./cond-boolean\";\r\nimport WebFormCondNumber from \"./cond-number\";\r\n\r\nimport WebFormCondEnum from \"./cond-enum\";\r\n\r\nlet MSLang = DevBX.MSLang;\r\n\r\nexport class WebFormCondConfig {\r\n\r\n    constructor() {\r\n        this._fieldsType = {};\r\n\r\n        this.register(new WebFormCondString());\r\n        this.register(new WebFormCondArray());\r\n        this.register(new WebFormCondDate());\r\n        this.register(new WebFormCondDateTime());\r\n        this.register(new WebFormCondTime());\r\n        this.register(new WebFormCondFiles());\r\n        this.register(new WebFormCondBoolean());\r\n        this.register(new WebFormCondNumber());\r\n\r\n        /* для инфоблоков */\r\n        this.register(new WebFormCondEnum());\r\n    }\r\n\r\n    get fieldsType()\r\n    {\r\n        return this._fieldsType;\r\n    }\r\n\r\n    register(obj)\r\n    {\r\n        this._fieldsType[obj.type] = obj;\r\n    }\r\n\r\n    formatString(str, search, replace) {\r\n        if (typeof str === 'undefined')\r\n            return '';\r\n\r\n        if (typeof str !== 'string')\r\n            str = str.toString();\r\n\r\n        if (!Array.isArray(search)) {\r\n            search = [search];\r\n            replace = [replace];\r\n        }\r\n\r\n        search.forEach((s, i) => {\r\n            str = str.replaceAll(s, replace[i]);\r\n        });\r\n\r\n        return str;\r\n    }\r\n\r\n    checkGroupCond(fieldsByName, groups)\r\n    {\r\n        let errors = [];\r\n\r\n        groups.forEach(group => {\r\n            group.forEach(item => {\r\n                if (!fieldsByName[item.field])\r\n                {\r\n                    let msg = BX.message('DEVBX_WEB_FORM_COND_FIELD_NOT_FOUND');\r\n                    errors.push(this.formatString(msg, '#FIELD_NAME#', item.field));\r\n                    return;\r\n                }\r\n\r\n                let formField = fieldsByName[item.field];\r\n\r\n                if (item.valueType === 'array')\r\n                {\r\n                    if (formField.type !== 'array')\r\n                    {\r\n                        let msg = BX.message('DEVBX_WEB_FORM_COND_INVALID_FIELD_TYPE');\r\n                        errors.push(this.formatString(msg, '#FIELD_NAME#', item.field));\r\n                        return;\r\n                    }\r\n\r\n                    item.value.forEach(value => {\r\n\r\n                        switch (value.valueType)\r\n                        {\r\n                            case 'fieldValue':\r\n                                if (formField.values.indexOf(value.value)<0)\r\n                                {\r\n                                    let msg = BX.message('DEVBX_WEB_FORM_COND_FIELD_VALUE_NOT_FOUND');\r\n                                    errors.push(this.formatString(msg, ['#FIELD_NAME#','#FIELD_VALUE#'], [item.field, value.value]));\r\n                                    return;\r\n                                }\r\n                                break;\r\n                            case 'field':\r\n                                if (!fieldsByName[value.value])\r\n                                {\r\n                                    let msg = BX.message('DEVBX_WEB_FORM_COND_FIELD_NOT_FOUND');\r\n                                    errors.push(this.formatString(msg, '#FIELD_NAME#', value.value));\r\n                                    return;\r\n                                }\r\n                                break;\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        });\r\n\r\n        return errors;\r\n    }\r\n\r\n    compileGroupCond(fieldsByName, groups)\r\n    {\r\n        let arCode = [];\r\n\r\n        groups.forEach(group => {\r\n\r\n            if (!group.length)\r\n                return;\r\n\r\n            let arCond = [];\r\n\r\n            group.forEach(item => {\r\n\r\n                let formField = fieldsByName[item.field];\r\n\r\n                if (!formField)\r\n                    return;\r\n\r\n                let fieldCond = this.fieldsType[formField.type]; //string, array, e.t.c.\r\n\r\n                if (!fieldCond)\r\n                    return;\r\n\r\n                let code = fieldCond.getCode(formField, item);\r\n\r\n                if (code && code.length)\r\n                {\r\n                    arCond.push(code);\r\n                }\r\n            });\r\n\r\n            if (arCond.length)\r\n            {\r\n                arCode.push('('+arCond.join(' && ')+')');\r\n            }\r\n        });\r\n\r\n        if (!arCode.length)\r\n            return '';\r\n\r\n        return 'return '+arCode.join(\"\\n\\t || \");\r\n    }\r\n\r\n    get parseFunctions()\r\n    {\r\n        let result = [];\r\n\r\n        Object.values(this.fieldsType).forEach(fieldType => {\r\n            result.push(...fieldType.getParseFunctions());\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    parseSubExpression(nodeList, fieldsByName)\r\n    {\r\n        let pos = 0,\r\n            result = [],\r\n            remoteResult;\r\n\r\n        while (pos<nodeList.length)\r\n        {\r\n            remoteResult = false;\r\n\r\n            this.parseFunctions.every(f => {\r\n                remoteResult = f.call(null, pos, nodeList, fieldsByName);\r\n                return remoteResult === false;\r\n            });\r\n\r\n            if (remoteResult === false)\r\n                return false;\r\n\r\n            pos = remoteResult[0];\r\n            result.push(remoteResult[1]);\r\n\r\n            if (pos>=nodeList.length)\r\n                break;\r\n\r\n            if (nodeList[pos].nType !== MSLang.NodeType.ntCompareAnd)\r\n                return false;\r\n\r\n            pos++;\r\n        }\r\n\r\n        return result;\r\n    }\r\n    codeToWizardBuilder(nodeList, fieldsByName)\r\n    {\r\n        if (nodeList.length != 1)\r\n            return false;\r\n\r\n        let pos = 0,\r\n            items = nodeList[0].childItems,\r\n            result = [];\r\n\r\n        while (pos<items.length)\r\n        {\r\n            if (items[pos].nType !== MSLang.NodeType.ntSubExpression)\r\n                return false;\r\n\r\n            let group = this.parseSubExpression(items[pos].childItems, fieldsByName);\r\n\r\n            if (!group)\r\n                return false;\r\n\r\n            result.push(group);\r\n\r\n            pos++;\r\n            if (pos === items.length)\r\n                break;\r\n\r\n            if (items[pos].nType !== MSLang.NodeType.ntCompareOr)\r\n                return false;\r\n\r\n            pos++;\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n\r\n","import './devbx.webform.cond.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-cond', {\r\n        props: {\r\n            'item': {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            'condConfig': {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            'condFields': {\r\n                type: Array,\r\n                required: true,\r\n            }\r\n        },\r\n        computed: {\r\n            selectedField() {\r\n                let result = false;\r\n\r\n                debugger;\r\n\r\n                this.condFields.every(field => {\r\n                    if (field.name === this.item.field)\r\n                        result = field;\r\n\r\n                    return !result;\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            selectedFieldDataType() {\r\n                if (!this.selectedField)\r\n                    return null;\r\n\r\n                return this.selectedField.type;\r\n            },\r\n\r\n            operationType() {\r\n                if (!this.selectedField)\r\n                    return [];\r\n\r\n                let fieldCond = this.condConfig.fieldsType[this.selectedField.type];\r\n\r\n                if (!fieldCond)\r\n                    return [];\r\n\r\n                return fieldCond.conditions;\r\n            },\r\n\r\n            selectedCondition() {\r\n                let result = false;\r\n\r\n                this.operationType.every(item => {\r\n                    if (item.value === this.item.type)\r\n                        result = item;\r\n\r\n                    return !result;\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            condHasComponent() {\r\n                return this.selectedCondition && this.selectedCondition.comp;\r\n            },\r\n        },\r\n        watch: {\r\n            'selectedFieldDataType': function (val, oldVal) {\r\n                if (this.operationType.length)\r\n                    this.item.type = this.operationType[0].value;\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-cond-container\">\r\n        <div class=\"devbx-webform-cond-dropdown devbx-webform-cond-field\">\r\n            <select v-model=\"item.field\">\r\n                <option v-for=\"field in condFields\" :key=\"field.name\" :value=\"field.name\">{{field.name}} ({{field.label}})</option>        \r\n            </select>\r\n        </div>\r\n        \r\n        <div class=\"devbx-webform-cond-dropdown devbx-webform-cond-type\">\r\n            <select v-model=\"item.type\">\r\n                <option v-for=\"type in operationType\" :key=\"type.value\" :value=\"type.value\">{{type.label}}</option>\r\n            </select>\r\n        </div>\r\n        \r\n        <component v-if=\"condHasComponent\" \r\n            :is=\"selectedCondition.comp\" \r\n            :item=\"item\" \r\n            :field=\"selectedField\" \r\n            :cond-config=\"condConfig\" \r\n            :cond-fields=\"condFields\"\r\n            v-bind=\"selectedCondition.props\"\r\n            >\r\n        </component>\r\n        \r\n        <slot>\r\n        </slot>\r\n    </div>\r\n    `,\r\n    });\r\n});","import './devbx.webform.cond.group.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-cond-group', {\r\n        props: {\r\n            'group': {\r\n                type: Array,\r\n                required: true,\r\n            },\r\n            'condConfig': {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            'condFields': {\r\n                type: Array,\r\n                required: true,\r\n            }\r\n        },\r\n        methods: {\r\n            addCond() {\r\n                this.group.push({\r\n                    field: this.$root.formFields[0].name,\r\n                    type: 'isFilledOut',\r\n                });\r\n            },\r\n\r\n            removeCond(index) {\r\n                this.group.splice(index, 1);\r\n\r\n                if (!this.group.length)\r\n                    this.$emit('removegroup', this.group);\r\n            },\r\n        },\r\n        template: `\r\n<div class=\"devbx-webform-cond-group\">\r\n    <devbx-webform-cond v-for=\"(item,index) in group\" :item=\"item\" :key=\"index\" :cond-config=\"condConfig\" :cond-fields=\"condFields\">\r\n        <span v-if=\"index == group.length-1\" class=\"devbx-webform-cond-add-and\">\r\n            <a href=\"#\" @click.stop.prevent=\"addCond\">\r\n                <i class=\"fa fa-plus\"></i>\r\n                <span class=\"devbx-webform-cond-add-and-label\">{{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_LOGIN_AND')}}</span>\r\n            </a>\r\n        </span>\r\n        \r\n        <a href=\"#\" @click.stop.prevent=\"removeCond(index)\" class=\"devbx-webform-cond-remove\">\r\n            <i class=\"fa fa-trash\"></i>            \r\n        </a>\r\n    </devbx-webform-cond>\r\n</div>\r\n`,\r\n    });\r\n});","import './devbx.webform.cond.string.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-cond-string', {\r\n        props: {\r\n            'item': {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            'field': {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            'condConfig': {\r\n                type: Object,\r\n            },\r\n            'condFields': {\r\n                type: Array,\r\n                required: true,\r\n            },\r\n        },\r\n        computed: {\r\n            options() {\r\n                let result = [];\r\n\r\n                if (Array.isArray(this.field.values)) {\r\n                    this.field.values.forEach(value => {\r\n                        result.push({\r\n                            value: value,\r\n                            valueType: 'string',\r\n                            label: value,\r\n                            cssClass: 'cond-field-value'\r\n                        });\r\n                    });\r\n                }\r\n\r\n                this.condFields.forEach(item => {\r\n                    if (item.type === 'string') {\r\n                        result.push({\r\n                            value: item.name,\r\n                            valueType: 'field',\r\n                            label: item.name + ' (' + item.label + ')',\r\n                            cssClass: 'cond-field'\r\n                        });\r\n                    }\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            value: {\r\n                get() {\r\n                    if (typeof this.item.value === 'string')\r\n                        return this.item.value;\r\n\r\n                    return '';\r\n                },\r\n                set(val) {\r\n                    this.item.value = val;\r\n                },\r\n            },\r\n            valueType: {\r\n                get() {\r\n                    if (!!this.item.valueType)\r\n                        return this.item.valueType;\r\n\r\n                    return 'string';\r\n                },\r\n                set(val) {\r\n                    this.item.valueType = val;\r\n                },\r\n            },\r\n        },\r\n        watch: {\r\n            item: {\r\n                handler: function (val) {\r\n                    if (val.valueType !== 'string' && val.valueType !== 'field') {\r\n                        this.item.valueType = 'string';\r\n                        this.item.value ='';\r\n                    }\r\n\r\n                    if (typeof this.item.value !== 'string') {\r\n                        this.item.value = '';\r\n                    }\r\n                },\r\n                immediate: true,\r\n                deep: true,\r\n            }\r\n        },\r\n        methods: {\r\n            onSelect(item) {\r\n                this.value = item.value;\r\n                this.valueType = item.valueType;\r\n            },\r\n        },\r\n        template: `\r\n    <devbx-webform-customselect\r\n        class=\"devbx-webform-cond-string\"\r\n        :value=\"value\"\r\n        :value-type=\"valueType\"\r\n        :options=\"options\"\r\n        @select=\"onSelect\"\r\n        >\r\n    \r\n    </devbx-webform-customselect>\r\n    `,\r\n    });\r\n});","BX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-cond-array', {\r\n        props: {\r\n            'item': {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            'field': {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            'condFields': {\r\n                type: Array,\r\n                required: true,\r\n            }\r\n        },\r\n        data() {\r\n            return {};\r\n        },\r\n        computed: {\r\n            fields() {\r\n                let result = [];\r\n\r\n                this.condFields.forEach(item => {\r\n                    if (item.type === 'string')\r\n                        result.push(item);\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            fieldsByName() {\r\n                let result = {};\r\n\r\n                this.fields.forEach(item => {\r\n                    result[item.name] = item;\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            options() {\r\n                let result = [];\r\n\r\n                if (this.field.values) {\r\n                    this.field.values.forEach(value => {\r\n                        result.push({\r\n                            value: value,\r\n                            valueType: 'fieldValue',\r\n                            label: value,\r\n                            cssClass: 'field-value',\r\n                        });\r\n                    });\r\n                }\r\n\r\n                this.fields.forEach(item => {\r\n                    if (item.type == 'string') {\r\n                        let label = item.name + ' (' + item.label + ')';\r\n\r\n                        result.push({\r\n                            value: item.name,\r\n                            valueType: 'field',\r\n                            label: label,\r\n                            cssClass: 'field',\r\n                        });\r\n                    }\r\n                });\r\n\r\n                let map = {};\r\n\r\n                result.forEach(item => {\r\n                    item.id = item.valueType + ':' + item.value;\r\n                    item.selected = false;\r\n                    map[item.id] = item;\r\n                });\r\n\r\n                if (Array.isArray(this.item.value)) {\r\n                    this.item.value.forEach(item => {\r\n                        let id = item.valueType + ':' + item.value;\r\n\r\n                        if (map[id]) {\r\n                            map[id].selected = true;\r\n                        }\r\n                    });\r\n                }\r\n\r\n                return map;\r\n            },\r\n\r\n            selectedOptions() {\r\n                let result = [];\r\n\r\n                Object.values(this.options).forEach(item => {\r\n                    if (item.selected)\r\n                        result.push(item);\r\n                });\r\n\r\n                return result;\r\n            },\r\n        },\r\n        methods: {\r\n            onSelect(option) {\r\n                this.item.value.push({\r\n                    value: option.value,\r\n                    valueType: option.valueType,\r\n                });\r\n            },\r\n\r\n            onRemove(option) {\r\n                this.item.value.every((item, index) => {\r\n\r\n                    let itemKey = item.valueType + ':' + item.value;\r\n\r\n                    if (itemKey === option.id) {\r\n                        this.item.value.splice(index, 1);\r\n                        return false;\r\n                    }\r\n\r\n                    return true;\r\n                });\r\n            },\r\n        },\r\n        watch: {\r\n            item: {\r\n                handler: function (val) {\r\n                    if (val.valueType !== 'array') {\r\n                        this.item.valueType = 'array';\r\n                        this.item.value = [];\r\n                    }\r\n\r\n                    if (!Array.isArray(this.item.value)) {\r\n                        this.item.value = [];\r\n                    }\r\n                },\r\n                immediate: true,\r\n                deep: true,\r\n            }\r\n        },\r\n        template: `\r\n        <devbx-webform-multiselect \r\n                :value=\"selectedOptions\"\r\n                :options=\"options\"\r\n                @select=\"onSelect($event)\"\r\n                @remove=\"onRemove($event)\"\r\n                >\r\n        </devbx-webform-multiselect>    \r\n    `,\r\n    });\r\n});","import './devbx.webform.cond.date.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n\r\n    app.component('devbx-webform-cond-date', {\r\n        props: {\r\n            'item': {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            'field': {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            'condConfig': {\r\n                type: Object,\r\n            },\r\n            'condFields': {\r\n                type: Array,\r\n                required: true,\r\n            },\r\n            'time': {\r\n                type: Boolean,\r\n                default: false,\r\n            }\r\n        },\r\n        computed: {\r\n            value: {\r\n                get() {\r\n                    if (typeof this.item.value === 'string')\r\n                        return this.item.value;\r\n\r\n                    if (typeof this.item.value === 'number') {\r\n                        let dateTime = new Date(this.item.value * 1000);\r\n\r\n                        return BX.date.format(BX.date.convertBitrixFormat(this.time ? BX.message['FORMAT_DATETIME'] : BX.message['FORMAT_DATE']), dateTime);\r\n                    }\r\n\r\n                    return '';\r\n                },\r\n                set(val) {\r\n                    //let dateTime = BX.date.parse(val);\r\n                    let dateTime = BX.parseDate(val, false);\r\n\r\n                    if (dateTime) {\r\n                        this.item.value = Math.floor(dateTime.getTime() / 1000);\r\n                    } else {\r\n                        this.item.value = val;\r\n                    }\r\n                },\r\n            },\r\n        },\r\n        watch: {\r\n            item: {\r\n                handler: function (val) {\r\n                    let needValueType = this.time ? 'datetime' : 'date';\r\n\r\n                    if (val.valueType !== needValueType) {\r\n                        this.item.valueType = needValueType;\r\n                        this.item.value = '';\r\n                    }\r\n\r\n                    if (typeof this.item.value !== 'string' && typeof this.item.value !== 'number') {\r\n                        this.item.value = '';\r\n                    }\r\n                },\r\n                immediate: true,\r\n                deep: true,\r\n            }\r\n        },\r\n        methods: {\r\n            showCalendar() {\r\n                BX.calendar({\r\n                    node: this.$refs.icon,\r\n                    field: this.$refs.input,\r\n                    bTime: this.time,\r\n                    bHideTime: !this.time,\r\n                });\r\n            },\r\n\r\n            onChange() {\r\n                console.log('change');\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-date-value\">\r\n        <input ref=\"input\" type=\"text\" v-model=\"value\" @change=\"value = $event.target.value\">\r\n        <span ref=\"icon\" class=\"devbx-webform-date-icon\" @click.stop.prevent=\"showCalendar\"><i class=\"fa fa-calendar\"></i></span>\r\n    </div>\r\n    `\r\n    });\r\n});","import './devbx.webform.cond.number.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-cond-number', {\r\n        props: {\r\n            'item': {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            'field': {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            'condConfig': {\r\n                type: Object,\r\n            },\r\n            'condFields': {\r\n                type: Array,\r\n                required: true,\r\n            },\r\n        },\r\n        mounted() {\r\n\r\n            if (this.item.valueType === 'number') {\r\n                let value = parseFloat(this.item.value);\r\n\r\n                if (isNaN(value))\r\n                    value = 0;\r\n\r\n                this.item.value = value;\r\n            }\r\n        },\r\n        computed: {\r\n            options() {\r\n                let result = [];\r\n\r\n                this.condFields.forEach(item => {\r\n                    if (item.type === 'number') {\r\n                        result.push({\r\n                            value: item.name,\r\n                            valueType: 'field',\r\n                            label: item.name + ' (' + item.label + ')',\r\n                            cssClass: 'cond-field'\r\n                        });\r\n                    }\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            value: {\r\n                get() {\r\n                    if (typeof this.item.value === 'number' || typeof this.item.value === 'string')\r\n                        return this.item.value;\r\n\r\n                    return '';\r\n                },\r\n                set(val) {\r\n                    this.item.value = val;\r\n                },\r\n            },\r\n            valueType: {\r\n                get() {\r\n                    if (!!this.item.valueType)\r\n                        return this.item.valueType;\r\n\r\n                    return 'number';\r\n                },\r\n                set(val) {\r\n                    this.item.valueType = val;\r\n                },\r\n            },\r\n        },\r\n        watch: {\r\n            item: {\r\n                handler: function (val) {\r\n                    if (val.valueType !== 'number' && val.valueType !== 'field') {\r\n                        this.item.valueType = 'number';\r\n                        this.item.value = '';\r\n                    }\r\n\r\n                    if (typeof this.item.value !== 'number' && typeof this.item.value !== 'string') {\r\n                        this.item.value = 0;\r\n                    }\r\n                },\r\n                immediate: true,\r\n                deep: true,\r\n            }\r\n        },\r\n        methods: {\r\n            onSelect(item) {\r\n                this.value = item.value;\r\n                this.valueType = item.valueType;\r\n            },\r\n        },\r\n        template: `\r\n    <devbx-webform-customselect\r\n        class=\"devbx-webform-cond-number\"\r\n        :value=\"value\"\r\n        :value-type=\"valueType\"\r\n        :options=\"options\"\r\n        default-value-type=\"number\"\r\n        @select=\"onSelect\"\r\n        >\r\n    \r\n    </devbx-webform-customselect>\r\n    `,\r\n    });\r\n});","import './devbx.webform.cond.basic.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n\r\n    app.component('devbx-webform-cond-basic', {\r\n        props: {\r\n            'groups': {\r\n                type: Array,\r\n                required: true,\r\n            },\r\n            'condConfig': {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            'condFields': {\r\n                type: Array,\r\n                required: true,\r\n            },\r\n        },\r\n        methods: {\r\n            removeGroup(index) {\r\n                this.groups.splice(index, 1);\r\n            },\r\n        },\r\n        template: `\r\n    <div>\r\n        <div  v-for=\"(group, index) in groups\" :key=\"index\">\r\n            <div class=\"devbx-webform-cond-or\" v-if=\"index>0\">\r\n                <hr class=\"devbx-webform-cond-line\">\r\n                <span class=\"devbx-webform-cond-label\">\r\n                    {{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_LOGIN_OR')}}\r\n                </span>\r\n                <hr class=\"devbx-webform-cond-line\">                        \r\n            </div>\r\n\r\n            <devbx-webform-cond-group :group=\"group\" :cond-config=\"condConfig\" :cond-fields=\"condFields\" @removegroup=\"removeGroup(index)\">\r\n            </devbx-webform-cond-group>\r\n        </div>        \r\n        \r\n        <a href=\"#\" @click.stop.prevent=\"$emit('addgroup')\" class=\"devbx-webform-cond-add-group\">\r\n            <hr class=\"devbx-webform-cond-line\">        \r\n            <span class=\"devbx-webform-cond-label\">\r\n                <i class=\"fa fa-plus\"></i>\r\n                <span>{{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_LOGIN_OR')}}</span>\r\n            </span>            \r\n            <hr class=\"devbx-webform-cond-line\">\r\n        </a>\r\n    </div>\r\n    `\r\n    });\r\n});","import './devbx.webform.cond.code.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n\r\n    app.component('devbx-webform-cond-code', {\r\n        props: ['code'],\r\n        data() {\r\n            return {\r\n                view: false,\r\n            };\r\n        },\r\n        mounted() {\r\n\r\n            this.view = new DevBX.Forms.CodeMirror.EditorView({\r\n                doc: this.code,\r\n                extensions: [\r\n                    DevBX.Forms.CodeMirror.basicSetup,\r\n                    DevBX.Forms.CodeMirror.javascript(),\r\n                ],\r\n                parent: this.$refs.condCode,\r\n                dispatch: BX.delegate(this.editorTr, this),\r\n            });\r\n        },\r\n\r\n        beforeUnmount() {\r\n            this.view.destroy();\r\n        },\r\n\r\n        methods: {\r\n            editorTr(tr) {\r\n                this.view.update([tr]);\r\n\r\n                if (!tr.changes.empty) {\r\n                    let code = this.view.state.doc.text.join(\"\\n\");\r\n                    this.$emit('input', code);\r\n                }\r\n            },\r\n        },\r\n        template: `\r\n    <div style=\"height: calc(100% - 50px);\">\r\n        <div ref=\"condCode\" class=\"devbx-webform-cond-code\"></div> \r\n    </div>\r\n    `\r\n    });\r\n});\r\n","BX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-cond-enum', {\r\n        props: {\r\n            'item': {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            'field': {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            'condFields': {\r\n                type: Array,\r\n                required: true,\r\n            }\r\n        },\r\n        data() {\r\n            return {};\r\n        },\r\n        computed: {\r\n            fields() {\r\n                let result = [];\r\n\r\n                this.condFields.forEach(item => {\r\n                    if (item.type === 'string')\r\n                        result.push(item);\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            fieldsByName() {\r\n                let result = {};\r\n\r\n                this.fields.forEach(item => {\r\n                    result[item.name] = item;\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            options() {\r\n                let result = [];\r\n\r\n                debugger;\r\n\r\n                if (this.field.values) {\r\n                    this.field.values.forEach(value => {\r\n                        result.push({\r\n                            value: value.value,\r\n                            valueType: 'fieldValue',\r\n                            label: value.title,\r\n                            cssClass: 'field-value',\r\n                        });\r\n                    });\r\n                }\r\n\r\n                this.fields.forEach(item => {\r\n                    if (item.type == 'string') {\r\n                        let label = item.name + ' (' + item.label + ')';\r\n\r\n                        result.push({\r\n                            value: item.name,\r\n                            valueType: 'field',\r\n                            label: label,\r\n                            cssClass: 'field',\r\n                        });\r\n                    }\r\n                });\r\n\r\n                let map = {};\r\n\r\n                result.forEach(item => {\r\n                    item.id = item.valueType + ':' + item.value;\r\n                    item.selected = false;\r\n                    map[item.id] = item;\r\n                });\r\n\r\n                if (Array.isArray(this.item.value)) {\r\n                    this.item.value.forEach(item => {\r\n                        let id = item.valueType + ':' + item.value;\r\n\r\n                        if (map[id]) {\r\n                            map[id].selected = true;\r\n                        }\r\n                    });\r\n                }\r\n\r\n                return map;\r\n            },\r\n\r\n            selectedOptions() {\r\n                let result = [];\r\n\r\n                Object.values(this.options).forEach(item => {\r\n                    if (item.selected)\r\n                        result.push(item);\r\n                });\r\n\r\n                return result;\r\n            },\r\n        },\r\n        methods: {\r\n            onSelect(option) {\r\n                this.item.value.push({\r\n                    value: option.value,\r\n                    valueType: option.valueType,\r\n                });\r\n            },\r\n\r\n            onRemove(option) {\r\n                this.item.value.every((item, index) => {\r\n\r\n                    let itemKey = item.valueType + ':' + item.value;\r\n\r\n                    if (itemKey === option.id) {\r\n                        this.item.value.splice(index, 1);\r\n                        return false;\r\n                    }\r\n\r\n                    return true;\r\n                });\r\n            },\r\n        },\r\n        watch: {\r\n            item: {\r\n                handler: function (val) {\r\n                    if (val.valueType !== 'array') {\r\n                        this.item.valueType = 'array';\r\n                        this.item.value = [];\r\n                    }\r\n\r\n                    if (!Array.isArray(this.item.value)) {\r\n                        this.item.value = [];\r\n                    }\r\n                },\r\n                immediate: true,\r\n                deep: true,\r\n            }\r\n        },\r\n        template: `\r\n        <devbx-webform-multiselect \r\n                :value=\"selectedOptions\"\r\n                :options=\"options\"\r\n                @select=\"onSelect($event)\"\r\n                @remove=\"onRemove($event)\"\r\n                >\r\n        </devbx-webform-multiselect>    \r\n    `,\r\n    });\r\n});","import './devbx.webform.popup.condition.wizard.css';\r\n\r\nimport {WebFormCondConfig} from \"./cond\";\r\nimport './devbx.webform.cond';\r\nimport './devbx.webform.cond.group';\r\nimport './devbx.webform.cond.string';\r\nimport './devbx.webform.cond.array';\r\nimport './devbx.webform.cond.date';\r\nimport './devbx.webform.cond.number';\r\nimport './devbx.webform.cond.basic';\r\nimport './devbx.webform.cond.code';\r\n\r\nimport './devbx.webform.cond.enum';\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-popup-condition-wizard', {\r\n        props: {\r\n            'code': {\r\n                type: String,\r\n                required: true,\r\n            },\r\n            'condFields': {\r\n                type: Array,\r\n                required: true,\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                groups: [], //визуальные группы кода\r\n                editCode: '', //редактируемый код правила\r\n                mode: 'basic', //режим редактирования (basic - визуальный конструктор, code - визуальный редактор кода)\r\n                error: '', //текст ошибки которая выводится в подвале\r\n                condConfig: false,\r\n            }\r\n        },\r\n        created() {\r\n            this.condConfig = new WebFormCondConfig();\r\n        },\r\n        mounted() {\r\n            let popup = BX.PopupWindowManager.getPopupById(this.$parent.popupId);\r\n            if (popup)\r\n            {\r\n                popup.contentContainer.appendChild(this.$el);\r\n                popup.show();\r\n            }\r\n\r\n            if (this.code.length) {\r\n                let parsedGroups = this.parseCodeToGroup(this.code);\r\n\r\n                if (parsedGroups && !this.condConfig.checkGroupCond(this.$root.formFieldByName, parsedGroups).length) {\r\n                    this.groups = parsedGroups;\r\n                } else {\r\n                    this.editCode = this.code;\r\n                    this.mode = 'code';\r\n                }\r\n            }\r\n\r\n            if (!this.groups.length)\r\n                this.addGroup();\r\n        },\r\n        methods: {\r\n            parseCode(code) {\r\n                this.error = false;\r\n\r\n                try {\r\n                    const lexer = new DevBX.MSLang.CodeLexer(code);\r\n                    const parser = new DevBX.MSLang.CodeParser(lexer);\r\n                    const nodeList = [];\r\n\r\n                    parser.parseCode(nodeList, true, true, DevBX.MSLang.LexerTypeArray.one(DevBX.MSLang.LexerType.ltEof));\r\n\r\n                    return nodeList;\r\n                } catch (e) {\r\n\r\n                }\r\n\r\n                return false;\r\n            },\r\n\r\n            parseCodeToGroup(code) {\r\n                let nodeList = this.parseCode(code);\r\n\r\n                if (!nodeList)\r\n                    return false;\r\n\r\n                return this.condConfig.codeToWizardBuilder(nodeList, this.fieldsByName);\r\n            },\r\n\r\n            addGroup() {\r\n                let items = [];\r\n\r\n                if (this.$root.formFields.length) {\r\n                    let field = this.$root.formFields[0],\r\n                        obCond = this.condConfig.fieldsType[field.type];\r\n\r\n                    if (obCond) {\r\n                        items.push({\r\n                            field: field.name,\r\n                            type: obCond.conditions[0].value,\r\n                        });\r\n                    }\r\n                }\r\n\r\n                this.groups.push(items);\r\n            },\r\n\r\n            convertGroupToCode() {\r\n                return this.condConfig.compileGroupCond(this.$root.formFieldByName, this.groups);\r\n            },\r\n\r\n            setMode(mode) {\r\n                if (this.mode == mode)\r\n                    return;\r\n\r\n                if (this.mode == 'basic') {\r\n                    this.editCode = this.convertGroupToCode();\r\n                } else {\r\n                    if (!this.editCode.trim().length) {\r\n                        this.groups = [];\r\n                        this.mode = mode;\r\n                        return;\r\n                    }\r\n\r\n                    let nodeList = this.parseCode(this.editCode);\r\n\r\n                    if (!nodeList) {\r\n                        this.error = this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_PARSE_COND_ERROR');\r\n                        return;\r\n                    }\r\n\r\n                    let parsedGroups = this.condConfig.codeToWizardBuilder(nodeList, this.fieldsByName);\r\n\r\n                    if (!parsedGroups) {\r\n                        this.$root.showPopupError(this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_ERR_FAILED_CONVERT_CODE'));\r\n                        return;\r\n                    }\r\n\r\n                    let errors = this.condConfig.checkGroupCond(this.$root.formFieldByName, parsedGroups);\r\n\r\n                    if (errors.length) {\r\n                        this.$root.showPopupError(errors.join('<br>'));\r\n                        return;\r\n                    } else {\r\n                        this.groups = parsedGroups;\r\n                    }\r\n                }\r\n\r\n                this.mode = mode;\r\n            },\r\n\r\n            getCodeResult() {\r\n                this.error = false;\r\n\r\n                if (this.mode == 'basic')\r\n                    return this.convertGroupToCode();\r\n\r\n                if (this.parseCode(this.editCode) === false) {\r\n                    this.error = this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_PARSE_COND_ERROR');\r\n                    return false;\r\n                }\r\n\r\n                return this.editCode;\r\n            }\r\n        },\r\n        computed: {\r\n            fieldsByName() {\r\n                let result = {};\r\n\r\n                this.condFields.forEach(item => {\r\n                    result[item.name] = item;\r\n                });\r\n\r\n                return result;\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-cond-wizard\">\r\n        <div class=\"devbx-webform-cond-tabs\">\r\n            <span class=\"devbx-webform-page-button\" \r\n            :class=\"{'devbx-webform-page-button-active': mode=='basic'}\" \r\n            @click.stop.prevent=\"setMode('basic')\">{{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_BASE_EDITOR_TITLE')}}</span>\r\n            <span class=\"devbx-webform-page-button\" \r\n            :class=\"{'devbx-webform-page-button-active': mode=='code'}\" \r\n            @click.stop.prevent=\"setMode('code')\">{{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_CODE_EDITOR_TITLE')}}</span>\r\n        </div>\r\n        \r\n        <devbx-webform-cond-basic v-if=\"mode == 'basic'\" \r\n            :groups=\"groups\" \r\n            :cond-config=\"condConfig\"\r\n            :cond-fields=\"condFields\"\r\n            @addgroup=\"addGroup()\" \r\n            ></devbx-webform-cond-basic>\r\n        <devbx-webform-cond-code v-else :code=\"editCode\" @input=\"editCode = $event\"></devbx-webform-cond-code>\r\n        \r\n        <div class=\"devbx-webform-cond-error\" v-if=\"error\">\r\n            <i class=\"fa fa-exclamation-triangle\"></i>\r\n            <span class=\"devbx-webform-message\">{{error}}</span>\r\n        </div>\r\n            \r\n    </div>\r\n    `\r\n    });\r\n});","import './devbx.webform.condition.css';\r\nimport './devbx.webform.popup.condition.wizard.js';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-condition', {\r\n        props: {\r\n            'title': {\r\n                type: String,\r\n                default: '',\r\n            },\r\n            'formData': {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            'fieldName': {\r\n                type: String,\r\n                required: true,\r\n            },\r\n            'wizardTitle': {\r\n                type: String,\r\n                default: '',\r\n            },\r\n            'defaultValue': {\r\n                type: String,\r\n                required: true,\r\n            },\r\n            'condFields': {\r\n                type: Array,\r\n                required: true,\r\n            },\r\n            'options': {\r\n                type: Array,\r\n                default() {\r\n\r\n                    let result = [];\r\n\r\n                    result.push({value: 'always', title: BX.message('DEVBX_WEB_FORM_FIELD_RULE_ALWAYS')});\r\n                    result.push({value: 'when', title: BX.message('DEVBX_WEB_FORM_FIELD_RULE_WHEN')});\r\n                    result.push({value: 'never', title: BX.message('DEVBX_WEB_FORM_FIELD_RULE_NEVER')});\r\n\r\n                    return result;\r\n                },\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                popupId: false,\r\n            }\r\n        },\r\n        beforeUnmount() {\r\n            if (this.popupId)\r\n            {\r\n                let popup = BX.PopupWindowManager.getPopupById(this.popupId);\r\n                if (popup)\r\n                    popup.close();\r\n            }\r\n        },\r\n        computed: {\r\n            rule() {\r\n                return this.formData[this.fieldName];\r\n            },\r\n\r\n            selectOptions() {\r\n                let result = [];\r\n\r\n                this.options.forEach(item => {\r\n                    if (typeof item === 'string') {\r\n                        result.push({\r\n                            value: item,\r\n                            title: BX.message('DEVBX_WEB_FORM_FIELD_RULE_' + item.toUpperCase())\r\n                        });\r\n                    } else {\r\n                        result.push(item);\r\n                    }\r\n                });\r\n\r\n                return result;\r\n            },\r\n        },\r\n        methods: {\r\n            editRule() {\r\n                let options = {\r\n                    autoHide: false,\r\n                    draggable: false,\r\n                    closeByEsc: true,\r\n                    closeIcon: true,\r\n                    fixed: true,\r\n                    overlay: {\r\n                        backgroundColor: 'black',\r\n                        opacity: '80'\r\n                    },\r\n                    offsetLeft: 0,\r\n                    offsetTop: 0,\r\n                    bindOptions: {forceBindPosition: false},\r\n                    //bindOnResize: true,\r\n                    titleBar: this.wizardTitle,\r\n                    content: '',\r\n                    className: 'devbx-webform-builder devbx-webform-condition-popup',\r\n                    maxWidth: 800,\r\n                    maxHeight: 580,\r\n                    events: {\r\n                        onPopupClose: BX.delegate(this.onPopupClose, this),\r\n                        onPopupDestroy: BX.delegate(this.onPopupDestroy, this),\r\n                    },\r\n                    buttons: [\r\n                        new BX.PopupWindowButton({\r\n                            text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_DIALOG_BTN_SAVE_TITLE'),\r\n                            className: \"popup-window-button-accept\",\r\n                            events: {\r\n                                click: BX.delegate(this.saveCode, this)\r\n                            }\r\n                        }),\r\n                        new BX.PopupWindowButton({\r\n                            text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_DIALOG_BTN_CLOSE_TITLE'),\r\n                            className: \"popup-window-button-link popup-window-button-link-cancel\",\r\n                            events: {\r\n                                click: BX.delegate(this.closePopup, this)\r\n                            }\r\n                        }),\r\n                    ],\r\n                };\r\n\r\n                let id = \"DevBxFormsConditionWizardPopup\";\r\n\r\n                new BX.PopupWindow(id, null, options);\r\n\r\n                this.popupId = id;\r\n            },\r\n\r\n            saveCode() {\r\n                let result = this.$refs.wizard.getCodeResult();\r\n\r\n                if (result === false)\r\n                    return;\r\n\r\n                this.rule.code = result;\r\n\r\n                this.closePopup();\r\n            },\r\n\r\n            closePopup() {\r\n                let popup = BX.PopupWindowManager.getPopupById(this.popupId);\r\n\r\n                if (popup)\r\n                    popup.close();\r\n            },\r\n\r\n            onPopupClose(popup) {\r\n                if (!this.rule.code.length && this.defaultValue) {\r\n                    this.rule.value = this.defaultValue;\r\n                }\r\n\r\n                popup.destroy();\r\n            },\r\n\r\n            onPopupDestroy() {\r\n                this.popupId = false;\r\n            },\r\n\r\n        },\r\n        watch: {\r\n            'rule.value': function (val) {\r\n                if (val === 'when') {\r\n                    this.editRule();\r\n                }\r\n            }\r\n        },\r\n        template: `\r\n<div class=\"devbx-webform-field\">\r\n    <div class=\"devbx-webform-label\">{{title}}</div>\r\n    <div class=\"devbx-webform-edit\">\r\n        <select v-model=\"rule.value\">\r\n            <option v-for=\"option in selectOptions\" :key=\"option.value\" :value=\"option.value\">{{option.title}}</option>                    \r\n        </select>\r\n        \r\n        <div v-if=\"rule.value == 'when'\" class=\"devbx-webform-edit-rule\">\r\n            <span class=\"devbx-webform-edit-rule-link\" @click.stop.prevent=\"editRule()\">{{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_EDIT_CONDITION')}}</span>\r\n        </div>        \r\n        \r\n        <devbx-webform-popup-condition-wizard ref=\"wizard\" v-if=\"popupId\" :code=\"rule.code\" :cond-fields=\"condFields\">\r\n        </devbx-webform-popup-condition-wizard>\r\n    </div>\r\n</div>\r\n    `\r\n    });\r\n});","import './devbx.form.empty.cell.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-form-empty-cell', {\r\n        props: ['page', 'row', 'item', 'active', 'checkItems', 'deleteBlur'],\r\n        watch: {\r\n            active: function (val) {\r\n\r\n                if (!val) {\r\n                    if (this.checkItems)\r\n                        this.$root.checkPageItems();\r\n\r\n                    if (this.deleteBlur) {\r\n                        let cell = this.$root.getLayoutItemById(this.item.id, true);\r\n                        if (cell) {\r\n                            cell.row.items.splice(cell.index, 1);\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n        },\r\n        computed: {\r\n            panelItems() {\r\n                let panel = {\r\n                    data: {},\r\n                    items: []\r\n                };\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-caption',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_PANEL_ADD_NEW_FIELD_CAPTION')},\r\n                });\r\n\r\n                this.$root.formElements.forEach(group => {\r\n\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-separator',\r\n                        props: {title: group.name},\r\n                    });\r\n\r\n                    group.items.forEach(item => {\r\n                        panel.items.push({\r\n                            name: 'devbx-form-panel-item',\r\n                            props: {fieldId: item.data.fieldId, icon: item.data.icon}\r\n                        });\r\n                    });\r\n                });\r\n\r\n                return panel;\r\n            },\r\n        },\r\n\r\n        methods: {\r\n            drag(event) {\r\n                if (this.$root.dragItemId) {\r\n                    let item = this.$root.getLayoutItemById(this.$root.dragItemId);\r\n                    if (item && item.component && item.component.childLayout) {\r\n                        if (item.component.childLayout.containsItemId(this.item.id)) {\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                event.preventDefault();\r\n            },\r\n\r\n            dragOver(event) {\r\n                if (this.$root.dragItemId) {\r\n                    let item = this.$root.getLayoutItemById(this.$root.dragItemId);\r\n                    if (item && item.component && item.component.childLayout) {\r\n                        if (item.component.childLayout.containsItemId(this.item.id)) {\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                event.preventDefault();\r\n            },\r\n\r\n            drop(event) {\r\n                let data = this.$root.dragData,\r\n                    newItem, idx;\r\n\r\n                this.$root.dragData = false;\r\n\r\n                switch (data.type) {\r\n                    case 'new':\r\n                        let formElement = this.$root.getFormElementById(data.id);\r\n\r\n                        if (!formElement)\r\n                            return;\r\n\r\n                        idx = this.row.items.indexOf(this.item);\r\n\r\n                        newItem = this.row.createItem({\r\n                            component: false,\r\n                            id: this.$root.getNewItemId(),\r\n                            fieldId: data.id,\r\n                            template: formElement.data.layoutTemplate,\r\n                            size: formElement.data.defaultSize,\r\n                            minSize: formElement.data.minSize,\r\n                            props: {},\r\n                            config: formElement.data.defaultConfig(),\r\n                        });\r\n\r\n                        if (newItem.size >= this.item.size) {\r\n                            newItem.size = this.item.size;\r\n                        }\r\n\r\n                        newItem.checkFieldName();\r\n\r\n                        this.row.replaceCell(idx, newItem);\r\n\r\n                        break;\r\n\r\n                    case 'item':\r\n\r\n                        let cell = this.$root.getLayoutItemById(data.id, true);\r\n\r\n                        if (!cell)\r\n                            return;\r\n\r\n                        cell.item.saveConfig();\r\n\r\n                        newItem = this.row.createItem({\r\n                            component: false,\r\n                            id: this.$root.getNewItemId(),\r\n                            fieldId: cell.item.fieldId,\r\n                            template: cell.item.template,\r\n                            size: cell.item.size,\r\n                            minSize: cell.item.minSize,\r\n                            props: JSON.parse(JSON.stringify(cell.item.props)),\r\n                            config: JSON.parse(JSON.stringify(cell.item.config))\r\n                        });\r\n\r\n                        cell.row.deleteItem(cell.item);\r\n\r\n                        let freeSpace = this.row.getRowFreeSpace();\r\n\r\n                        if (newItem.size > freeSpace) {\r\n                            newItem.size = freeSpace;\r\n                        }\r\n\r\n                        this.row.replaceCell(this.row.items.indexOf(this.item), newItem);\r\n\r\n                        break;\r\n                }\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-layout-element-empty\" @dragenter=\"drag\" @drop=\"drop\" @dragover=\"dragOver\">\r\n        <i class=\"fa fa-plus\"></i>\r\n    </div>\r\n    `\r\n\r\n    });\r\n});","import './devbx.form.layout.toolbar.css';\r\nimport {WebFormLayout} from \"../core\";\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-form-layout-toolbar', {\r\n        props: ['activeComponent', 'activeCellSize', 'dragItemId'],\r\n        data: function () {\r\n            return {\r\n                position: {\r\n                    top: 0,\r\n                    left: 0,\r\n                },\r\n                selectedSubMenuId: false,\r\n            }\r\n        },\r\n        watch: {\r\n            activeComponent: function (val) {\r\n                this.selectedSubMenuId = false;\r\n\r\n                let self = this;\r\n\r\n                setTimeout(function () {\r\n                    self.updatePosition();\r\n                }, 0);\r\n            },\r\n\r\n            activeCellSize: function (val) {\r\n            },\r\n\r\n            dragItemId: function (val) {\r\n\r\n            },\r\n\r\n            panelActive: function (val) {\r\n                if (val) {\r\n\r\n                    let self = this;\r\n\r\n                    setTimeout(function () {\r\n                        self.updatePosition();\r\n                    }, 0);\r\n                }\r\n            },\r\n        },\r\n        methods: {\r\n            updatePosition() {\r\n                if (this.panelOptions.length > 0) {\r\n                    let appRect = this.$root.$el.getBoundingClientRect(),\r\n                        itemRect = this.activeComponent.$el.getBoundingClientRect();\r\n\r\n                    this.position.top = itemRect.top - appRect.top;\r\n                    this.position.left = itemRect.left - appRect.left + (itemRect.width / 2);\r\n\r\n                    let panelWidth = this.panelOptions.length * 46;\r\n\r\n                    //this.position.top -= this.$el.clientHeight;\r\n                    //this.position.left -= this.$el.clientWidth/2;\r\n                    this.position.top -= 48;\r\n                    this.position.left -= panelWidth / 2;\r\n\r\n                    if (this.position.left + panelWidth > appRect.width) {\r\n                        this.position.left = appRect.width - panelWidth;\r\n                    }\r\n                }\r\n            },\r\n\r\n            deleteItem() {\r\n\r\n                if (!this.activeComponent)\r\n                    return;\r\n\r\n                this.$root.deleteItemById(this.$root.activeId);\r\n            },\r\n\r\n            insertFieldAbove() {\r\n                let cell = this.$root.getLayoutItemById(this.$root.activeId, true);\r\n\r\n                if (!cell)\r\n                    return;\r\n\r\n                let emptyItem = this.$root.getNewEmptyCell(12);\r\n                emptyItem.props.deleteBlur = true;\r\n\r\n                cell.page.addRow(cell.rowNum).items.push(emptyItem);\r\n\r\n                this.$root.activeId = emptyItem.id;\r\n            },\r\n\r\n            insertFieldBelow() {\r\n                let cell = this.$root.getLayoutItemById(this.$root.activeId, true);\r\n\r\n                if (!cell)\r\n                    return;\r\n\r\n                let emptyItem = this.$root.getNewEmptyCell(12);\r\n                emptyItem.props.deleteBlur = true;\r\n\r\n                cell.page.addRow(cell.rowNum + 1).items.push(emptyItem);\r\n\r\n                this.$root.activeId = emptyItem.id;\r\n            },\r\n\r\n            insertFieldBefore() {\r\n                let cell = this.$root.getLayoutItemById(this.$root.activeId, true);\r\n\r\n                if (!cell)\r\n                    return;\r\n\r\n                cell.row.insertFreeSpace(cell.index);\r\n            },\r\n\r\n            insertFieldAfter() {\r\n                let cell = this.$root.getLayoutItemById(this.$root.activeId, true);\r\n\r\n                if (!cell)\r\n                    return;\r\n\r\n                let nextItem = cell.row.items[cell.index + 1];\r\n\r\n                if (nextItem && nextItem.template === this.$root.emptyCellTemplate) {\r\n                    if (nextItem.size === 0) {\r\n                        nextItem.size = cell.row.rowReleaseSpaceBoth(cell.index, 3);\r\n                    }\r\n\r\n                    this.$root.activeId = nextItem.id;\r\n                    return;\r\n                }\r\n\r\n                cell.row.insertFreeSpace(cell.index + 1);\r\n            },\r\n\r\n            makeSmaller() {\r\n                if (!this.activeComponent)\r\n                    return;\r\n\r\n                this.activeComponent.item.size--;\r\n                this.$root.checkPageItems();\r\n            },\r\n\r\n            makeBigger() {\r\n                if (!this.activeComponent)\r\n                    return;\r\n\r\n                let cell = this.$root.getLayoutItemById(this.activeComponent.item.id, true);\r\n\r\n                if (!cell)\r\n                    return;\r\n\r\n                if (cell.row.rowReleaseSpace(cell.index + 1, 1) > 0) {\r\n                    this.activeComponent.item.size++;\r\n                    this.$root.checkPageItems();\r\n                } else if (cell.row.rowReleaseSpace(cell.index - 1, 1, true) > 0) {\r\n                    this.activeComponent.item.size++;\r\n                    this.$root.checkPageItems();\r\n                }\r\n            },\r\n\r\n            allowJustifyRow() {\r\n                if (!this.activeComponent)\r\n                    return false;\r\n\r\n                let cell = this.$root.getLayoutItemById(this.activeComponent.item.id, true);\r\n\r\n                if (!cell)\r\n                    return false;\r\n\r\n                let newItems = [];\r\n\r\n                cell.row.items.forEach(item => {\r\n                    if (item.template !== this.$root.emptyCellTemplate)\r\n                        newItems.push(item);\r\n                });\r\n\r\n                if (!newItems.length)\r\n                    return false;\r\n\r\n                let result = false,\r\n                    leftSize = this.$root.maxRowSize,\r\n                    leftCnt = newItems.length;\r\n\r\n                newItems.forEach(item => {\r\n                    let newSize = Math.ceil(leftSize / leftCnt);\r\n\r\n                    if (item.minSize > newSize)\r\n                        newSize = item.minSize;\r\n\r\n                    if (newSize > leftSize)\r\n                        newSize = leftSize;\r\n\r\n                    if (item.size !== newSize) {\r\n                        result = true;\r\n                    }\r\n\r\n                    leftSize -= newSize;\r\n                    leftCnt--;\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            justifyRow() {\r\n                if (!this.activeComponent)\r\n                    return;\r\n\r\n                let cell = this.$root.getLayoutItemById(this.activeComponent.item.id, true);\r\n\r\n                if (!cell)\r\n                    return;\r\n\r\n                let newItems = [];\r\n\r\n                cell.row.items.forEach(item => {\r\n                    if (item.template !== this.$root.emptyCellTemplate)\r\n                        newItems.push(item);\r\n                });\r\n\r\n                if (!newItems.length)\r\n                    return;\r\n\r\n                let leftSize = this.$root.maxRowSize,\r\n                    leftCnt = newItems.length;\r\n\r\n\r\n                newItems.forEach(item => {\r\n                    let newSize = Math.ceil(leftSize / leftCnt);\r\n\r\n                    if (item.minSize > newSize)\r\n                        newSize = item.minSize;\r\n\r\n                    if (newSize > leftSize)\r\n                        newSize = leftSize;\r\n\r\n                    item.size = newSize;\r\n\r\n                    leftSize -= newSize;\r\n                    leftCnt--;\r\n                });\r\n\r\n                newItems.push(this.$root.getNewEmptyCell(0));\r\n\r\n                cell.row.items = newItems;\r\n            },\r\n\r\n            cutItem() {\r\n                if (this.$root.clipboardItemId === this.$root.activeId && this.$root.clipboardOperation === 'CUT') {\r\n                    this.$root.clipboardItemId = false;\r\n                    this.$root.clipboardOperation = false;\r\n                    return;\r\n                }\r\n\r\n                this.$root.clipboardItemId = this.$root.activeId;\r\n                this.$root.clipboardOperation = 'CUT';\r\n            },\r\n\r\n            copyItem() {\r\n                if (this.$root.clipboardItemId === this.$root.activeId && this.$root.clipboardOperation === 'COPY') {\r\n                    this.$root.clipboardItemId = false;\r\n                    this.$root.clipboardOperation = false;\r\n                    return;\r\n                }\r\n\r\n                this.$root.clipboardItemId = this.$root.activeId;\r\n                this.$root.clipboardOperation = 'COPY';\r\n            },\r\n\r\n            itemAction(event, item) {\r\n                if (item.disabled)\r\n                    return;\r\n\r\n                this.selectedSubMenuId = false;\r\n\r\n                this[item.action](item);\r\n            },\r\n\r\n            selectSubMenu(item) {\r\n                if (this.selectedSubMenuId === item.id) {\r\n                    this.selectedSubMenuId = false;\r\n                    return;\r\n                }\r\n\r\n                this.selectedSubMenuId = item.id;\r\n            },\r\n\r\n            pasteItem() {\r\n                this.$root.pasteItemFromClipboard(this.$root.getLayoutItemById(this.activeComponent.item.id, true));\r\n            },\r\n\r\n            pasteItemAbove() {\r\n                let cell = this.$root.getLayoutItemById(this.activeComponent.item.id, true);\r\n\r\n                if (!cell)\r\n                    return;\r\n\r\n                let row = cell.page.addRow(cell.rowNum),\r\n                    emptyItem = this.$root.getNewEmptyCell(cell.item.size);\r\n\r\n                row.items.push(emptyItem);\r\n\r\n                let destCell = this.$root.getLayoutItemById(emptyItem.id, true);\r\n\r\n                this.$root.pasteItemFromClipboard(destCell);\r\n            },\r\n\r\n            pasteItemBelow() {\r\n                let cell = this.$root.getLayoutItemById(this.activeComponent.item.id, true);\r\n\r\n                if (!cell)\r\n                    return;\r\n\r\n                let row = cell.page.addRow(cell.rowNum + 1),\r\n                    emptyItem = this.$root.getNewEmptyCell(cell.item.size);\r\n\r\n                row.items.push(emptyItem);\r\n\r\n                let destCell = this.$root.getLayoutItemById(emptyItem.id, true);\r\n\r\n                this.$root.pasteItemFromClipboard(destCell);\r\n            },\r\n\r\n            pasteItemBefore() {\r\n                let cell = this.$root.getLayoutItemById(this.activeComponent.item.id, true),\r\n                    copyCell = this.$root.getLayoutItemById(this.$root.clipboardItemId, true);\r\n\r\n                if (!cell || !copyCell)\r\n                    return;\r\n\r\n                let freeSpace = cell.row.getRowFreeSpace(),\r\n                    size = copyCell.item.size;\r\n\r\n                if (size > freeSpace && cell.item.id === copyCell.item.id) {\r\n                    size = Math.max(3, Math.floor(size / 2));\r\n                }\r\n\r\n                if (size > freeSpace) {\r\n                    size = cell.row.rowReleaseSpace(cell.index, size, true);\r\n                } else if (size > copyCell.item.size) {\r\n                    size = copyCell.item.size;\r\n                }\r\n\r\n                let emptyItem = this.$root.getNewEmptyCell(size);\r\n\r\n                cell.row.items.splice(cell.index, 0, emptyItem);\r\n\r\n                let destCell = this.$root.getLayoutItemById(emptyItem.id, true);\r\n\r\n                this.$root.pasteItemFromClipboard(destCell);\r\n            },\r\n\r\n            pasteItemAfter() {\r\n                let cell = this.$root.getLayoutItemById(this.activeComponent.item.id, true),\r\n                    copyCell = this.$root.getLayoutItemById(this.$root.clipboardItemId, true);\r\n\r\n                if (!cell || !copyCell)\r\n                    return;\r\n\r\n\r\n                let freeSpace = cell.row.getRowFreeSpace(),\r\n                    size = copyCell.item.size;\r\n\r\n                if (size > freeSpace && cell.item.id === copyCell.item.id) {\r\n                    size = Math.max(3, Math.floor(size / 2));\r\n                }\r\n\r\n                if (size > freeSpace) {\r\n                    size = cell.row.rowReleaseSpace(cell.index + 1, size, true);\r\n                } else if (size > copyCell.item.size) {\r\n                    size = copyCell.item.size;\r\n                }\r\n\r\n                let emptyItem = this.$root.getNewEmptyCell(size);\r\n\r\n                cell.row.items.splice(cell.index + 1, 0, emptyItem);\r\n\r\n                let destCell = this.$root.getLayoutItemById(emptyItem.id, true);\r\n\r\n                this.$root.pasteItemFromClipboard(destCell);\r\n            },\r\n        },\r\n        computed: {\r\n            panelActive() {\r\n                return this.panelOptions.length > 0 && !this.$root.resizeItemId && this.dragItemId == '';\r\n            },\r\n\r\n            panelOptions() {\r\n                let items = [];\r\n\r\n                if (!this.activeComponent || !this.activeComponent.item)\r\n                    return items;\r\n\r\n                let cell = this.$root.layoutItems.getItemById(this.activeComponent.item.id, true),\r\n                    copyCell = this.$root.layoutItems.getItemById(this.$root.clipboardItemId);\r\n\r\n                if (!cell)\r\n                    return items;\r\n\r\n                let disableInsertClipboard = false;\r\n\r\n                if (copyCell && copyCell.component && copyCell.component.childLayout) {\r\n                    disableInsertClipboard = !!copyCell.component.childLayout.containsItemId(this.activeComponent.item.id);\r\n                }\r\n\r\n                let t = this.activeComponent.$.type,\r\n                    name = false;\r\n\r\n                Object.keys(this.$.appContext.components).every(k => {\r\n                    if (this.$.appContext.components[k] === t)\r\n                        name = k;\r\n\r\n                    return name === false;\r\n                });\r\n\r\n                if (name === this.$root.emptyCellTemplate) {\r\n\r\n                    if (!disableInsertClipboard && copyCell) {\r\n                        items.push({\r\n                            id: 'pasteItem',\r\n                            icon: 'paste',\r\n                            action: 'pasteItem',\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_TOOLBAR_PASTE'),\r\n                        });\r\n                    }\r\n\r\n                    return items;\r\n                }\r\n\r\n                items.push({\r\n                    id: 'cutItem',\r\n                    icon: 'cut',\r\n                    action: 'cutItem',\r\n                    title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_TOOLBAR_CUT'),\r\n                    selected: this.$root.clipboardItemId === cell.item.id && this.$root.clipboardOperation === 'CUT'\r\n                });\r\n\r\n                items.push({\r\n                    id: 'copyItem',\r\n                    icon: 'copy',\r\n                    action: 'copyItem',\r\n                    title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_TOOLBAR_COPY'),\r\n                    selected: this.$root.clipboardItemId === cell.item.id && this.$root.clipboardOperation === 'COPY'\r\n                });\r\n\r\n                if (!disableInsertClipboard && this.$root.getLayoutItemById(this.$root.clipboardItemId)) {\r\n\r\n                    let children = [\r\n                        {\r\n                            id: 'pasteItemAbove',\r\n                            icon: 'arrow-up',\r\n                            action: 'pasteItemAbove',\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_TOOLBAR_PASTE_ABOVE')\r\n                        },\r\n                        {\r\n                            id: 'pasteItemBelow',\r\n                            icon: 'arrow-down',\r\n                            action: 'pasteItemBelow',\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_TOOLBAR_PASTE_BELOW')\r\n                        },\r\n                    ];\r\n\r\n                    if (cell.row.getRowMaxReleaseSpace() >= 3) {\r\n                        children.push({\r\n                            id: 'pasteItemBefore',\r\n                            icon: 'arrow-left',\r\n                            action: 'pasteItemBefore',\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_TOOLBAR_PASTE_BEFORE')\r\n                        });\r\n\r\n                        children.push({\r\n                            id: 'pasteItemAfter',\r\n                            icon: 'arrow-right',\r\n                            action: 'pasteItemAfter',\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_TOOLBAR_PASTE_AFTER')\r\n                        });\r\n                    }\r\n\r\n                    items.push({\r\n                        id: 'pasteItem',\r\n                        icon: 'paste',\r\n                        action: 'selectSubMenu',\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_TOOLBAR_PASTE'),\r\n                        selected: this.selectedSubMenuId === 'pasteItem',\r\n                        children: children\r\n                    });\r\n                }\r\n\r\n                items.push({\r\n                    id: 'deleteItem',\r\n                    icon: 'trash',\r\n                    action: 'deleteItem',\r\n                    title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_TOOLBAR_DELETE'),\r\n                });\r\n\r\n                if (!disableInsertClipboard) {\r\n                    let subItems = [\r\n                        {\r\n                            id: 'insertFieldAbove',\r\n                            icon: 'arrow-up',\r\n                            action: 'insertFieldAbove',\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_TOOLBAR_INSERT_FIELD_ABOVE')\r\n                        },\r\n                        {\r\n                            id: 'insertFieldBelow',\r\n                            icon: 'arrow-down',\r\n                            action: 'insertFieldBelow',\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_TOOLBAR_INSERT_FIELD_BELOW')\r\n                        },\r\n                    ];\r\n\r\n                    if (cell.row.getRowMaxReleaseSpace() >= 3) {\r\n                        subItems.push({\r\n                            id: 'insertFieldBefore',\r\n                            icon: 'arrow-left',\r\n                            action: 'insertFieldBefore',\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_TOOLBAR_INSERT_FIELD_BEFORE')\r\n                        });\r\n\r\n                        subItems.push({\r\n                            id: 'insertFieldAfter',\r\n                            icon: 'arrow-right',\r\n                            action: 'insertFieldAfter',\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_TOOLBAR_INSERT_FIELD_AFTER')\r\n                        });\r\n                    }\r\n\r\n                    items.push({\r\n                        id: 'insertField',\r\n                        icon: 'plus',\r\n                        action: 'selectSubMenu',\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_TOOLBAR_INSERT_FIELD'),\r\n                        selected: this.selectedSubMenuId === 'insertField',\r\n                        children: subItems\r\n                    });\r\n                }\r\n\r\n                items.push({\r\n                    id: 'makeSmaller',\r\n                    icon: 'arrow-left',\r\n                    action: 'makeSmaller',\r\n                    title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_TOOLBAR_MAKE_SMALLER'),\r\n                    disabled: cell.item.minSize >= cell.item.size\r\n                });\r\n\r\n                items.push({\r\n                    id: 'makeBigger',\r\n                    icon: 'arrow-right',\r\n                    action: 'makeBigger',\r\n                    title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_TOOLBAR_MAKE_BIGGER'),\r\n                    disabled: cell.row.getRowMaxReleaseSpace(cell.index) === 0,\r\n                });\r\n\r\n                items.push({\r\n                    id: 'justifyRow',\r\n                    icon: 'table',\r\n                    action: 'justifyRow',\r\n                    title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_TOOLBAR_JUSTIFY_ROW'),\r\n                    disabled: !this.allowJustifyRow()\r\n                });\r\n\r\n                return items;\r\n            },\r\n\r\n        },\r\n        templateOld: `\r\n<div :class=\"{'devbx-webform-layout-toolbar': true, 'devbx-webform-layout-toolbar-active': panelActive}\" :style=\"{position: 'absolute', top: position.top+'px', left: position.left+'px'}\">\r\n<transition-group name=\"devbx-webform-lauout-toolbar-items\">\r\n    <div :class=\"{'devbx-webform-layout-toolbar-option': true, disabled: item.disabled, selected: item.selected}\" v-for=\"item of panelOptions\" @click=\"itemAction($event, item)\" :key=\"item.id\">\r\n        <div :class=\"['fa', 'fa-'+item.icon]\"></div>\r\n        <div class=\"devbx-webform-layout-toolbar-option-title\">{{item.title}}</div>\r\n        \r\n        <div class=\"devbx-webform-layout-toolbar-option-children\" v-if=\"item.children\">\r\n            <div :class=\"{'devbx-webform-layout-toolbar-option': true, disabled: child.disabled, selected: child.selected}\" v-for=\"child of item.children\" @click=\"itemAction($event, child)\" :key=\"child.id\">\r\n                <div :class=\"['fa', 'fa-'+child.icon]\"></div>\r\n                <div class=\"devbx-webform-layout-toolbar-option-title\">{{child.title}}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    </transition-group>\r\n</div>`,\r\n        template: `\r\n<div :class=\"{'devbx-webform-layout-toolbar': true, 'devbx-webform-layout-toolbar-active': panelActive}\" :style=\"{position: 'absolute', top: position.top+'px', left: position.left+'px'}\">\r\n    <div :class=\"{'devbx-webform-layout-toolbar-option': true, disabled: item.disabled, selected: item.selected}\" v-for=\"item of panelOptions\" @click=\"itemAction($event, item)\" :key=\"item.id\">\r\n        <div :class=\"['fa', 'fa-'+item.icon]\"></div>\r\n        <div class=\"devbx-webform-layout-toolbar-option-title\">{{item.title}}</div>\r\n        \r\n        <div class=\"devbx-webform-layout-toolbar-option-children\" v-if=\"item.children\">\r\n            <div :class=\"{'devbx-webform-layout-toolbar-option': true, disabled: child.disabled, selected: child.selected}\" v-for=\"child of item.children\" @click=\"itemAction($event, child)\" :key=\"child.id\">\r\n                <div :class=\"['fa', 'fa-'+child.icon]\"></div>\r\n                <div class=\"devbx-webform-layout-toolbar-option-title\">{{child.title}}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>        \r\n        `\r\n    });\r\n});","import './devbx.form.panel.item.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-form-panel-item', {\r\n        props: {\r\n            formData: {\r\n                type: Object,\r\n            },\r\n            fieldId: {\r\n                type: String,\r\n                required: true,\r\n            },\r\n            icon: {\r\n                type: String,\r\n                default: '',\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                hover: false,\r\n                dragged: false,\r\n            };\r\n        },\r\n        computed: {\r\n            title() {\r\n                return this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_PANEL_ITEM_FIELD_' + this.fieldId.toUpperCase() + '_NAME')\r\n            },\r\n\r\n            hint() {\r\n                return this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_' + this.fieldId.toUpperCase() + '_HINT')\r\n            },\r\n\r\n            iconClass() {\r\n                return 'fa fa-' + this.icon;\r\n            }\r\n        },\r\n        methods: {\r\n            dragStart(event) {\r\n                this.$root.dragData = {type: 'new', id: this.fieldId};\r\n                this.dragged = true;\r\n            },\r\n\r\n\r\n            dragEnd() {\r\n                this.dragged = false;\r\n                this.$root.dragData = false;\r\n            },\r\n\r\n            clickItem() {\r\n                let formElement = this.$root.getFormElementById(this.fieldId),\r\n                    emptyCell = this.$root.getLayoutItemById(this.$root.activeId, true);\r\n\r\n                if (!formElement || !emptyCell || emptyCell.item.fieldId !== 'empty')\r\n                    return;\r\n\r\n                let item = emptyCell.row.createItem({\r\n                    component: false,\r\n                    id: this.$root.getNewItemId(),\r\n                    fieldId: this.fieldId,\r\n                    template: formElement.data.layoutTemplate,\r\n                    size: formElement.data.defaultSize,\r\n                    minSize: formElement.data.minSize,\r\n                    props: {},\r\n                    config: formElement.data.defaultConfig()\r\n                });\r\n\r\n                item.checkFieldName();\r\n\r\n                if (item.size >= emptyCell.item.size) {\r\n                    item.size = emptyCell.item.size;\r\n                }\r\n\r\n                emptyCell.row.replaceCell(emptyCell.index, item);\r\n            },\r\n        },\r\n        template: `\r\n<div class=\"devbx-form-element\">\r\n    <div class=\"devbx-form-element-content\" draggable=\"true\" @click=\"clickItem\" @dragstart=\"dragStart\" @dragend=\"dragEnd\" @mouseenter=\"hover = true\" @mouseleave=\"hover = false\">\r\n        <span class=\"devbx-form-element-label\"><i :class=\"iconClass\"></i><span>{{title}}</span></span>\r\n    </div>\r\n    <transition name=\"devbx-hint\">\r\n        <div v-if=\"hover && !dragged\" class=\"devbx-webform-element-hint\">\r\n            {{hint}}    \r\n        </div>\r\n    </transition>\r\n</div>\r\n`\r\n    });\r\n\r\n});","export default {\r\n    props: ['page', 'item', 'row', 'active', 'config'],\r\n    mounted() {\r\n        if (typeof this.getFields === 'function')\r\n        {\r\n            this.item.fields = this.getFields();\r\n        }\r\n    },\r\n    computed: {\r\n        labelFormatted() {\r\n            return this.$root.htmlFormatFields(BX.util.htmlspecialchars(this.config.label));\r\n        },\r\n\r\n        helpTextFormatted() {\r\n            return this.$root.htmlFormatFields(this.config.helpText);\r\n        },\r\n\r\n        fields() {\r\n            if (typeof this.getFields === 'function')\r\n                return this.getFields();\r\n\r\n            return [];\r\n        },\r\n    },\r\n    watch: {\r\n        'config.fieldName': function () {\r\n            this.item.checkFieldName();\r\n        },\r\n        'fields': function(val) {\r\n            this.item.fields = val;\r\n        },\r\n    },\r\n}","import './devbx.form.layout.field.text.css';\r\nimport fieldMixin from \"./field.mixin\";\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-form-layout-field-text', {\r\n        mixins: [fieldMixin],\r\n        computed: {\r\n            defaultPlaceholder() {\r\n                return this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_TEXT_PLACEHOLDER_' + this.config.type);\r\n            },\r\n\r\n            panelItems() {\r\n                let panel = {\r\n                    data: this.config,\r\n                    items: []\r\n                };\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-caption',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SETTINGS_TITLE') + ' - ' + this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_TEXT_NAME')},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    allowFormFields: true,\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_LABEL_TITLE'),\r\n                        fieldName: 'label',\r\n                        fieldVisibleName: 'labelHidden'\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_FIELD_NAME_TITLE'),\r\n                        fieldName: 'fieldName',\r\n                        live: false,\r\n                        readonly: this.config.systemId > 0,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_PLACEHOLDER_TITLE'), fieldName: 'placeholder'},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-selectbox-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_TEXT_TYPE_TITLE'),\r\n                        type: 'radio',\r\n                        values: [\r\n                            {\r\n                                value: 'SINGLE_LINE',\r\n                                text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_TEXT_TYPE_SINGLE_LINE'),\r\n                            },\r\n                            {\r\n                                value: 'MULTI_LINE',\r\n                                text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_TEXT_TYPE_MULTI_LINE'),\r\n                            },\r\n                        ],\r\n                        fieldName: 'type'\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_DEFAULT_VALUE_TITLE'), fieldName: 'defaultValue'},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-range-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_LENGTH_MIN_MAX_TITLE'),\r\n                        fieldMinName: 'lengthMin',\r\n                        fieldMaxName: 'lengthMax',\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-html-field',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_HELP_TEXT_TITLE'), fieldName: 'helpText'},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SHOW_THIS_FIELD_TITLE'),\r\n                        fieldName: 'showRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'always',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_REQUIRE_THIS_FIELD_TITLE'),\r\n                        fieldName: 'requireRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_REQUIRE_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_READ_ONLY_THIS_FIELD_TITLE'),\r\n                        fieldName: 'readOnlyRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_READ_ONLY_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SHOW_CUSTOM_ERROR_TITLE'),\r\n                        fieldName: 'showCustomError',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_CUSTOM_ERROR_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                        options: ['never', 'when']\r\n                    },\r\n                });\r\n\r\n                if (this.config.showCustomError.value === 'when' && this.config.showCustomError.code) {\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-text-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CUSTOM_ERROR_TITLE'),\r\n                            fieldName: 'customError',\r\n                            live: false,\r\n                        },\r\n                    });\r\n                }\r\n\r\n                return panel;\r\n            },\r\n        },\r\n        methods: {\r\n            getFields() {\r\n                return [\r\n                    {\r\n                        name: this.config.fieldName,\r\n                        label: this.config.label,\r\n                        type: 'string',\r\n                    }\r\n                ];\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-layout-field\">\r\n        <div class=\"devbx-webform-layout-label\" :class=\"{'devbx-webform-layout-label-hidden': config.labelHidden}\">\r\n            <p v-html=\"labelFormatted\"></p>\r\n        </div>\r\n        <div :class=\"{\r\n                'devbx-webform-layout-control':true, \r\n                'devbx-webform-layout-input-single-line': config.type == 'SINGLE_LINE',\r\n                'devbx-webform-layout-input-multi-line': config.type == 'MULTI_LINE',\r\n                }\">\r\n            <span>\r\n                <i class=\"fa fa-font\"></i>\r\n                    <span v-if=\"config.defaultValue\" class=\"devbx-webform-layout-default-value\">\r\n                        {{config.defaultValue}}\r\n                    </span>\r\n                    <span v-else-if=\"config.placeholder\" class=\"devbx-webform-layout-placeholder\">\r\n                        {{config.placeholder}}                \r\n                    </span>\r\n                    <span v-else class=\"devbx-webform-layout-placeholder\">\r\n                        {{defaultPlaceholder}}                \r\n                    </span>\r\n            </span>\r\n        </div>\r\n        <div class=\"devbx-webform-layout-helptext\" v-if=\"config.helpText.length>0\">\r\n            <p v-html=\"helpTextFormatted\"></p>\r\n        </div>\r\n    </div>\r\n    `\r\n    });\r\n});","import './devbx.form.layout.field.choice.css';\r\nimport fieldMixin from \"./field.mixin\";\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-form-layout-field-choice', {\r\n        mixins: [fieldMixin],\r\n        computed: {\r\n            defaultPlaceholder() {\r\n                return this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_TEXT_PLACEHOLDER_' + this.config.type);\r\n            },\r\n\r\n            panelItems() {\r\n                let panel = {\r\n                    data: this.config,\r\n                    items: []\r\n                };\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-caption',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SETTINGS_TITLE') + ' - ' + this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CHOICE_NAME')},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    allowFormFields: true,\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_LABEL_TITLE'),\r\n                        fieldName: 'label',\r\n                        fieldVisibleName: 'labelHidden'\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_FIELD_NAME_TITLE'),\r\n                        fieldName: 'fieldName',\r\n                        live: false,\r\n                        readonly: this.config.systemId > 0,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-selectbox-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CHOICE_TYPE_TITLE'),\r\n                        type: 'radio',\r\n                        values: [\r\n                            {\r\n                                value: 'DROP_DOWN',\r\n                                text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CHOICE_TYPE_DROP_DOWN'),\r\n                                disabled: this.config.systemId > 0 && this.config.type === 'CHECKBOX',\r\n                            },\r\n                            {\r\n                                value: 'RADIO',\r\n                                text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CHOICE_TYPE_RADIO'),\r\n                                disabled: this.config.systemId > 0 && this.config.type === 'CHECKBOX',\r\n                            },\r\n                            {\r\n                                value: 'CHECKBOX',\r\n                                text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CHOICE_TYPE_CHECKBOX'),\r\n                                disabled: this.config.systemId > 0 && this.config.type !== 'CHECKBOX',\r\n                            },\r\n                        ],\r\n                        fieldName: 'type',\r\n                    },\r\n                });\r\n\r\n                if (this.config.type === 'DROP_DOWN') {\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-text-field',\r\n                        props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_PLACEHOLDER_TITLE'), fieldName: 'placeholder'},\r\n                    });\r\n                } else {\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-selectbox-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CHOICE_TYPE_TITLE'),\r\n                            type: 'select',\r\n                            values: [\r\n                                {\r\n                                    value: 'ONE_COLUMN',\r\n                                    text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CHOICE_VISUAL_ONE_COLUMN'),\r\n                                },\r\n                                {\r\n                                    value: 'TWO_COLUMN',\r\n                                    text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CHOICE_VISUAL_TWO_COLUMN'),\r\n                                },\r\n                                {\r\n                                    value: 'SIDE_BY_SIDE',\r\n                                    text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CHOICE_VISUAL_SIDE_BY_SIDE'),\r\n                                },\r\n                            ],\r\n                            fieldName: 'visual'\r\n                        },\r\n                    });\r\n                }\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-html-field',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_HELP_TEXT_TITLE'), fieldName: 'helpText'},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-selectbox-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CHOICE_OPTIONS_TITLE'),\r\n                        type: 'checkbox',\r\n                        values: [\r\n                            {\r\n                                value: 'ASSIGN_VALUES',\r\n                                text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CHOICE_OPTIONS_ASSIGN_VALUES'),\r\n                            }\r\n                        ],\r\n                        fieldName: 'choiceOptions'\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-select-options-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SELECT_OPTIONS_TITLE'),\r\n                        assignValues: this.config.choiceOptions.indexOf('ASSIGN_VALUES') > -1,\r\n                        fieldName: 'options',\r\n                        multiple: this.config.type == 'CHECKBOX'\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SHOW_THIS_FIELD_TITLE'),\r\n                        fieldName: 'showRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'always',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_REQUIRE_THIS_FIELD_TITLE'),\r\n                        fieldName: 'requireRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_REQUIRE_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_READ_ONLY_THIS_FIELD_TITLE'),\r\n                        fieldName: 'readOnlyRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_READ_ONLY_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SHOW_CUSTOM_ERROR_TITLE'),\r\n                        fieldName: 'showCustomError',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_CUSTOM_ERROR_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                        options: ['never', 'when']\r\n                    },\r\n                });\r\n\r\n                if (this.config.showCustomError.value === 'when' && this.config.showCustomError.code) {\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-text-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CUSTOM_ERROR_TITLE'),\r\n                            fieldName: 'customError',\r\n                            live: false,\r\n                        },\r\n                    });\r\n                }\r\n\r\n                return panel;\r\n            },\r\n        },\r\n        watch: {\r\n            'config.type': function (val) {\r\n\r\n                if (this.config.type != 'CHECKBOX') {\r\n                    let sel = false;\r\n\r\n                    this.config.options.forEach(opt => {\r\n                        if (opt.selected) {\r\n                            if (sel)\r\n                                opt.selected = false;\r\n\r\n                            sel = true;\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n        },\r\n        methods: {\r\n            getFields() {\r\n                let result = [],\r\n                    data;\r\n\r\n                data = {\r\n                    name: this.config.fieldName + '.Text',\r\n                    label: this.config.label,\r\n                    type: this.config.type === 'CHECKBOX' ? 'array' : 'string',\r\n                    values: [],\r\n                };\r\n\r\n                this.config.options.forEach(item => {\r\n                    data.values.push(item.text);\r\n                });\r\n\r\n                result.push(data);\r\n\r\n                if (this.config.choiceOptions.indexOf('ASSIGN_VALUES') >= 0) {\r\n                    data = {\r\n                        name: this.config.fieldName + '.Value',\r\n                        label: this.config.label,\r\n                        type: this.config.type === 'CHECKBOX' ? 'array' : 'string',\r\n                        values: [],\r\n                    };\r\n\r\n                    this.config.options.forEach(item => {\r\n                        data.values.push(item.value);\r\n                    });\r\n\r\n                    result.push(data);\r\n                }\r\n\r\n                return result;\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-layout-field\">\r\n        <div class=\"devbx-webform-layout-label\" :class=\"{'devbx-webform-layout-label-hidden': config.labelHidden}\">\r\n            <p v-html=\"labelFormatted\"></p>\r\n        </div>\r\n            <div class=\"devbx-webform-layout-control devbx-webform-layout-choice-drop-down\" v-if=\"config.type == 'DROP_DOWN'\">\r\n                <span>\r\n                    <i class=\"fa fa-list-ul\"></i>\r\n                    <span v-if=\"config.defaultValue\" class=\"devbx-webform-layout-default-value\">\r\n                        {{config.defaultValue}}\r\n                    </span>\r\n                    <span v-else-if=\"config.placeholder\" class=\"devbx-webform-layout-placeholder\">\r\n                        {{config.placeholder}}                \r\n                    </span>\r\n                    <span v-else class=\"devbx-webform-layout-placeholder\">\r\n                        {{defaultPlaceholder}}                \r\n                    </span>\r\n                </span>\r\n                <div class=\"devbx-webform-layout-dropdown-button\"><i class=\"fa fa-chevron-down\"></i></div>\r\n            </div>\r\n            <div class=\"devbx-webform-layout-control devbx-webform-layout-choice-radio\" v-else-if=\"config.type == 'RADIO'\">\r\n                <div :class=\"{\r\n                    'devbx-webform-layout-choice-column-1': config.visual == 'ONE_COLUMN',\r\n                    'devbx-webform-layout-choice-column-2': config.visual == 'TWO_COLUMN',\r\n                    'devbx-webform-layout-choice-column-0': config.visual == 'SIDE_BY_SIDE',\r\n                    }\">\r\n                     <div class=\"devbx-webform-layout-choice-option\" v-for=\"option in config.options\">\r\n                        <label>\r\n                            <input tabindex=\"-1\" @click.prevent type=\"radio\" :checked=\"option.selected\">\r\n                            <span>{{option.text}}</span>                    \r\n                        </label>                 \r\n                     </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"devbx-webform-layout-control devbx-webform-layout-choice-radio\" v-else-if=\"config.type == 'CHECKBOX'\">\r\n                <div :class=\"{\r\n                    'devbx-webform-layout-choice-column-1': config.visual == 'ONE_COLUMN',\r\n                    'devbx-webform-layout-choice-column-2': config.visual == 'TWO_COLUMN',\r\n                    'devbx-webform-layout-choice-column-0': config.visual == 'SIDE_BY_SIDE',\r\n                    }\">\r\n                     <div class=\"devbx-webform-layout-choice-option\" v-for=\"option in config.options\">\r\n                        <label>\r\n                            <input tabindex=\"-1\" @click.prevent type=\"checkbox\" :checked=\"option.selected\">\r\n                            <span>{{option.text}}</span>                    \r\n                        </label>                 \r\n                     </div>\r\n                </div>\r\n            </div>\r\n        <div class=\"devbx-webform-layout-helptext\" v-if=\"config.helpText.length>0\">\r\n            <p v-html=\"helpTextFormatted\"></p>\r\n        </div>\r\n    </div>\r\n    `\r\n    });\r\n});","import './devbx.form.layout.field.date.css';\r\nimport fieldMixin from \"./field.mixin\";\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-form-layout-field-date', {\r\n        mixins: [fieldMixin],\r\n        computed: {\r\n            defaultPlaceholder() {\r\n                return this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_DATE_PLACEHOLDER_' + this.config.type);\r\n            },\r\n\r\n            panelItems() {\r\n                let panel = {\r\n                    data: this.config,\r\n                    items: []\r\n                };\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-caption',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SETTINGS_TITLE') + ' - ' + this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_TEXT_NAME')},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    allowFormFields: true,\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_LABEL_TITLE'),\r\n                        fieldName: 'label',\r\n                        fieldVisibleName: 'labelHidden'\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_FIELD_NAME_TITLE'),\r\n                        fieldName: 'fieldName',\r\n                        live: false,\r\n                        readonly: this.config.systemId > 0,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_PLACEHOLDER_TITLE'), fieldName: 'placeholder'},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-selectbox-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_DATE_TYPE_TITLE'),\r\n                        type: 'radio',\r\n                        values: [\r\n                            {\r\n                                value: 'DATE',\r\n                                text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_TEXT_TYPE_DATE'),\r\n                                disabled: this.config.systemId > 0,\r\n                            },\r\n                            {\r\n                                value: 'DATETIME',\r\n                                text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_TEXT_TYPE_DATETIME'),\r\n                                disabled: this.config.systemId > 0,\r\n                            },\r\n                            {\r\n                                value: 'TIME',\r\n                                text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_TEXT_TYPE_TIME'),\r\n                                disabled: this.config.systemId > 0,\r\n                            },\r\n                        ],\r\n                        fieldName: 'type',\r\n                    },\r\n                });\r\n\r\n                if (this.config.type === 'DATETIME' || this.config.type === 'TIME') {\r\n                    let timeRangeValues = [];\r\n\r\n                    for (let time = 0; time < 24 * 60; time += 15) {\r\n                        let value = Math.floor(time / 60).toString().padStart(2, '0') + ':' + (time % 60).toString().padStart(2, '0');\r\n\r\n                        timeRangeValues.push({\r\n                            value: value,\r\n                            text: value,\r\n                        });\r\n                    }\r\n\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-selectbox-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_DATE_TIME_START_TITLE'),\r\n                            type: 'select',\r\n                            values: timeRangeValues,\r\n                            fieldName: 'timeStart'\r\n                        },\r\n                    });\r\n\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-selectbox-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_DATE_TIME_END_TITLE'),\r\n                            type: 'select',\r\n                            values: timeRangeValues,\r\n                            fieldName: 'timeEnd'\r\n                        },\r\n                    });\r\n\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-selectbox-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_DATE_STEP_TITLE'),\r\n                            type: 'select',\r\n                            values: [\r\n                                {\r\n                                    value: '00:01',\r\n                                    text: '00:01',\r\n                                },\r\n                                {\r\n                                    value: '00:05',\r\n                                    text: '00:05',\r\n                                },\r\n                                {\r\n                                    value: '00:10',\r\n                                    text: '00:10',\r\n                                },\r\n                                {\r\n                                    value: '00:15',\r\n                                    text: '00:15',\r\n                                },\r\n                                {\r\n                                    value: '00:30',\r\n                                    text: '00:30',\r\n                                },\r\n                                {\r\n                                    value: '01:00',\r\n                                    text: '01:00',\r\n                                },\r\n                            ],\r\n                            fieldName: 'step'\r\n                        },\r\n                    });\r\n                }\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-html-field',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_HELP_TEXT_TITLE'), fieldName: 'helpText'},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SHOW_THIS_FIELD_TITLE'),\r\n                        fieldName: 'showRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'always',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_REQUIRE_THIS_FIELD_TITLE'),\r\n                        fieldName: 'requireRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_REQUIRE_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_READ_ONLY_THIS_FIELD_TITLE'),\r\n                        fieldName: 'readOnlyRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_READ_ONLY_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SHOW_CUSTOM_ERROR_TITLE'),\r\n                        fieldName: 'showCustomError',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_CUSTOM_ERROR_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                        options: ['never', 'when']\r\n                    },\r\n                });\r\n\r\n                if (this.config.showCustomError.value === 'when' && this.config.showCustomError.code) {\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-text-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CUSTOM_ERROR_TITLE'),\r\n                            fieldName: 'customError',\r\n                            live: false,\r\n                        },\r\n                    });\r\n                }\r\n\r\n                return panel;\r\n            }\r\n        },\r\n        methods: {\r\n            getFields() {\r\n                switch (this.config.type) {\r\n                    case 'DATE':\r\n                        return [\r\n                            {\r\n                                name: this.config.fieldName,\r\n                                label: this.config.label,\r\n                                type: 'date',\r\n                            }\r\n                        ];\r\n                    case 'DATETIME':\r\n                        return [\r\n                            {\r\n                                name: this.config.fieldName,\r\n                                label: this.config.label,\r\n                                type: 'datetime',\r\n                            }\r\n                        ];\r\n                    case 'TIME':\r\n                        return [\r\n                            {\r\n                                name: this.config.fieldName,\r\n                                label: this.config.label,\r\n                                type: 'time',\r\n                            }\r\n                        ];\r\n                }\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-layout-field\">\r\n        <div class=\"devbx-webform-layout-label\" :class=\"{'devbx-webform-layout-label-hidden': config.labelHidden}\">\r\n            <p v-html=\"labelFormatted\"></p>\r\n        </div>\r\n        \r\n        <div class=\"devbx-webform-layout-control devbx-webform-layout-date\" v-if=\"config.type == 'DATE'\">\r\n            <span>\r\n                    <span v-if=\"config.placeholder\" class=\"devbx-webform-layout-placeholder\">\r\n                        {{config.placeholder}}                \r\n                    </span>\r\n                    <span v-else class=\"devbx-webform-layout-placeholder\">\r\n                        {{defaultPlaceholder}}                \r\n                    </span>\r\n            </span>\r\n            <div><i class=\"fa fa-calendar\"></i></div>\r\n        </div>    \r\n        <div class=\"devbx-webform-layout-control devbx-webform-layout-datetime\" v-if=\"config.type == 'DATETIME'\">\r\n            <span>\r\n                    <span v-if=\"config.placeholder\" class=\"devbx-webform-layout-placeholder\">\r\n                        {{config.placeholder}}                \r\n                    </span>\r\n                    <span v-else class=\"devbx-webform-layout-placeholder\">\r\n                        {{defaultPlaceholder}}                \r\n                    </span>\r\n            </span>\r\n            <div><i class=\"fa fa-calendar\"></i></div>\r\n        </div>    \r\n        <div class=\"devbx-webform-layout-control devbx-webform-layout-time\" v-if=\"config.type == 'TIME'\">\r\n            <span>\r\n                    <span v-if=\"config.placeholder\" class=\"devbx-webform-layout-placeholder\">\r\n                        {{config.placeholder}}                \r\n                    </span>\r\n                    <span v-else class=\"devbx-webform-layout-placeholder\">\r\n                        {{defaultPlaceholder}}                \r\n                    </span>\r\n            </span>\r\n            <div><i class=\"fa fa-clock-o\"></i></div>\r\n        </div>    \r\n\r\n        <div class=\"devbx-webform-layout-helptext\" v-if=\"config.helpText.length>0\">\r\n            <p v-html=\"helpTextFormatted\"></p>\r\n        </div>\r\n    </div>\r\n    `\r\n    });\r\n});","import './devbx.form.layout.field.boolean.css';\r\nimport fieldMixin from \"./field.mixin\";\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-form-layout-field-boolean', {\r\n        mixins: [fieldMixin],\r\n        computed: {\r\n            labelValueYes() {\r\n                if (this.config.customLabels && this.config.customLabelYes)\r\n                    return this.config.customLabelYes;\r\n\r\n                return this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_BOOLEAN_VALUE_TRUE');\r\n            },\r\n\r\n            labelValueNo() {\r\n                if (this.config.customLabels && this.config.customLabelNo)\r\n                    return this.config.customLabelNo;\r\n\r\n                return this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_BOOLEAN_VALUE_FALSE');\r\n            },\r\n\r\n            panelItems() {\r\n                let panel = {\r\n                    data: this.config,\r\n                    items: []\r\n                };\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-caption',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SETTINGS_TITLE') + ' - ' + this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_TEXT_NAME')},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    allowFormFields: true,\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_LABEL_TITLE'),\r\n                        fieldName: 'label',\r\n                        fieldVisibleName: this.config.type == 'RADIO' ? 'labelHidden' : '',\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_FIELD_NAME_TITLE'),\r\n                        fieldName: 'fieldName',\r\n                        live: false,\r\n                        readonly: this.config.systemId > 0,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-selectbox-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_BOOLEAN_TYPE_TITLE'),\r\n                        type: 'radio',\r\n                        values: [\r\n                            {\r\n                                value: 'RADIO',\r\n                                text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_TEXT_BOOLEAN_RADIO'),\r\n                            },\r\n                            {\r\n                                value: 'CHECKBOX',\r\n                                text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_TEXT_BOOLEAN_CHECKBOX'),\r\n                            },\r\n                        ],\r\n                        fieldName: 'type'\r\n                    },\r\n                });\r\n\r\n                if (this.config.type == 'RADIO') {\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-bool-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_TEXT_BOOLEAN_CUSTOM_LABELS'),\r\n                            fieldName: 'customLabels'\r\n                        },\r\n                    });\r\n\r\n                    if (this.config.customLabels) {\r\n                        panel.items.push({\r\n                            name: 'devbx-webform-text-field',\r\n                            props: {\r\n                                title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_TEXT_BOOLEAN_CUSTOM_LABEL_YES_TITLE'),\r\n                                fieldName: 'customLabelYes',\r\n                                live: true,\r\n                            },\r\n                        });\r\n\r\n                        panel.items.push({\r\n                            name: 'devbx-webform-text-field',\r\n                            props: {\r\n                                title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_TEXT_BOOLEAN_CUSTOM_LABEL_NO_TITLE'),\r\n                                fieldName: 'customLabelNo',\r\n                                live: true,\r\n                            },\r\n                        });\r\n                    }\r\n\r\n                }\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-selectbox-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_DEFAULT_VALUE_TITLE'),\r\n                        type: 'radio',\r\n                        values: [\r\n                            {\r\n                                value: true,\r\n                                text: this.labelValueYes,\r\n                            },\r\n                            {\r\n                                value: false,\r\n                                text: this.labelValueNo,\r\n                            },\r\n                        ],\r\n                        fieldName: 'defaultValue'\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-html-field',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_HELP_TEXT_TITLE'), fieldName: 'helpText'},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SHOW_THIS_FIELD_TITLE'),\r\n                        fieldName: 'showRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'always',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_REQUIRE_THIS_FIELD_TITLE'),\r\n                        fieldName: 'requireRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_REQUIRE_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_READ_ONLY_THIS_FIELD_TITLE'),\r\n                        fieldName: 'readOnlyRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_READ_ONLY_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SHOW_CUSTOM_ERROR_TITLE'),\r\n                        fieldName: 'showCustomError',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_CUSTOM_ERROR_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                        options: ['never', 'when']\r\n                    },\r\n                });\r\n\r\n                if (this.config.showCustomError.value === 'when' && this.config.showCustomError.code) {\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-text-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CUSTOM_ERROR_TITLE'),\r\n                            fieldName: 'customError',\r\n                            live: false,\r\n                        },\r\n                    });\r\n                }\r\n\r\n                return panel;\r\n            },\r\n        },\r\n        methods: {\r\n            getFields() {\r\n                return [\r\n                    {\r\n                        name: this.config.fieldName,\r\n                        label: this.config.label,\r\n                        type: 'boolean',\r\n                    }\r\n                ];\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-layout-field\">\r\n        <div v-if=\"config.type == 'RADIO'\" class=\"devbx-webform-layout-label\" :class=\"{'devbx-webform-layout-label-hidden': config.labelHidden}\">\r\n            <p v-html=\"labelFormatted\"></p>\r\n        </div>\r\n        \r\n        <div v-if=\"config.type == 'RADIO'\">\r\n            <label>\r\n                <input tabindex=\"-1\" @click.prevent type=\"radio\" :checked=\"config.defaultValue\">\r\n                <span>{{labelValueYes}}</span>                    \r\n            </label>                 \r\n\r\n            <label>\r\n                <input tabindex=\"-1\" @click.prevent type=\"radio\" :checked=\"!config.defaultValue\">\r\n                <span>{{labelValueNo}}</span>                    \r\n            </label>                 \r\n        </div>\r\n        <div v-else class=\"devbx-webform-layout-boolean-checkbox\">\r\n            <label class=\"devbx-webform-layout-boolean-checkbox-label\">\r\n                <input tabindex=\"-1\" @click.prevent type=\"checkbox\" :checked=\"config.defaultValue\">\r\n                <span v-html=\"labelFormatted\"></span>                    \r\n            </label>                 \r\n        </div>\r\n        \r\n        <div class=\"devbx-webform-layout-helptext\" v-if=\"config.helpText.length>0\">\r\n            <p v-html=\"helpTextFormatted\"></p>\r\n        </div>\r\n    </div>\r\n    `\r\n    });\r\n});","import './devbx.form.layout.field.number.css';\r\nimport fieldMixin from \"./field.mixin\";\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-form-layout-field-number', {\r\n        mixins: [fieldMixin],\r\n        computed: {\r\n            defaultPlaceholder() {\r\n                return this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_NUMBER_PLACEHOLDER_' + this.config.type);\r\n            },\r\n            panelItems() {\r\n                let panel = {\r\n                    data: this.config,\r\n                    items: []\r\n                };\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-caption',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SETTINGS_TITLE') + ' - ' + this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_TEXT_NAME')},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    allowFormFields: true,\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_LABEL_TITLE'),\r\n                        fieldName: 'label',\r\n                        fieldVisibleName: 'labelHidden'\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_FIELD_NAME_TITLE'),\r\n                        fieldName: 'fieldName',\r\n                        live: false,\r\n                        readonly: this.config.systemId > 0,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-selectbox-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_NUMBER_TYPE_TITLE'),\r\n                        type: 'radio',\r\n                        values: [\r\n                            {\r\n                                value: 'INTEGER',\r\n                                text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_NUMBER_TYPE_INTEGER'),\r\n                            },\r\n                            {\r\n                                value: 'DECIMAL',\r\n                                text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_NUMBER_TYPE_DECIMAL'),\r\n                            },\r\n                        ],\r\n                        fieldName: 'type'\r\n                    },\r\n                });\r\n\r\n                if (this.config.type === 'DECIMAL') {\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-selectbox-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_NUMBER_DECIMAL_PLACES_TITLE'),\r\n                            type: 'select',\r\n                            values: [\r\n                                {\r\n                                    value: 0,\r\n                                    text: 0,\r\n                                },\r\n                                {\r\n                                    value: 1,\r\n                                    text: 1,\r\n                                },\r\n                                {\r\n                                    value: 2,\r\n                                    text: 2,\r\n                                },\r\n                                {\r\n                                    value: 3,\r\n                                    text: 3,\r\n                                },\r\n                                {\r\n                                    value: 4,\r\n                                    text: 4,\r\n                                },\r\n                                {\r\n                                    value: 5,\r\n                                    text: 5,\r\n                                },\r\n                                {\r\n                                    value: 6,\r\n                                    text: 6,\r\n                                },\r\n                                {\r\n                                    value: 7,\r\n                                    text: 7,\r\n                                },\r\n                                {\r\n                                    value: 8,\r\n                                    text: 8,\r\n                                },\r\n                                {\r\n                                    value: 9,\r\n                                    text: 9,\r\n                                },\r\n                                {\r\n                                    value: 10,\r\n                                    text: 10,\r\n                                },\r\n                            ],\r\n                            fieldName: 'decimalPlaces',\r\n                        },\r\n                    });\r\n                }\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-selectbox-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_NUMBER_STYLE_TITLE'),\r\n                        type: 'radio',\r\n                        values: [\r\n                            {\r\n                                value: 'TEXT',\r\n                                text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_NUMBER_STYLE_TEXT'),\r\n                            },\r\n                            {\r\n                                value: 'SPINNER',\r\n                                text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_NUMBER_STYLE_SPINNER'),\r\n                            },\r\n                        ],\r\n                        fieldName: 'visual'\r\n                    },\r\n                });\r\n\r\n                if (this.config.visual === 'SPINNER') {\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-number-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_NUMBER_INCREMENT_VALUE_TITLE'),\r\n                            fieldName: 'incrementValue',\r\n                            decimalPlaces: this.config.type === 'INTEGER' ? 0 : parseInt(this.config.decimalPlaces, 10),\r\n                        },\r\n                    });\r\n                }\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-number-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_DEFAULT_VALUE_TITLE'),\r\n                        fieldName: 'defaultValue',\r\n                        decimalPlaces: this.config.type === 'INTEGER' ? 0 : parseInt(this.config.decimalPlaces, 10),\r\n                    },\r\n                });\r\n\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-range-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_NUMBER_RANGE_MIN_MAX_TITLE'),\r\n                        fieldMinName: 'minValue',\r\n                        fieldMaxName: 'maxValue',\r\n                        decimalPlaces: this.config.type === 'INTEGER' ? 0 : parseInt(this.config.decimalPlaces, 10),\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_PLACEHOLDER_TITLE'), fieldName: 'placeholder'},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-html-field',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_HELP_TEXT_TITLE'), fieldName: 'helpText'},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SHOW_THIS_FIELD_TITLE'),\r\n                        fieldName: 'showRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'always',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_REQUIRE_THIS_FIELD_TITLE'),\r\n                        fieldName: 'requireRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_REQUIRE_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_READ_ONLY_THIS_FIELD_TITLE'),\r\n                        fieldName: 'readOnlyRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_READ_ONLY_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SHOW_CUSTOM_ERROR_TITLE'),\r\n                        fieldName: 'showCustomError',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_CUSTOM_ERROR_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                        options: ['never', 'when']\r\n                    },\r\n                });\r\n\r\n                if (this.config.showCustomError.value === 'when' && this.config.showCustomError.code) {\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-text-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CUSTOM_ERROR_TITLE'),\r\n                            fieldName: 'customError',\r\n                            live: false,\r\n                        },\r\n                    });\r\n                }\r\n\r\n                return panel;\r\n            },\r\n        },\r\n        methods: {\r\n            getFields() {\r\n                return [\r\n                    {\r\n                        name: this.config.fieldName,\r\n                        label: this.config.label,\r\n                        type: 'number',\r\n                    }\r\n                ];\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-layout-field\">\r\n        <div class=\"devbx-webform-layout-label\" :class=\"{'devbx-webform-layout-label-hidden': config.labelHidden}\">\r\n            <p v-html=\"labelFormatted\"></p>\r\n        </div>\r\n        <div class=\"devbx-webform-layout-control\" v-if=\"config.visual == 'TEXT'\">\r\n            <span>\r\n                <i class=\"fa fa-number\"></i>\r\n                    <span class=\"devbx-webform-layout-placeholder\">\r\n                        {{defaultPlaceholder}}                \r\n                    </span>\r\n            </span>\r\n        </div>\r\n        <div class=\"devbx-webform-layout-number-spinner\" v-else>\r\n            <button class=\"spinner-decrease\"></button>\r\n                <div class=\"devbx-webform-layout-control devbx-webform-layout-control-spinner\">\r\n                    <span>\r\n                        <i class=\"fa fa-number\"></i>\r\n                            <span class=\"devbx-webform-layout-placeholder\">\r\n                            {{defaultPlaceholder}}                \r\n                            </span>\r\n                    </span>\r\n                </div>\r\n            <button class=\"spinner-increase\"></button>\r\n        </div>\r\n        \r\n        <div class=\"devbx-webform-layout-helptext\" v-if=\"config.helpText.length>0\">\r\n            <p v-html=\"helpTextFormatted\"></p>\r\n        </div>\r\n    </div>\r\n    `\r\n    });\r\n});","import fieldMixin from \"./field.mixin\";\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-form-layout-field-email', {\r\n        mixins: [fieldMixin],\r\n        computed: {\r\n            defaultPlaceholder() {\r\n                return this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_EMAIL_PLACEHOLDER');\r\n            },\r\n\r\n            panelItems() {\r\n                let panel = {\r\n                    data: this.config,\r\n                    items: []\r\n                };\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-caption',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SETTINGS_TITLE') + ' - ' + this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_EMAIL_NAME')},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    allowFormFields: true,\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_LABEL_TITLE'),\r\n                        fieldName: 'label',\r\n                        fieldVisibleName: 'labelHidden'\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_FIELD_NAME_TITLE'),\r\n                        fieldName: 'fieldName',\r\n                        live: false,\r\n                        readonly: this.config.systemId > 0,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_PLACEHOLDER_TITLE'), fieldName: 'placeholder'},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_DEFAULT_VALUE_TITLE'), fieldName: 'defaultValue'},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-html-field',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_HELP_TEXT_TITLE'), fieldName: 'helpText'},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SHOW_THIS_FIELD_TITLE'),\r\n                        fieldName: 'showRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'always',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_REQUIRE_THIS_FIELD_TITLE'),\r\n                        fieldName: 'requireRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_REQUIRE_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_READ_ONLY_THIS_FIELD_TITLE'),\r\n                        fieldName: 'readOnlyRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_READ_ONLY_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SHOW_CUSTOM_ERROR_TITLE'),\r\n                        fieldName: 'showCustomError',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_CUSTOM_ERROR_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                        options: ['never', 'when']\r\n                    },\r\n                });\r\n\r\n                if (this.config.showCustomError.value === 'when' && this.config.showCustomError.code) {\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-text-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CUSTOM_ERROR_TITLE'),\r\n                            fieldName: 'customError',\r\n                            live: false,\r\n                        },\r\n                    });\r\n                }\r\n\r\n                return panel;\r\n            },\r\n        },\r\n        methods: {\r\n            getFields() {\r\n                return [\r\n                    {\r\n                        name: this.config.fieldName,\r\n                        label: this.config.label,\r\n                        type: 'string',\r\n                    }\r\n                ];\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-layout-field\">\r\n        <div class=\"devbx-webform-layout-label\" :class=\"{'devbx-webform-layout-label-hidden': config.labelHidden}\">\r\n            <p v-html=\"labelFormatted\"></p>\r\n        </div>\r\n        <div :class=\"{\r\n                'devbx-webform-layout-control':true, \r\n                }\">\r\n            <span>\r\n                <i class=\"fa fa-envelope-o\"></i>\r\n                    <span v-if=\"config.defaultValue\" class=\"devbx-webform-layout-default-value\">\r\n                        {{config.defaultValue}}\r\n                    </span>\r\n                    <span v-else-if=\"config.placeholder\" class=\"devbx-webform-layout-placeholder\">\r\n                        {{config.placeholder}}                \r\n                    </span>\r\n                    <span v-else class=\"devbx-webform-layout-placeholder\">\r\n                        {{defaultPlaceholder}}                \r\n                    </span>\r\n            </span>\r\n        </div>\r\n        <div class=\"devbx-webform-layout-helptext\" v-if=\"config.helpText.length>0\">\r\n            <p v-html=\"helpTextFormatted\"></p>\r\n        </div>\r\n    </div>\r\n    `\r\n    });\r\n});","import './devbx.form.layout.field.file.upload.css';\r\nimport fieldMixin from \"./field.mixin\";\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-form-layout-field-file-upload', {\r\n        mixins: [fieldMixin],\r\n        computed: {\r\n            panelItems() {\r\n                let panel = {\r\n                    data: this.config,\r\n                    items: []\r\n                };\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-caption',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SETTINGS_TITLE') + ' - ' + this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_TEXT_NAME')},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    allowFormFields: true,\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_LABEL_TITLE'),\r\n                        fieldName: 'label',\r\n                        fieldVisibleName: 'labelHidden'\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_FIELD_NAME_TITLE'),\r\n                        fieldName: 'fieldName',\r\n                        live: false,\r\n                        readonly: this.config.systemId > 0,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FILE_UPLOAD_FIELD_ALLOWED_FILE_TYPES_TITLE'),\r\n                        fieldName: 'allowedFileTypes',\r\n                        live: false,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-number-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FILE_UPLOAD_FIELD_MAXIMUM_FILE_SIZE_TITLE'),\r\n                        fieldName: 'maximumFileSize',\r\n                        allowEmpty: true,\r\n                        minValue: 0,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-bool-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FILE_UPLOAD_MULTIPLE_TITLE'),\r\n                        fieldName: 'multiple',\r\n                        readonly: this.config.systemId > 0,\r\n                    },\r\n                });\r\n\r\n                if (this.config.multiple) {\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-number-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FILE_UPLOAD_FIELD_MAXIMUM_NUMBER_OF_FILES_TITLE'),\r\n                            fieldName: 'maximumNumberOfFiles',\r\n                            allowEmpty: true,\r\n                            minValue: 0,\r\n                        },\r\n                    });\r\n                }\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-html-field',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_HELP_TEXT_TITLE'), fieldName: 'helpText'},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SHOW_THIS_FIELD_TITLE'),\r\n                        fieldName: 'showRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'always',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_REQUIRE_THIS_FIELD_TITLE'),\r\n                        fieldName: 'requireRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_REQUIRE_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_READ_ONLY_THIS_FIELD_TITLE'),\r\n                        fieldName: 'readOnlyRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_READ_ONLY_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SHOW_CUSTOM_ERROR_TITLE'),\r\n                        fieldName: 'showCustomError',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_CUSTOM_ERROR_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                        options: ['never', 'when']\r\n                    },\r\n                });\r\n\r\n                if (this.config.showCustomError.value === 'when' && this.config.showCustomError.code) {\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-text-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CUSTOM_ERROR_TITLE'),\r\n                            fieldName: 'customError',\r\n                            live: false,\r\n                        },\r\n                    });\r\n                }\r\n\r\n                return panel;\r\n            },\r\n        },\r\n        methods: {\r\n            getFields() {\r\n                return [\r\n                    {\r\n                        name: this.config.fieldName,\r\n                        label: this.config.label,\r\n                        type: 'files',\r\n                    }\r\n                ];\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-layout-field\">\r\n        <div class=\"devbx-webform-layout-label\" :class=\"{'devbx-webform-layout-label-hidden': config.labelHidden}\">\r\n            <p v-html=\"labelFormatted\"></p>\r\n        </div>\r\n        \r\n        <div class=\"devbx-webform-layout-file-upload\">\r\n            <div class=\"decbx-webform-layouy-file-upload-dropzone\">\r\n                <button class=\"devbx-webform-form-button\" @click.stop.prevent>{{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FILE_UPLOAD_BUTTON')}}</button>\r\n                {{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FILE_UPLOAD_DROPZONE')}}            \r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"devbx-webform-layout-helptext\" v-if=\"config.helpText.length>0\">\r\n            <p v-html=\"helpTextFormatted\"></p>\r\n        </div>\r\n    </div>\r\n    `\r\n    });\r\n});","BX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function (app) {\r\n    app.component('devbx-webform-iblock-filter-cond', {\r\n        props: {\r\n            item: {\r\n                type: Object,\r\n                requited: true,\r\n            },\r\n            iblockFields: {\r\n                type: Array,\r\n                required: true,\r\n            },\r\n            condFields: {\r\n                type: Array,\r\n                required: true,\r\n            },\r\n            condConfig: {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n        },\r\n        computed: {\r\n            selectedField() {\r\n                let result = false;\r\n\r\n                this.iblockFields.forEach(field => {\r\n                    if (field.name === this.item.field)\r\n                        result = field;\r\n\r\n                    return result === false;\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            availableIblockFields() {\r\n                let result = [];\r\n\r\n                this.iblockFields.forEach(field => {\r\n                    if (field.name === 'IBLOCK_ID')\r\n                        return;\r\n\r\n                    result.push(field);\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            operationType() {\r\n                if (!this.selectedField)\r\n                    return [];\r\n\r\n                let fieldCond = this.condConfig.fieldsType[this.selectedField.condType];\r\n\r\n                if (!fieldCond)\r\n                    return [];\r\n\r\n                return fieldCond.conditions;\r\n            },\r\n\r\n            selectedCondition() {\r\n                let result = false;\r\n\r\n                this.operationType.every(item => {\r\n                    if (item.value === this.item.type)\r\n                        result = item;\r\n\r\n                    return !result;\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            selectedFieldDataType() {\r\n                if (!this.selectedField)\r\n                    return null;\r\n\r\n                return this.selectedField.type;\r\n            },\r\n\r\n            condHasComponent() {\r\n                return this.selectedCondition && this.selectedCondition.comp;\r\n            },\r\n\r\n            fieldError() {\r\n                if (this.item.field.length && !this.selectedField)\r\n                    return this.$root.formatString(this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_ERR_UNKNOWN_FIELD'), '#NAME#', this.item.field);\r\n\r\n                return false;\r\n            },\r\n        },\r\n        watch: {\r\n            'selectedFieldDataType': {\r\n                immediate: true,\r\n                handler: function (val, oldVal) {\r\n                    let valid = false;\r\n\r\n                    this.operationType.every(item => {\r\n                        valid = item.value === this.item.type;\r\n\r\n                        return !valid;\r\n                    });\r\n\r\n                    if (!valid && this.operationType.length)\r\n                        this.item.type = this.operationType[0].value;\r\n                },\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-cond-container\" v-if=\"!fieldError\">\r\n        <div class=\"devbx-webform-cond-dropdown devbx-webform-cond-field\">\r\n            <select v-model=\"item.field\">\r\n                <option v-for=\"field in availableIblockFields\" :key=\"field.name\" :value=\"field.name\">{{field.name}} ({{field.label}})</option>        \r\n            </select>\r\n        </div>\r\n\r\n        <div class=\"devbx-webform-cond-dropdown devbx-webform-cond-type\">\r\n            <select v-model=\"item.type\">\r\n                <option v-for=\"type in operationType\" :key=\"type.value\" :value=\"type.value\">{{type.label}}</option>\r\n            </select>\r\n        </div>\r\n\r\n        <component v-if=\"condHasComponent\" \r\n            :is=\"selectedCondition.comp\" \r\n            :item=\"item\" \r\n            :field=\"selectedField\" \r\n            :cond-config=\"condConfig\" \r\n            :cond-fields=\"condFields\"\r\n            v-bind=\"selectedCondition.props\"\r\n            >\r\n        </component>\r\n        <slot></slot>            \r\n    </div>\r\n    <div class=\"devbx-webform-cond-container\" v-else>\r\n    \r\n        <span class=\"devbx-webform-error-label\">{{fieldError}}</span>\r\n        <slot></slot>\r\n    </div>\r\n    `\r\n    });\r\n});","import './devbx.webform.popup.iblock.section.filter.css';\r\nimport './devbx.webform.iblock.filter.cond';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-popup-iblock-section-filter', {\r\n        props: {\r\n            'condConfig': {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            'condFields': {\r\n                type: Array,\r\n                required: true,\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                iblockId: 0,\r\n                filter: [],\r\n            };\r\n        },\r\n        mounted() {\r\n            this.iblockId = this.$parent.iblockId;\r\n            this.filter = JSON.parse(JSON.stringify(this.$parent.filter));\r\n\r\n            if (!this.$store.state.iblockType.length)\r\n                this.$store.dispatch('getIblockList');\r\n\r\n            let popup = BX.PopupWindowManager.getPopupById(this.$parent.popupId);\r\n            if (popup)\r\n            {\r\n                popup.contentContainer.appendChild(this.$el);\r\n                popup.show();\r\n            }\r\n        },\r\n        watch: {\r\n            iblockId(val) {\r\n                val = parseInt(val);\r\n                if (isNaN(val))\r\n                    val = 0;\r\n\r\n                if (this.iblockId !== val)\r\n                    this.iblockId = val;\r\n\r\n                if (val > 0) {\r\n\r\n                }\r\n            },\r\n            filter(val) {\r\n                if (!Array.isArray(val)) {\r\n                    this.filter = [];\r\n                }\r\n            },\r\n        },\r\n        methods: {\r\n            getIblockItemsByType(type) {\r\n                let result = [];\r\n\r\n                this.iblockList.forEach(item => {\r\n                    if (item.iblockTypeId === type) {\r\n                        result.push(item);\r\n                    }\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            removeCond(index) {\r\n                this.filter.splice(index, 1);\r\n            },\r\n\r\n            addCond() {\r\n                this.filter.push({\r\n                    field: this.iblockFields[0].name,\r\n                    type: false,\r\n                });\r\n            },\r\n        },\r\n        computed: {\r\n            iblockType() {\r\n                return this.$store.state.iblockType;\r\n            },\r\n\r\n            iblockList() {\r\n                return this.$store.state.iblockList;\r\n            },\r\n\r\n            iblockOptions() {\r\n                let result = [];\r\n\r\n                this.iblockType.forEach(type => {\r\n                    let items = this.getIblockItemsByType(type.iblockTypeId);\r\n\r\n                    if (items.length) {\r\n                        result.push({\r\n                            iblockTypeId: type.iblockTypeId,\r\n                            name: type.name,\r\n                            items: items,\r\n                        });\r\n                    }\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            iblockFields() {\r\n                let result = this.$store.getters.iblockSectionFields(this.iblockId);\r\n\r\n                if (Array.isArray(result))\r\n                    return result;\r\n\r\n                this.$store.dispatch('getIblockSectionFields', this.iblockId);\r\n\r\n                return [];\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-iblock-section-filter-wizard\">\r\n        <div class=\"devbx-webform-iblock-select\">\r\n            <span class=\"select-iblock-label\">{{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_SELECT_IBLOCK_LABEL')}}</span>\r\n            \r\n            <div class=\"devbx-webform-cond-dropdown\">\r\n                <select v-model=\"iblockId\">\r\n                    <option value=\"0\">{{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_NOT_SELECTED_LABEL')}}</option>\r\n                    <optgroup v-for=\"iblockType in iblockOptions\" :key=\"iblockType.iblockTypeId\" :label=\"iblockType.name\">\r\n                        <option v-for=\"iblock in iblockType.items\" :value=\"iblock.id\">{{iblock.name}}</option>\r\n                    </optgroup>        \r\n                </select>\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"devbx-webform-cond-items\" v-if=\"iblockId>0 && iblockFields.length>0\">\r\n            <devbx-webform-iblock-filter-cond v-for=\"(item, index) in filter\" :key=\"index\" :item=\"item\"\r\n                ref=\"conditions\"\r\n                :iblock-fields=\"iblockFields\" :cond-fields=\"condFields\" :cond-config=\"condConfig\">\r\n\r\n                <a href=\"#\" @click.stop.prevent=\"removeCond(index)\" class=\"devbx-webform-cond-remove\">\r\n                    <i class=\"fa fa-trash\"></i>            \r\n                </a>\r\n            </devbx-webform-iblock-filter-cond>\r\n            \r\n            <a href=\"#\" @click.stop.prevent=\"addCond\" class=\"devbx-webform-cond-add-group\">\r\n                <hr class=\"devbx-webform-cond-line\">        \r\n                <span class=\"devbx-webform-cond-label\">\r\n                    <i class=\"fa fa-plus\"></i>\r\n                </span>            \r\n                <hr class=\"devbx-webform-cond-line\">\r\n            </a>\r\n            \r\n        </div>\r\n\r\n    </div>\r\n    `\r\n    });\r\n});","import './devbx.webform.iblock.section.filter.field.css';\r\nimport './devbx.webform.popup.iblock.section.filter';\r\nimport {WebFormCondConfig} from \"../field-cond/cond\";\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-iblock-section-filter-field', {\r\n        props: {\r\n            formData: {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            title: {\r\n                type: String,\r\n                default: '',\r\n            },\r\n            wizardTitle: {\r\n                type: String,\r\n                default: '',\r\n            },\r\n            iblockIdFieldName: {\r\n                type: String,\r\n                default: '',\r\n            },\r\n            filterFieldName: {\r\n                type: String,\r\n                default: '',\r\n            },\r\n            condFields: {\r\n                type: Array,\r\n                required: true,\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                popupId: false,\r\n                condConfig: false,\r\n            }\r\n        },\r\n        created() {\r\n            this.condConfig = new WebFormCondConfig();\r\n        },\r\n        beforeUnmount() {\r\n            if (this.popupId)\r\n            {\r\n                let popup = BX.PopupWindowManager.getPopupById(this.popupId);\r\n                if (popup)\r\n                    popup.close();\r\n            }\r\n        },\r\n        computed: {\r\n            iblockId: {\r\n                get() {\r\n                    return this.formData[this.iblockIdFieldName];\r\n                },\r\n                set(val) {\r\n                    this.formData[this.iblockIdFieldName] = val;\r\n                }\r\n            },\r\n\r\n            filter: {\r\n                get() {\r\n                    return this.formData[this.filterFieldName];\r\n                },\r\n                set(val) {\r\n                    this.formData[this.filterFieldName] = val;\r\n                }\r\n            },\r\n        },\r\n        methods: {\r\n            editFilter()\r\n            {\r\n                let options = {\r\n                    autoHide: false,\r\n                    draggable: false,\r\n                    closeByEsc: true,\r\n                    closeIcon: true,\r\n                    fixed: true,\r\n                    overlay: {\r\n                        backgroundColor: 'black',\r\n                        opacity: '80'\r\n                    },\r\n                    offsetLeft: 0,\r\n                    offsetTop: 0,\r\n                    bindOptions: {forceBindPosition: false},\r\n                    //bindOnResize: true,\r\n                    titleBar: this.wizardTitle,\r\n                    content: '',\r\n                    className: 'devbx-webform-builder devbx-webform-filter-popup',\r\n                    maxWidth: 800,\r\n                    maxHeight: 580,\r\n                    events: {\r\n                        onPopupClose: BX.delegate(this.onPopupClose, this),\r\n                        onPopupDestroy: BX.delegate(this.onPopupDestroy, this),\r\n                    },\r\n                    buttons: [\r\n                        new BX.PopupWindowButton({\r\n                            text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_DIALOG_BTN_SAVE_TITLE'),\r\n                            className: \"popup-window-button-accept\",\r\n                            events: {\r\n                                click: BX.delegate(this.saveFilter, this)\r\n                            }\r\n                        }),\r\n                        new BX.PopupWindowButton({\r\n                            text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_DIALOG_BTN_CLOSE_TITLE'),\r\n                            className: \"popup-window-button-link popup-window-button-link-cancel\",\r\n                            events: {\r\n                                click: BX.delegate(this.closePopup, this)\r\n                            }\r\n                        }),\r\n                    ],\r\n                };\r\n\r\n                let id = \"DevBxFormsIblockSectionFilterWizardPopup\";\r\n\r\n                new BX.PopupWindow(id, null, options);\r\n\r\n                this.popupId = id;\r\n            },\r\n\r\n            saveFilter() {\r\n                let hasErrors = false;\r\n\r\n                this.$refs.wizard.$refs.conditions.forEach(cond => {\r\n                    if (cond.fieldError)\r\n                        hasErrors = true;\r\n                });\r\n\r\n                if (hasErrors)\r\n                {\r\n                    this.$root.showPopupError(this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_ERR_FIX_INVALID_FIELDS'));\r\n                    return;\r\n                }\r\n\r\n                this.iblockId = this.$refs.wizard.iblockId;\r\n                this.filter = this.$refs.wizard.filter;\r\n\r\n                this.closePopup();\r\n            },\r\n\r\n            closePopup() {\r\n                /*\r\n                if (!this.rule.code.length && this.defaultValue)\r\n                {\r\n                    this.rule.value = this.defaultValue;\r\n                }\r\n                 */\r\n\r\n                let popup = BX.PopupWindowManager.getPopupById(this.popupId);\r\n\r\n                if (popup)\r\n                    popup.close();\r\n            },\r\n\r\n            onPopupClose(popup) {\r\n                popup.destroy();\r\n            },\r\n\r\n            onPopupDestroy() {\r\n                this.popupId = false;\r\n            },\r\n        },\r\n        template: `\r\n<div class=\"devbx-webform-field\">\r\n    <div class=\"devbx-webform-label\">{{title}}</div>\r\n    \r\n    <div class=\"devbx-webform-edit\">\r\n        <div class=\"devbx-webform-edit-filter\">\r\n            <span class=\"devbx-webform-edit-filter-link\" @click.stop.prevent=\"editFilter()\">{{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_EDIT_FILTER')}}</span>\r\n        </div>        \r\n\r\n        <devbx-webform-popup-iblock-section-filter ref=\"wizard\" v-if=\"popupId\" :cond-fields=\"condFields\" :cond-config=\"condConfig\">\r\n        </devbx-webform-popup-iblock-section-filter>\r\n    </div>\r\n    \r\n    <div class=\"devbx-webform-error-label\" v-if=\"iblockId<=0\">\r\n        {{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_ERR_FILTER_NOT_CONFIGURED')}}           \r\n    </div>\r\n</div>\r\n`\r\n    });\r\n});","import './devbx.form.layout.field.iblock.section.css';\r\nimport './devbx.webform.iblock.section.filter.field.js';\r\nimport fieldMixin from \"../fields/field.mixin\";\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n\r\n    app.component('devbx-form-layout-field-iblock-section', {\r\n        mixins: [fieldMixin],\r\n        computed: {\r\n            defaultPlaceholder()\r\n            {\r\n                return this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_IBLOCK_SECTION_PLACEHOLDER');\r\n            },\r\n\r\n            availableFields() {\r\n                if (this.config.iblockId<=0)\r\n                    return [];\r\n\r\n                let fields = this.$store.getters.iblockSectionFields(this.config.iblockId);\r\n\r\n                if (Array.isArray(fields))\r\n                    return fields;\r\n\r\n                this.$store.dispatch('getIblockSectionFields', this.config.iblockId);\r\n\r\n                return [];\r\n            },\r\n\r\n            sortFields() {\r\n                if (!this.availableFields.length)\r\n                    return [];\r\n\r\n                let result = [];\r\n\r\n                result.push({\r\n                    value: '',\r\n                    text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_IBLOCK_SECTION_SORT_NO_VALUE'),\r\n                });\r\n\r\n                this.availableFields.forEach(field => {\r\n                    if (field.name === 'IBLOCK_ID')\r\n                        return;\r\n\r\n                    result.push({\r\n                        value: field.name,\r\n                        text: field.name+(field.label ? ' ('+field.label+')' : ''),\r\n                    });\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            pictureFields()\r\n            {\r\n                let result = [];\r\n\r\n                this.availableFields.forEach(field => {\r\n                    if (field.fieldType === 'file')\r\n                    {\r\n                        result.push({\r\n                            value: field.name,\r\n                            text: field.name+(field.label ? ' ('+field.label+')' : ''),\r\n                        });\r\n                    }\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            sortOrderValues()\r\n            {\r\n                let result = [];\r\n\r\n                result.push({\r\n                    value: 'ASC',\r\n                    text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_IBLOCK_SECTION_SORT_ORDER_ASC_TITLE'),\r\n                });\r\n\r\n                result.push({\r\n                    value: 'DESC',\r\n                    text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_IBLOCK_SECTION_SORT_ORDER_DESC_TITLE'),\r\n                });\r\n\r\n                return result;\r\n            },\r\n\r\n            panelItems() {\r\n                let panel = {\r\n                    data: this.config,\r\n                    items: []\r\n                };\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-caption',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SETTINGS_TITLE')+' - '+this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_TEXT_NAME')},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    allowFormFields: true,\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_LABEL_TITLE'), fieldName: 'label', fieldVisibleName: 'labelHidden'},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_FIELD_NAME_TITLE'),\r\n                        fieldName: 'fieldName',\r\n                        live: false,\r\n                        readonly: this.config.systemId>0,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-selectbox-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_IBLOCK_SECTION_TYPE_TITLE'),\r\n                        type: 'radio',\r\n                        values: [\r\n                            {\r\n                                value: 'DROP_DOWN',\r\n                                text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_IBLOCK_SECTION_DROP_DOWN'),\r\n                            },\r\n                            {\r\n                                value: 'DROP_DOWN_PICTURE',\r\n                                text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_IBLOCK_SECTION_DROP_DOWN_WITH_PICTURE'),\r\n                            },\r\n                        ],\r\n                        fieldName: 'type'\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    id: 'filter',\r\n                    name: 'devbx-webform-iblock-section-filter-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_IBLOCK_SECTION_FILTER_TITLE'),\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_IBLOCK_SECTION_POPUP_FILTER_TITLE'),\r\n                        iblockIdFieldName: 'iblockId',\r\n                        filterFieldName: 'filter',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                if (this.sortFields.length)\r\n                {\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-selectbox-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_IBLOCK_SECTION_SORT_FIELD1_TITLE'),\r\n                            type: 'select',\r\n                            values: this.sortFields,\r\n                            fieldName: 'sortField1',\r\n                        },\r\n                    });\r\n\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-selectbox-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_IBLOCK_SECTION_SORT_ORDER1_TITLE'),\r\n                            type: 'select',\r\n                            values: this.sortOrderValues,\r\n                            fieldName: 'sortOrder1',\r\n                        },\r\n                    });\r\n\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-selectbox-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_IBLOCK_SECTION_SORT_FIELD2_TITLE'),\r\n                            type: 'select',\r\n                            values: this.sortFields,\r\n                            fieldName: 'sortField2',\r\n                        },\r\n                    });\r\n\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-selectbox-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_IBLOCK_SECTION_SORT_ORDER2_TITLE'),\r\n                            type: 'select',\r\n                            values: this.sortOrderValues,\r\n                            fieldName: 'sortOrder2',\r\n                        },\r\n                    });\r\n                }\r\n\r\n                if (this.config.type === 'DROP_DOWN_PICTURE' && this.pictureFields.length)\r\n                {\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-selectbox-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_IBLOCK_SECTION_PICTURE_FIELD_TITLE'),\r\n                            type: 'select',\r\n                            values: this.pictureFields,\r\n                            fieldName: 'pictureField',\r\n                        },\r\n                    });\r\n                }\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_PLACEHOLDER_TITLE'), fieldName: 'placeholder'},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-html-field',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_HELP_TEXT_TITLE'), fieldName: 'helpText'},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SHOW_THIS_FIELD_TITLE'),\r\n                        fieldName: 'showRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'always',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_REQUIRE_THIS_FIELD_TITLE'),\r\n                        fieldName: 'requireRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_REQUIRE_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_READ_ONLY_THIS_FIELD_TITLE'),\r\n                        fieldName: 'readOnlyRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_READ_ONLY_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SHOW_CUSTOM_ERROR_TITLE'),\r\n                        fieldName: 'showCustomError',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_CUSTOM_ERROR_TITLE'),\r\n                        defaultValue: 'never',\r\n                        condFields: this.$root.formFields,\r\n                        options: ['never', 'when']\r\n                    },\r\n                });\r\n\r\n                if (this.config.showCustomError.value === 'when' && this.config.showCustomError.code)\r\n                {\r\n                    panel.items.push({\r\n                        name: 'devbx-webform-text-field',\r\n                        props: {\r\n                            title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CUSTOM_ERROR_TITLE'),\r\n                            fieldName: 'customError',\r\n                            live: false,\r\n                        },\r\n                    });\r\n                }\r\n\r\n                return panel;\r\n            },\r\n        },\r\n        methods: {\r\n            getFieldLabel(name)\r\n            {\r\n                if (this.config.iblockId<=0)\r\n                    return name;\r\n\r\n                let fields = this.$store.getters.iblockSectionFields(this.config.iblockId),\r\n                    field = false;\r\n\r\n                if (!Array.isArray(fields)) {\r\n                    this.$store.dispatch('getIblockSectionFields', this.config.iblockId);\r\n\r\n                    return name;\r\n                }\r\n\r\n                fields.every(f => {\r\n                    if (f.name === name)\r\n                        field = f;\r\n\r\n                    return !field;\r\n                });\r\n\r\n                if (!field || !field.label)\r\n                    return name;\r\n\r\n                return field.label;\r\n            },\r\n\r\n            getFields()\r\n            {\r\n                return [\r\n                    {\r\n                        name: this.config.fieldName+'.ID',\r\n                        label: this.config.label+' - '+this.getFieldLabel('ID'),\r\n                        type: 'number',\r\n                    },\r\n                    {\r\n                        name: this.config.fieldName+'.NAME',\r\n                        label: this.config.label+' - '+this.getFieldLabel('NAME'),\r\n                        type: 'string',\r\n                    },\r\n                ];\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-layout-field\">\r\n        <div class=\"devbx-webform-layout-label\" :class=\"{'devbx-webform-layout-label-hidden': config.labelHidden}\">\r\n            <p v-html=\"labelFormatted\"></p>\r\n        </div>\r\n        \r\n            <div class=\"devbx-webform-layout-control devbx-webform-layout-choice-drop-down\" \r\n                v-if=\"config.type == 'DROP_DOWN' || config.type == 'DROP_DOWN_PICTURE'\">\r\n                <span>\r\n                    <i class=\"fa fa-list-ul\"></i>\r\n                    <span v-if=\"config.placeholder\" class=\"devbx-webform-layout-placeholder\">\r\n                        {{config.placeholder}}                \r\n                    </span>\r\n                    <span v-else class=\"devbx-webform-layout-placeholder\">\r\n                        {{defaultPlaceholder}}                \r\n                    </span>\r\n                </span>\r\n                <div class=\"devbx-webform-layout-dropdown-button\"><i class=\"fa fa-chevron-down\"></i></div>\r\n            </div>\r\n        \r\n        \r\n        <div class=\"devbx-webform-layout-helptext\" v-if=\"config.helpText.length>0\">\r\n            <p v-html=\"helpTextFormatted\"></p>\r\n        </div>\r\n    </div>\r\n    `\r\n    });\r\n});","import './devbx.form.layout.section.css';\r\nimport fieldMixin from \"./field.mixin\";\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-form-layout-section', {\r\n        mixins: [fieldMixin],\r\n        data() {\r\n            return {\r\n                childLayout: false\r\n            };\r\n        },\r\n        computed: {\r\n            panelItems() {\r\n                let panel = {\r\n                    data: this.config,\r\n                    items: []\r\n                };\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-caption',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SETTINGS_TITLE') + ' - ' + this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SECTION_NAME')},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_FIELD_NAME_TITLE'),\r\n                        fieldName: 'fieldName',\r\n                        live: false\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    allowFormFields: true,\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_LABEL_TITLE'),\r\n                        fieldName: 'label',\r\n                        fieldVisibleName: 'labelHidden'\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-html-field',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_HELP_TEXT_TITLE'), fieldName: 'helpText'},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SHOW_THIS_FIELD_TITLE'),\r\n                        fieldName: 'showRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'always',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                return panel;\r\n            },\r\n        },\r\n        watch: {\r\n            'item.size': function (val) {\r\n                this.childLayout.maxRowSize = val;\r\n                this.childLayout.checkAlignmentItems();\r\n            },\r\n        },\r\n        methods: {\r\n            saveConfig() {\r\n                this.config.layout = this.childLayout.getData();\r\n            }\r\n        },\r\n\r\n        created() {\r\n            this.childLayout = this.$root.layoutItems.addLayout(this.item.size);\r\n            this.childLayout.parent = this.page;\r\n            this.item.childLayout = this.childLayout;\r\n\r\n            this.childLayout.setData(this.config.layout);\r\n            this.childLayout.checkAlignmentItems();\r\n        },\r\n\r\n        unmounted() {\r\n            this.saveConfig();\r\n            this.$root.layoutItems.deleteLayout(this.childLayout);\r\n        },\r\n\r\n        template: `\r\n    <div class=\"devbx-webform-layout-section\">\r\n        <div class=\"devbx-webform-layout-label\" :class=\"{'devbx-webform-layout-label-hidden': config.labelHidden}\">\r\n            <p v-html=\"labelFormatted\"></p>\r\n        </div>\r\n        <div class=\"devbx-webform-layout-helptext\" v-if=\"config.helpText.length>0\">\r\n            <p v-html=\"helpTextFormatted\"></p>\r\n        </div>\r\n        <div class=\"devbx-webform-layout-section-container\">\r\n            <devbx-webform-form-row v-for=\"(row, index) in childLayout.rows\" :key=\"row.id\" v-bind:page=\"childLayout\" v-bind:row=\"row\"/>\r\n        </div>\r\n    </div>\r\n    `\r\n    });\r\n});","import './devbx.form.layout.content.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-form-layout-content', {\r\n        props: ['page', 'item', 'row', 'active', 'config'],\r\n\r\n        data() {\r\n            return {};\r\n        },\r\n\r\n        computed: {\r\n            contentFormatted() {\r\n                return this.$root.htmlFormatFields(this.config.content);\r\n            },\r\n\r\n            panelItems() {\r\n                let panel = {\r\n                    data: this.config,\r\n                    items: []\r\n                };\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-caption',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SETTINGS_TITLE') + ' - ' + this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CONTENT_NAME')},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-html-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_CONTENT_TITLE'),\r\n                        fieldName: 'content',\r\n                        'editorConfig': 'full'\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SHOW_THIS_FIELD_TITLE'),\r\n                        fieldName: 'showRule',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_THIS_FIELD_TITLE'),\r\n                        defaultValue: 'always',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                return panel;\r\n            },\r\n        },\r\n\r\n        template: `\r\n    <div class=\"devbx-webform-layout-section\">\r\n        <div class=\"devbx-webform-layout-content\" v-html=\"contentFormatted\">\r\n        </div>\r\n    </div>\r\n    `\r\n    });\r\n\r\n});","import './devbx.webform.pages.actions.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-pages-actions', {\r\n        props: ['pages'],\r\n        data() {\r\n            return {\r\n                dragPage: false,\r\n                settingsPageId: false,\r\n                systemId: 'pages-actions'\r\n            };\r\n        },\r\n        mounted() {\r\n            this.$root.registerSystemWebFormItem(this.systemId, this);\r\n        },\r\n\r\n        beforeUnmount() {\r\n            this.$root.unRegisterSystemWebFormItem(this.systemId);\r\n\r\n            if (this.popup) {\r\n                this.popup.destroy();\r\n            }\r\n        },\r\n        methods: {\r\n            saveWebForm() {\r\n                alert('save');\r\n            },\r\n\r\n            getPageTitle(page) {\r\n                let index = this.pages.items.indexOf(page);\r\n\r\n                return this.$root.formatString(this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_NAVIGATION_PAGE_TITLE'), '#NUM#', index + 1)\r\n            },\r\n\r\n            addNewPage() {\r\n                this.$root.activePageId = this.$root.addPage().id;\r\n            },\r\n\r\n            deletePage(page) {\r\n                let idx = this.pages.items.indexOf(page);\r\n\r\n                if (idx < 0)\r\n                    return;\r\n\r\n                if (page.haveUserFieldItems()) {\r\n                    this.askPageDelete(page);\r\n                } else {\r\n                    this.deleteConfirmedPage(page);\r\n                }\r\n            },\r\n\r\n            askPageDelete(page) {\r\n                if (this.popup) {\r\n                    this.popup.close();\r\n                    return;\r\n                }\r\n\r\n                this.$root.createPopupWindow({\r\n                    titleBar: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_DIALOG_DELETE_PAGE_TITLE'),\r\n                    content: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_DIALOG_CONFIRM_DELETE_NON_EMPTY_PAGE'),\r\n                    buttons: [\r\n                        new BX.PopupWindowButton({\r\n                            text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_DIALOG_BTN_DELETE_TITLE'),\r\n                            className: \"popup-window-button-accept\",\r\n                            events: {\r\n                                click: BX.delegate(function () {\r\n                                    this.$root.closePopup();\r\n                                    this.deleteConfirmedPage(page);\r\n                                }, this)\r\n                            }\r\n                        }),\r\n                        new BX.PopupWindowButton({\r\n                            text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_DIALOG_BTN_CANCEL_TITLE'),\r\n                            className: \"popup-window-button-link popup-window-button-link-cancel\",\r\n                            events: {\r\n                                click: BX.delegate(function () {\r\n                                    this.$root.closePopup();\r\n                                }, this)\r\n                            }\r\n                        })\r\n\r\n                    ],\r\n                });\r\n            },\r\n\r\n            deleteConfirmedPage(page) {\r\n                let idx = this.pages.items.indexOf(page);\r\n\r\n                if (idx < 0)\r\n                    return;\r\n\r\n                this.pages.deleteLayout(page);\r\n\r\n                let self = this;\r\n\r\n                setTimeout(function () {\r\n                    if (self.pages.items.length >= idx) {\r\n                        self.$root.activePageId = self.pages.items[self.pages.items.length - 1].id;\r\n                    } else {\r\n                        self.$root.activePageId = self.pages.items[idx].id;\r\n                    }\r\n\r\n                    this.settingsPageId = self.$root.activePageId;\r\n                }, 0);\r\n            },\r\n\r\n            setActivePage(pageId) {\r\n                this.$root.activePageId = pageId;\r\n            },\r\n\r\n            dragEnter(event, page) {\r\n                if (this.dragPage) {\r\n                    event.preventDefault();\r\n\r\n                    if (this.dragPage === page)\r\n                        return;\r\n\r\n                    let oldIndex = this.pages.items.indexOf(this.dragPage),\r\n                        newIndex = this.pages.items.indexOf(page);\r\n\r\n                    this.pages.items.splice(oldIndex, 1);\r\n                    this.pages.items.splice(newIndex, 0, this.dragPage);\r\n\r\n                } else {\r\n                    this.$root.activePageId = page.id;\r\n                }\r\n            },\r\n\r\n            dragOver(event, page) {\r\n                if (this.dragPage) {\r\n                    event.preventDefault();\r\n                } else {\r\n                    this.$root.activePageId = page.id;\r\n                }\r\n            },\r\n\r\n            dragStart(event, page) {\r\n                this.dragPage = page;\r\n            },\r\n\r\n            dragEnd(event, page) {\r\n                this.$root.activePageId = page.id;\r\n            },\r\n\r\n            drop() {\r\n            },\r\n\r\n            showPageSettings(page) {\r\n                this.settingsPageId = page.id;\r\n                this.$root.activeId = this.systemId;\r\n            },\r\n        },\r\n        computed: {\r\n            activePageId() {\r\n                return this.$root.activePageId;\r\n            },\r\n\r\n            panelItems() {\r\n                let page = this.$root.pages.getLayoutById(this.settingsPageId);\r\n\r\n                if (!page)\r\n                    return false;\r\n\r\n                let panel = {\r\n                    data: page.config,\r\n                    items: [],\r\n                };\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-caption',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FORM_PAGE_SETTINGS_TITLE')},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_SETTINGS_WEB_FORM_TITLE'),\r\n                        fieldName: 'pageTitle', trim: true\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-html-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_SETTINGS_WEB_FORM_DESCRIPTION_TITLE'),\r\n                        fieldName: 'pageDescription'\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_SHOW_PAGE_TITLE'),\r\n                        fieldName: 'showPage',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_PAGE_TITLE'),\r\n                        defaultValue: 'always',\r\n                        condFields: this.$root.formFields,\r\n                    },\r\n                });\r\n\r\n                return panel;\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-pages-actions\">\r\n        \r\n        <div class=\"devbx-webform-page-actions\">\r\n            <span class=\"devbx-webform-page-button\"\r\n            draggable=\"true\"\r\n            @dragstart=\"dragStart($event, page)\" @dragend=\"dragEnd($event, page)\" @drop=\"drop\"\r\n            @dragenter=\"dragEnter($event, page)\" @dragover=\"dragOver($event, page)\"\r\n            \r\n            :class=\"{'devbx-webform-page-button-active': activePageId == page.id}\" \r\n            v-for=\"page in pages.items\" @click=\"setActivePage(page.id)\" :key=\"page.id\">\r\n                <span class=\"devbx-webform-page-settings\" @click.stop.prevent=\"showPageSettings(page)\"><i class=\"fa fa-cog\"></i></span>\r\n                <span class=\"devbx-webform-page-title\">{{getPageTitle(page)}}</span>\r\n                <span class=\"devbx-webform-page-delete\" v-if=\"pages.items.length>1\" @click.stop.prevent=\"deletePage(page)\"><i class=\"fa fa-close\"></i></span>            \r\n            </span>\r\n            \r\n            <span class=\"devbx-webform-page-button\" @click=\"addNewPage\">\r\n                &nbsp;<span class=\"devbx-webform-page-add\"><i class=\"fa fa-plus\"></i></span>            \r\n            </span>\r\n        </div>\r\n    </div>\r\n    `\r\n    });\r\n});","import './devbx.webform.form.actions.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-form-actions', {\r\n        props: ['page', 'formActions'],\r\n        computed: {\r\n            hasPrevPage() {\r\n                return this.$root.pages.items.indexOf(this.page) > 0;\r\n            },\r\n\r\n            hasNextPage() {\r\n                return this.$root.pages.items.indexOf(this.page) < this.$root.pages.items.length - 1;\r\n            },\r\n\r\n            isFinishPage() {\r\n                return this.$root.pages.items.indexOf(this.page) === this.$root.pages.items.length - 1;\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-form-actions\">\r\n           <devbx-webform-form-prev-page-button v-if=\"hasPrevPage\" :page=\"page\" :button-id=\"'prev-page-'+page.id\"></devbx-webform-form-prev-page-button>\r\n           <devbx-webform-form-next-page-button v-if=\"hasNextPage\" :page=\"page\" :button-id=\"'next-page-'+page.id\"></devbx-webform-form-next-page-button>\r\n           <devbx-webform-form-submit-button v-if=\"isFinishPage\" v-for=\"(formAction, index) in formActions\"\r\n           :key=\"index\" \r\n           :button-id=\"'form-action-'+index\"\r\n           :form-action=\"formAction\"></devbx-webform-form-submit-button>\r\n    </div>\r\n    `\r\n    });\r\n});","BX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-form-prev-page-button', {\r\n        props: ['page', 'buttonId'],\r\n        mounted() {\r\n            this.$root.registerSystemWebFormItem(this.buttonId, this);\r\n        },\r\n\r\n        beforeUnmount() {\r\n            this.$root.unRegisterSystemWebFormItem(this.buttonId);\r\n        },\r\n\r\n        methods: {\r\n            onClick() {\r\n                this.$root.activeId = this.buttonId;\r\n            },\r\n        },\r\n\r\n        computed: {\r\n            isActive() {\r\n                return this.$root.activeId == this.buttonId;\r\n            },\r\n\r\n            panelItems() {\r\n                let panel = {\r\n                    data: this.page.config,\r\n                    items: [],\r\n                };\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-caption',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FORM_ACTION_SETTINGS_TITLE')},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FORM_ACTION_BUTTON_TITLE'), fieldName: 'prevButtonText',\r\n                        trim: true, defaultValue: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_PREV_PAGE_TITLE')\r\n                    },\r\n                });\r\n\r\n                return panel;\r\n            },\r\n        },\r\n\r\n        template: `\r\n    <div class=\"devbx-webform-form-action\" :class=\"{'devbx-webform-form-action-active': isActive}\" @click=\"onClick\">\r\n        <div class=\"devbx-webform-form-button\">\r\n            <div class=\"devbx-webform-form-button-text\">{{page.config.prevButtonText}}</div>\r\n        </div>\r\n    </div>\r\n    `\r\n    });\r\n});","BX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-form-next-page-button', {\r\n        props: ['page', 'buttonId'],\r\n        mounted() {\r\n            this.$root.registerSystemWebFormItem(this.buttonId, this);\r\n        },\r\n\r\n        beforeUnmount() {\r\n            this.$root.unRegisterSystemWebFormItem(this.buttonId);\r\n        },\r\n\r\n        methods: {\r\n            onClick() {\r\n                this.$root.activeId = this.buttonId;\r\n            },\r\n        },\r\n\r\n        computed: {\r\n            isActive() {\r\n                return this.$root.activeId == this.buttonId;\r\n            },\r\n\r\n            panelItems() {\r\n                let panel = {\r\n                    data: this.page.config,\r\n                    items: [],\r\n                };\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-caption',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FORM_ACTION_SETTINGS_TITLE')},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FORM_ACTION_BUTTON_TITLE'), fieldName: 'nextButtonText',\r\n                        trim: true, defaultValue: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_NEXT_PAGE_TITLE')\r\n                    },\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-condition',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FIELD_SHOW_NEXT_PAGE_TITLE'),\r\n                        fieldName: 'showNextButton',\r\n                        wizardTitle: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_COND_WIZARD_SHOW_NEXT_PAGE_TITLE'),\r\n                        defaultValue: 'always',\r\n                    },\r\n                });\r\n\r\n                return panel;\r\n            },\r\n        },\r\n\r\n        template: `\r\n    <div class=\"devbx-webform-form-action\" :class=\"{'devbx-webform-form-action-active': isActive}\" @click=\"onClick\">\r\n        <div class=\"devbx-webform-form-button\">\r\n            <div class=\"devbx-webform-form-button-text\">{{page.config.nextButtonText}}</div>\r\n        </div>\r\n    </div>\r\n    `\r\n    });\r\n});","BX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-form-submit-button', {\r\n        props: ['formAction', 'buttonId'],\r\n        mounted() {\r\n            this.$root.registerSystemWebFormItem(this.buttonId, this);\r\n        },\r\n\r\n        beforeUnmount() {\r\n            this.$root.unRegisterSystemWebFormItem(this.buttonId);\r\n        },\r\n\r\n        methods: {\r\n            onClick() {\r\n                this.$root.activeId = this.buttonId;\r\n            },\r\n        },\r\n\r\n        computed: {\r\n            isActive() {\r\n                return this.$root.activeId == this.buttonId;\r\n            },\r\n\r\n            panelItems() {\r\n                let panel = {\r\n                    data: this.formAction,\r\n                    items: [],\r\n                };\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-caption',\r\n                    props: {title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FORM_ACTION_SETTINGS_TITLE')},\r\n                });\r\n\r\n                panel.items.push({\r\n                    name: 'devbx-webform-text-field',\r\n                    props: {\r\n                        title: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_FORM_ACTION_BUTTON_TITLE'), fieldName: 'title',\r\n                        trim: true, defaultValue: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_SUBMIT_ACTION_TITLE')\r\n                    },\r\n                });\r\n\r\n                return panel;\r\n            },\r\n        },\r\n\r\n        template: `\r\n    <div class=\"devbx-webform-form-action\" :class=\"{'devbx-webform-form-action-active': isActive}\" @click=\"onClick\">\r\n        <div class=\"devbx-webform-form-button\">\r\n            <div class=\"devbx-webform-form-button-text\">{{formAction.title}}</div>\r\n        </div>\r\n    </div>\r\n    `\r\n    });\r\n});","import './devbx.webform.public.admin.panel.css';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-webform-public-admin-panel', {\r\n        data() {\r\n            return {\r\n                validation: true,\r\n            };\r\n        },\r\n        mounted() {\r\n            let popup = BX.PopupWindowManager.getPopupById(this.$parent.popupId);\r\n            popup.contentContainer.appendChild(this.$el);\r\n        },\r\n        watch: {\r\n            validation(val) {\r\n                this.$parent.previewIframe.contentWindow.webForm.validation = val;\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-public-admin-panel\">\r\n        <div class=\"devbx-webform-public-admin-panel-items\">\r\n            <label>\r\n                {{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_PUBLIC_ADMIN_JS_VALIDATION')}}\r\n                <input type=\"checkbox\" v-model=\"validation\">\r\n            </label>\r\n        </div>            \r\n    </div>\r\n    `\r\n    });\r\n});","import './devbx.webform.admin.actions.css';\r\nimport './devbx.webform.public.admin.panel';\r\n\r\nBX.addCustomEvent(\"DevBxWebFormCreatedAdminMaster\", function(app) {\r\n    app.component('devbx-form-admin-actions', {\r\n        data() {\r\n            return {\r\n                popupId: false,\r\n                previewIframe: false,\r\n                waitResponse: false,\r\n            }\r\n        },\r\n        beforeUnmount() {\r\n            this.closePopup();\r\n        },\r\n        methods: {\r\n            saveForm() {\r\n                if (this.waitResponse)\r\n                    return;\r\n\r\n                let postData = {\r\n                    lang: BX.message('LANGUAGE_ID'),\r\n                    webForm: JSON.stringify(this.$root.getWebFormData()),\r\n                    webFormConfig: JSON.stringify(this.$root.config),\r\n                };\r\n\r\n                postData.webFormId = this.$root.webFormId ? this.$root.webFormId : 0;\r\n\r\n                this.waitResponse = true;\r\n\r\n                BX.ajax.runAction('devbx:forms.api.webform.saveWebForm', {\r\n                    data: postData\r\n                }).then(\r\n                    BX.delegate(this.saveWebFormSuccess, this),\r\n                    BX.delegate(this.responseError, this),\r\n                );\r\n            },\r\n\r\n            saveWebFormSuccess(response) {\r\n                this.waitResponse = false;\r\n\r\n                if (response.data.webFormId) {\r\n                    this.$root.webFormId = response.data.webFormId;\r\n                }\r\n\r\n                if (response.data.fields) {\r\n\r\n                    let formFields = this.$root.getAllFieldsByFieldName();\r\n\r\n                    response.data.fields.forEach(field => {\r\n                        let formField = formFields[field.config.fieldName];\r\n\r\n                        if (formField) {\r\n                            Object.keys(field.config).forEach(key => {\r\n                                formField.config[key] = field.config[key];\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n\r\n            },\r\n\r\n            responseError(response) {\r\n                this.waitResponse = false;\r\n\r\n                if (response.errors) {\r\n                    this.$root.showPopupError(response.errors);\r\n                }\r\n\r\n            },\r\n\r\n            previewForm() {\r\n                if (this.waitResponse)\r\n                    return;\r\n\r\n                let postData = {\r\n                    lang: BX.message('LANGUAGE_ID'),\r\n                    webForm: JSON.stringify(this.$root.getWebFormData()),\r\n                };\r\n\r\n                postData.webFormId = this.$root.webFormId ? this.$root.webFormId : 0;\r\n\r\n                this.waitResponse = true;\r\n\r\n                BX.ajax.runAction('devbx:forms.api.webform.previewWebForm', {\r\n                    data: postData\r\n                }).then(\r\n                    BX.delegate(this.previewWebFormSuccess, this),\r\n                    BX.delegate(this.responseError, this),\r\n                );\r\n            },\r\n\r\n            previewWebFormSuccess(response) {\r\n                this.waitResponse = false;\r\n\r\n                if (this.popupId) {\r\n                    this.closePopup();\r\n                }\r\n\r\n\r\n                /** @file /bitrix/js/main/popup/src/popup/popup.js */\r\n\r\n                let options = {\r\n                    autoHide: false,\r\n                    draggable: false,\r\n                    closeByEsc: false,\r\n                    closeIcon: true,\r\n                    fixed: true,\r\n                    overlay: {\r\n                        backgroundColor: 'black',\r\n                        opacity: '80'\r\n                    },\r\n                    offsetLeft: 0,\r\n                    offsetTop: 0,\r\n                    bindOptions: {forceBindPosition: false},\r\n                    //bindOnResize: true,\r\n                    titleBar: this.wizardTitle,\r\n                    content: '',\r\n                    className: 'devbx-webform-preview',\r\n                    minWidth: 820,\r\n                    minHeight: 680,\r\n                    maxWidth: 820,\r\n                    maxHeight: 680,\r\n                    events: {\r\n                        onPopupClose: BX.delegate(this.onPopupClose, this),\r\n                        onPopupDestroy: BX.delegate(this.onPopupDestroy, this),\r\n                    },\r\n                    buttons: [\r\n                        new BX.PopupWindowButton({\r\n                            text: this.$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_DIALOG_BTN_CLOSE_TITLE'),\r\n                            className: \"popup-window-button-link popup-window-button-link-cancel\",\r\n                            events: {\r\n                                click: BX.delegate(this.closePopup, this)\r\n                            }\r\n                        }),\r\n                    ],\r\n                };\r\n\r\n                let popupId = \"DevBxFormsPreviewWebFormPopup\";\r\n\r\n                let popup = new BX.PopupWindow(\r\n                    popupId,\r\n                    null,\r\n                    options\r\n                );\r\n\r\n                let container = document.createElement('div');\r\n\r\n                this.previewIframe = document.createElement('iframe');\r\n\r\n                container.classList.add('devbx-webform-preview-container');\r\n                popup.contentContainer.appendChild(container);\r\n\r\n                container.appendChild(this.previewIframe);\r\n\r\n                this.previewIframe.name = 'preview';\r\n                this.previewIframe.style.width = '100%';\r\n                this.previewIframe.style.height = '100%';\r\n                this.previewIframe.style.overflowX = 'hidden';\r\n                this.previewIframe.style.overflowY = 'hidden';\r\n\r\n                this.previewIframe.contentWindow.document.open();\r\n                this.previewIframe.contentWindow.document.write(response.data.content);\r\n                this.previewIframe.contentWindow.document.close();\r\n\r\n                popup.show();\r\n\r\n                this.popupId = popupId;\r\n            },\r\n\r\n            closePopup() {\r\n                if (this.popupId)\r\n                {\r\n                    let popup = BX.PopupWindowManager.getPopupById(this.popupId);\r\n                    if (popup)\r\n                    {\r\n                        popup.close();\r\n                    }\r\n\r\n                    this.popupId = false;\r\n                }\r\n            },\r\n\r\n            onPopupClose(popup) {\r\n                this.previewIframe = false;\r\n                popup.destroy();\r\n            },\r\n\r\n            onPopupDestroy() {\r\n                this.popupId = false;\r\n            },\r\n        },\r\n        template: `\r\n    <div class=\"devbx-webform-admin-actions\">\r\n        <button class=\"ui-btn ui-btn-secondary\"\r\n            :class=\"{'ui-btn-disabled': waitResponse}\" \r\n            type=\"button\" @click.prevent.stop=\"previewForm\">{{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_BTN_FORM_PREVIEW')}}</button>\r\n        <button class=\"ui-btn ui-btn-primary\"\r\n            :class=\"{'ui-btn-disabled': waitResponse}\"\r\n            type=\"button\" @click.prevent.stop=\"saveForm\">{{$Bitrix.Loc.getMessage('DEVBX_WEB_FORM_BTN_FORM_SAVE')}}</button>\r\n            \r\n            <devbx-webform-public-admin-panel v-if=\"popupId\"></devbx-webform-public-admin-panel>\r\n    </div>\r\n    `\r\n    });\r\n\r\n});"],"names":["WebFormLayoutItems","app","items","maxRowSize","config","layout","WebFormLayout","push","idx","indexOf","console","error","deleteLayoutByIndex","index","length","splice","beforeDestroy","result","forEach","page","pageNum","rows","row","rowNum","id","full","every","item","getFields","WebFormPages","layoutItems","addLayout","deleteLayout","_app","_id","getNewItemId","_rows","_maxRowSize","_config","_parent","_children","child","parent","Error","WebFormRow","deleteRowByIndex","leftCell","itemEmptyCell","template","emptyCellTemplate","size","delayRemoveItem","newSize","minSize","getNewEmptyCell","setParent","i","addRow","lastRow","activeId","component","childLayout","containsItemId","data","JSON","parse","stringify","rowData","saveConfig","fieldId","formElement","getFormElementById","props","Object","assign","defaultConfig","rowItem","createItem","layoutTemplate","checkFieldName","_getItemsRecursive","getAllItemsWithParent","getAllItems","value","removeChild","addChild","deleteRow","excludeIndex","Math","max","fromItemIndex","needSpace","left","releasedSpace","min","rowReleaseSpace","checkPageItems","self","$nextTick","field","getLayoutItemById","rowReleaseSpaceBoth","getRowMaxReleaseSpace","emptyCell","checkItems","setTimeout","offset","pos","BX","Vue3","reactive","WebFormItem","trace","deleteItemByIndex","fields","deleteItem","direction","parseInt","isNaN","cell","getItemByCellOffset","hasOwnProperty","fieldName","replace","charAt","match","toUpperCase","slice","fieldNameTpl","fieldNum","obFields","getAllFieldsByFieldName","createWebFormMaster","params","formElements","group","BitrixVue","createApp","culture","defaultEntity","userGroups","formSettings","formActions","finishPage","finishPageCond","systemWebFormItem","resizeItemId","pages","activePageId","tmpId","dragItemId","resizeEvents","clipboardItemId","clipboardOperation","content","webFormId","dragData","webFormComponent","watch","val","$el","parentNode","focus","oldVal","oldPage","getLayoutById","newPage","pageItemActiveId","mouseUp","event","mouseMove","document","addEventListener","name","func","removeEventListener","activeFormComponent","showPanel","storeErrors","handler","$store","commit","showPopupError","deep","mounted","getDefaultFormSettings","getDefaultFormActions","getDefaultFinishPage","addPage","methods","title","$Bitrix","Loc","getMessage","titleHidden","description","code","progressBar","showPageTitles","action","getDefaultPageConfig","emptyItem","deleteBlur","info","elRow","closest","rowRect","getBoundingClientRect","cellWidth","width","floor","clientX","x","rightCell","leftItem","rightItem","newLeftSize","newRightSize","getItemById","getPageById","checkAlignmentItems","itemId","timeout","deleteItemById","systemId","popupId","createPopupWindow","titleBar","buttons","PopupWindowButton","text","className","events","click","delegate","closePopup","deleteItemByIdConfirmed","pasteItemFromClipboard","destCell","clipboardCell","excludeItems","registerSystemWebFormItem","unRegisterSystemWebFormItem","getWebFormData","getData","setWebFormData","Array","isArray","dataPage","setData","formatString","str","search","toString","s","replaceAll","getDefaultPopupButtons","options","popup","PopupWindowManager","getPopupById","close","defOptions","autoHide","draggable","closeByEsc","overlay","backgroundColor","opacity","offsetLeft","offsetTop","bindOptions","forceBindPosition","onPopupClose","onPopupDestroy","PopupWindow","show","destroy","e","message","join","closeIcon","minWidth","htmlFormatFields","html","formFieldByName","ind","util","htmlspecialchars","label","getComponentsByName","childItems","$children","$options","computed","activeCellSize","dragItemIsActive","formFields","state","errors","onCustomEvent","addCustomEvent","store","Vuex","createStore","iblockType","iblockList","iblockSectionFields","mutations","setIblockData","setIblockSectionFields","iblockId","addError","clearErrors","actions","getIblockList","context","postData","lang","ajax","runAction","then","response","getIblockSectionFields","getters","undefined","use","onAction","$root","isHover","beforeUnmount","onClick","mouseEnter","mouseLeave","getPageTitle","pageTitle","pagePassed","activePage","isSelected","progressPercent","titleFormatted","descriptionFormatted","pageDescriptionFormatted","pageDescription","panelItems","panel","fieldVisibleName","trim","defaultValue","type","values","userGroupsById","viewUserGroupsValue","viewGroups","writeUserGroupsValue","writeGroups","selectValue","removeValue","sort","required","Number","addFinishPage","activeItemId","sortedItems","a","b","activeItem","clickItem","panelTop","navigationTop","navigationHidden","hashCode","hash","chr","charCodeAt","activeComponent","$","uid","webFormRect","componentRect","y","abs","ceil","height","templateOld","updated","isActive","hoverId","elementClick","mouseDown","el","target","firstChild","__vueParentComponent","proxy","clickAddSpace","preventDefault","stopPropagation","insertFreeSpace","dblClick","prevSibling","freeSize","allowAddSpace","clickAddRowSpace","dragStart","dragEnd","keydown","toLowerCase","nextCell","getCellSelectItem","getCellAbove","getCellBelow","directives","selectable","binding","vnode","old","instance","unmounted","onInput","live","formData","onChange","setValue","remove","formValue","htmlEditorObj","regHtmlEditorId","blurTimeout","editorInitedBeforeHandler","editorCreatedHandler","changeContentHandler","getControlsMapHandler","getDevBxFormFieldsHandler","unwatchHandler","htmlEditorId","onEditorInitedBefore","editorCreated","contentChanged","getControlsMap","getDevBxFormFields","nextId","window","editorConfig","getHtmlEditorSuccess","getHtmlEditorError","removeCustomEvent","GetContent","Destroy","setWatch","ob","processHTML","css","js","$refs","edit","innerHTML","HTML","STYLE","loadCSS","processScripts","SCRIPT","editor","controlsMap","iframe","dom","iframeCont","contentDocument","head","insertAdjacentHTML","SetContent","synchro","FullSyncFromIframe","editorContent","log","getEditorClass","$watch","htmlEditor","String","Boolean","displayValueMin","getDisplayValue","fieldMinName","displayValueMax","fieldMaxName","numberThousandsSeparator","numberDecimalSeparator","decimalPlaces","parseFloat","toFixed","maxValue","minValue","allowEmpty","parts","split","dragItem","selectItem","targetIndex","checked","selected","multiple","setItemText","addItem","setItemValue","dragEnter","oldIndex","newIndex","dragOver","drop","readonly","displayValue","showSearch","searchValue","dropDownPosition","timer","bindEvent","focusIn","focusOut","documentClick","onResize","boundsCheck","setInterval","clearInterval","callback","searchOptions","searchText","option","inputWidth","rect","selValues","fakeInput","style","querySelectorAll","getDropDownPosition","focusInput","inputSearch","inp","topY","elList","valueList","listRect","body","clientHeight","position","top","$emit","toggleValue","contains","activeElement","keyCode","valueType","valueKey","valueTypeKey","labelKey","defaultValueType","curValueDisplayName","searchValueList","cssClass","input","MSLang","DevBX","WebFormCond","_type","formField","itemCond","nodeList","nType","NodeType","ntContextVariable","nValue","ntObjProp","WebFormCondString","quoteStr","getCondFunction","negative","fieldsByName","fieldResult","getFieldFromNodeList","ntExpressionCompare","CompareType","ctEqual","ctNotEqual","ntIFValue","ntString","funcMap","Contains","StartsWith","EndsWith","ntNegativeIf","ntSelfFuncCall","functionName","keys","ntFuncParam","isCompareField","bind","isCompareString","isCompareFunction","comp","WebFormCondArray","arCond","arValue","condition","convertArrayCondition","ntNumeric","ctGreat","ntSubExpression","subExpression","subPos","functions","remoteResult","f","call","ntCompareAnd","ntCompareOr","isArrayCompare","isArrayCondition","WebFormCondDate","date","Date","formatted","getFullYear","getMonth","padStart","getDate","ctLess","dateTime","parseDate","getTime","WebFormCondDateTime","getHours","getMinutes","getSeconds","time","WebFormCondTime","WebFormCondFiles","isFilesCompare","WebFormCondBoolean","isBooleanCompare","WebFormCondNumber","rightNodeType","WebFormCondConfig","_fieldsType","register","WebFormCondEnum","obj","groups","msg","arCode","fieldCond","fieldsType","getCode","parseFunctions","parseSubExpression","fieldType","getParseFunctions","selectedField","condFields","selectedFieldDataType","operationType","condConfig","conditions","selectedCondition","condHasComponent","addCond","removeCond","get","set","immediate","onSelect","map","selectedOptions","onRemove","itemKey","format","convertBitrixFormat","needValueType","showCalendar","calendar","node","icon","bTime","bHideTime","removeGroup","view","Forms","CodeMirror","EditorView","doc","extensions","basicSetup","javascript","condCode","dispatch","editorTr","tr","update","changes","empty","editCode","mode","created","$parent","contentContainer","appendChild","parsedGroups","parseCodeToGroup","checkGroupCond","addGroup","parseCode","lexer","CodeLexer","parser","CodeParser","LexerTypeArray","one","LexerType","ltEof","codeToWizardBuilder","obCond","convertGroupToCode","compileGroupCond","setMode","getCodeResult","rule","selectOptions","editRule","fixed","wizardTitle","maxWidth","maxHeight","saveCode","wizard","active","drag","newItem","defaultSize","replaceCell","freeSpace","getRowFreeSpace","selectedSubMenuId","updatePosition","panelActive","panelOptions","appRect","itemRect","panelWidth","insertFieldAbove","insertFieldBelow","insertFieldBefore","insertFieldAfter","nextItem","makeSmaller","makeBigger","allowJustifyRow","newItems","leftSize","leftCnt","justifyRow","cutItem","copyItem","itemAction","disabled","selectSubMenu","pasteItem","pasteItemAbove","pasteItemBelow","pasteItemBefore","copyCell","pasteItemAfter","disableInsertClipboard","t","appContext","components","k","children","subItems","hover","dragged","hint","iconClass","labelFormatted","helpTextFormatted","helpText","mixins","fieldMixin","defaultPlaceholder","allowFormFields","showCustomError","assignValues","choiceOptions","sel","opt","timeRangeValues","labelValueYes","customLabels","customLabelYes","labelValueNo","customLabelNo","visual","requited","iblockFields","availableIblockFields","condType","fieldError","valid","filter","getIblockItemsByType","iblockTypeId","iblockOptions","iblockIdFieldName","filterFieldName","editFilter","saveFilter","hasErrors","cond","availableFields","sortFields","pictureFields","sortOrderValues","getFieldLabel","contentFormatted","dragPage","settingsPageId","saveWebForm","alert","addNewPage","deletePage","haveUserFieldItems","askPageDelete","deleteConfirmedPage","setActivePage","pageId","showPageSettings","hasPrevPage","hasNextPage","isFinishPage","buttonId","formAction","validation","previewIframe","contentWindow","webForm","waitResponse","saveForm","webFormConfig","saveWebFormSuccess","responseError","key","previewForm","previewWebFormSuccess","minHeight","container","createElement","classList","add","overflowX","overflowY","open","write"],"mappings":"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"}